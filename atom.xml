<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>BoobooWei</title>
  
  <subtitle>A fast, simple &amp; powerful blog framework powered by Node.js.</subtitle>
  <link href="http://www.toberoot.com/atom.xml" rel="self"/>
  
  <link href="http://www.toberoot.com/"/>
  <updated>2025-10-22T15:36:59.134Z</updated>
  <id>http://www.toberoot.com/</id>
  
  <author>
    <name>é­äºšè</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>æƒ³è¾èŒï¼Œå¯æ˜¯åˆæ‹…å¿ƒé’±ä¸å¤Ÿ</title>
    <link href="http://www.toberoot.com/news/2025/10/22/%E6%97%B6%E9%9A%944%E5%B9%B4%E9%87%8D%E6%96%B0%E5%B0%86%E5%8D%9A%E5%AE%A2%E7%BB%B4%E6%8A%A4%E8%B5%B7%E6%9D%A5/"/>
    <id>http://www.toberoot.com/news/2025/10/22/%E6%97%B6%E9%9A%944%E5%B9%B4%E9%87%8D%E6%96%B0%E5%B0%86%E5%8D%9A%E5%AE%A2%E7%BB%B4%E6%8A%A4%E8%B5%B7%E6%9D%A5/</id>
    <published>2025-10-22T00:00:00.000Z</published>
    <updated>2025-10-22T15:36:59.134Z</updated>
    
    <content type="html"><![CDATA[<h2 id="è¿™4å¹´å¤šï¼Œåšå®¢å‡ ä¹æ²¡æœ‰ä»»ä½•æ›´æ–°"><a href="#è¿™4å¹´å¤šï¼Œåšå®¢å‡ ä¹æ²¡æœ‰ä»»ä½•æ›´æ–°" class="headerlink" title="è¿™4å¹´å¤šï¼Œåšå®¢å‡ ä¹æ²¡æœ‰ä»»ä½•æ›´æ–°~"></a>è¿™4å¹´å¤šï¼Œåšå®¢å‡ ä¹æ²¡æœ‰ä»»ä½•æ›´æ–°~</h2><p>å›é¡¾å·¥ä½œã€å­¦ä¹ ã€ç”Ÿæ´»ï¼Œåšäº†å¾ˆå¤šï¼Œä½†æ²‰æ·€å¾—å¾ˆå°‘ã€‚</p><p>å·¥ä½œçš„å¿™ï¼Œæ°¸æ— æ­¢å¢ƒã€‚</p><p>å­¦ä¹ çš„ä¹ï¼Œéœ€è¦è¿½æ±‚ã€‚</p><p>ç”Ÿæ´»çš„ç—›ï¼Œæ—¶é—´çœŸçš„èƒ½ç£¨å¹³å—ï¼Ÿ</p><p>22å¹´ï¼Œå…¨å®¶ç§»æ°‘æ–°åŠ å¡ï¼Œä¸€åˆ‡ä»é›¶å¼€å§‹ï¼›å¿™ç€å­©å­çš„å­¦æ ¡ï¼Œä»ç§ç«‹åˆ°å›½é™…å†åˆ°å…¬ç«‹å­¦æ ¡ã€‚</p><p>23å¹´ï¼Œå®¶äººè½¦ç¥¸ï¼Œä¸€æ­»ä¸€ä¼¤ï¼›å¥¶å¥¶æ°¸è¿œç¦»å¼€äº†ï¼Œè€Œå©†å©†é‡ä¼¤åœ¨å®¶èººäº†è¿‘ä¸€å¹´ã€‚ æˆ‘è‡ªå·±åšäº†ä¸ªå°æ‰‹æœ¯æ²¡æˆåŠŸåè€Œä½é™¢åå‡ å¤©ã€‚ã€‚ã€‚</p><p>24å¹´-25å¹´ï¼Œé™ªå¦ˆå¦ˆæŠ—ç™Œ400å¤©ï¼Œ25å¹´6æœˆ11æ—¥äº²çˆ±çš„å¦ˆå¦ˆå»å¤©ä¸Šåšä»™å¥³äº†ã€‚</p><p>å¦ˆå¦ˆç¦»å¼€åï¼Œç”Ÿæ´»ä¼¼ä¹å†ä¹Ÿå›ä¸åˆ°æ­£è½¨äº†ï¼Œé—´æ­‡æ€§å´©æºƒã€æ—¶è€Œç¬‘å˜»å˜»ã€æ—¶è€ŒæŠ½æ³£ã€åŒä¸–ã€‚</p><p>ä¹Ÿè®¸è¿™æ˜¯æˆ‘æœ€éš¾çš„æ—¶å…‰ï¼Œä¸€å®šè¦æŒºè¿‡å»ã€‚</p><h2 id="è€å¦ˆå»ä¸–åï¼Œæˆ‘ç»å¸¸æ€è€ƒå…³äºâ€œæˆåŠŸâ€çš„å®šä¹‰"><a href="#è€å¦ˆå»ä¸–åï¼Œæˆ‘ç»å¸¸æ€è€ƒå…³äºâ€œæˆåŠŸâ€çš„å®šä¹‰" class="headerlink" title="è€å¦ˆå»ä¸–åï¼Œæˆ‘ç»å¸¸æ€è€ƒå…³äºâ€œæˆåŠŸâ€çš„å®šä¹‰"></a>è€å¦ˆå»ä¸–åï¼Œæˆ‘ç»å¸¸æ€è€ƒå…³äºâ€œæˆåŠŸâ€çš„å®šä¹‰</h2><blockquote><p>â€œæˆåŠŸåªæœ‰ä¸€ä¸ªï¼ŒæŒ‰ç…§è‡ªå·±çš„æ–¹å¼å»åº¦è¿‡äººç”Ÿã€‚â€</p></blockquote><p>æ‰€è°“â€œæˆåŠŸâ€ï¼Œä¸æ˜¯åˆ«äººå®šä¹‰çš„è´¢å¯Œã€åå£°ã€åœ°ä½ï¼Œè€Œæ˜¯èƒ½æŒ‰ç…§è‡ªå·±çš„èŠ‚å¥ã€ä»·å€¼è§‚ã€å…´è¶£å»æ´»ï¼Œé‚£å°±æ˜¯æœ€å¤§çš„æˆåŠŸã€‚</p><p><strong>æˆ‘æ¸´æœ›çš„æ˜¯ä¸€ç§è‡ªåœ¨è€Œæ¾å¼›çš„ç”Ÿæ´»ã€‚</strong></p><p>å¤§éƒ¨åˆ†æ‰“å·¥äººå…¶å®å°±æ˜¯æŠŠæ—¶é—´ã€ç²¾åŠ›ã€æŠ€èƒ½ï¼Œæ¢å–è–ªæ°´ã€‚æ¢å¥è¯è¯´ï¼Œå°±æ˜¯ç”¨æœ‰é™çš„ç”Ÿå‘½å»æ¢ç¡®å®šçš„æ”¶å…¥ã€‚<br>è¿™ä¹Ÿè§£é‡Šäº†ä¸ºä»€ä¹ˆâ€œè‡ªç”±æŒæ¡æ—¶é—´â€ä¼šè®©äººæ„Ÿè§‰é‚£ä¹ˆå¥¢ä¾ˆã€‚å› ä¸ºåœ¨å·¥ä½œæ¨¡å¼é‡Œï¼Œæ—¶é—´ä¸å®Œå…¨å±äºæˆ‘ï¼Œè€Œæ˜¯è¢«é›‡ä¸»ã€ä»»åŠ¡ã€deadlineã€ä¼šè®®ã€KPI å æ®äº†ã€‚</p><h3 id="æƒ³è¾èŒï¼Œå¯æ˜¯åˆæ‹…å¿ƒé’±ä¸å¤Ÿã€‚"><a href="#æƒ³è¾èŒï¼Œå¯æ˜¯åˆæ‹…å¿ƒé’±ä¸å¤Ÿã€‚" class="headerlink" title="æƒ³è¾èŒï¼Œå¯æ˜¯åˆæ‹…å¿ƒé’±ä¸å¤Ÿã€‚"></a>æƒ³è¾èŒï¼Œå¯æ˜¯åˆæ‹…å¿ƒé’±ä¸å¤Ÿã€‚</h3><p>è¿™å°±æ˜¯å…¸å‹çš„<code>â€œç†æƒ³è‡ªç”± vs. ç”Ÿå­˜å®‰å…¨â€</code>çš„æ‹‰æ‰¯å‘€â€”â€”å‡ ä¹æ¯ä¸ªæƒ³è¾èŒçš„äººéƒ½ä¼šé‡åˆ°ã€‚æˆ‘ä¸€è¾¹æ¸´æœ›çœŸæ­£å±äºè‡ªå·±çš„ç”Ÿæ´»ï¼Œä¸€è¾¹åˆå®³æ€•è¾èŒåæ²¡äº†ç¨³å®šæ”¶å…¥ï¼Œæœªæ¥ä¸ç¡®å®šã€‚<br>æ¢å¥è¯è¯´ï¼Œæˆ‘çš„çŸ›ç›¾ä¸æ˜¯â€œä¸æƒ³å·¥ä½œâ€ï¼Œè€Œæ˜¯â€œä¸æƒ³è¢«é‡‘é’±å›°ä½â€ã€‚</p><p>å¦‚æœå®Œå…¨ä¸å·¥ä½œï¼Œæˆ‘å’Œå®¶äººèƒ½é å‚¨è“„&#x2F;æŠ•èµ„æ’‘å¤šä¹…ï¼Ÿ</p><p>æ¯”å¦‚è‡³å°‘è¦å‡†å¤‡xå¹´çš„ç”Ÿæ´»è´¹ï¼Œè¿™æ ·è¾èŒæ‰ä¸ä¼šæ¯å¤©éƒ½ç„¦è™‘ã€‚</p><h3 id="å¦‚æœæˆ‘çœŸçš„è¾èŒäº†ï¼Œæ‰‹é‡Œæœ‰ä¸€å¹´çš„ç”Ÿæ´»è´¹ï¼Œæˆ‘çš„ä¸€å¤©ä¼šè¿™ä¹ˆå®‰æ’"><a href="#å¦‚æœæˆ‘çœŸçš„è¾èŒäº†ï¼Œæ‰‹é‡Œæœ‰ä¸€å¹´çš„ç”Ÿæ´»è´¹ï¼Œæˆ‘çš„ä¸€å¤©ä¼šè¿™ä¹ˆå®‰æ’" class="headerlink" title="å¦‚æœæˆ‘çœŸçš„è¾èŒäº†ï¼Œæ‰‹é‡Œæœ‰ä¸€å¹´çš„ç”Ÿæ´»è´¹ï¼Œæˆ‘çš„ä¸€å¤©ä¼šè¿™ä¹ˆå®‰æ’"></a>å¦‚æœæˆ‘çœŸçš„è¾èŒäº†ï¼Œæ‰‹é‡Œæœ‰ä¸€å¹´çš„ç”Ÿæ´»è´¹ï¼Œæˆ‘çš„ä¸€å¤©ä¼šè¿™ä¹ˆå®‰æ’</h3><p>ä¸€æƒ³åˆ°è‡ªå·±è¾èŒäº†ï¼Œå¿ƒæƒ…ç‰¹åˆ«æ”¾æ¾!<br>ç¡åˆ°è‡ªç„¶é†’ï¼Œæ…¢æ…¢èµ·æ¥ï¼Œå…ˆå‘ä¸ªå‘†ï¼Œæ³¡ä¸€æ¯å’–å•¡ï¼Œçœ‹çœ‹æ–°é—»â€¦â€¦ æ”¾ç‚¹éŸ³ä¹ï¼Œè·³è·³èˆï¼Œå¥èº«ã€‚<br>ä¸­åˆå‡ºå»åƒä¸ªé¥­ï¼Œæˆ–è€…è‡ªå·±åšï¼Œç¡ä¸ªåˆè§‰ï¼Œä¸‹åˆçœ‹çœ‹ä¹¦ï¼Œå†™å†™å­—ï¼Œå¯ä»¥å‡ºé—¨ä¸Šè¯¾ã€‚æ™šä¸Šè¿½ä¸ªå‰§ï¼Œç¡è§‰</p><p>è¿™ç”»é¢æˆ‘éƒ½èƒ½æƒ³è±¡å‡ºæ¥äº†â€”â€”æˆ‘çš„ä¸€å¤©é‡Œæ²¡æœ‰ deadlineï¼Œæ²¡æœ‰ä¼šè®®æé†’ï¼Œæ²¡æœ‰æ— ä¼‘æ­¢çš„ä»»åŠ¡å•ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ï¼š<code>èº«ä½“çš„èŠ‚å¥ã€å¿ƒæƒ…çš„èŠ‚å¥</code>ã€‚</p><p>å…¶å®æˆ‘æè¿°çš„ç”Ÿæ´»ï¼Œæ ¸å¿ƒæ˜¯ä¸¤ä¸ªå­—ï¼š<code>æŒæ§</code>ã€‚</p><ul><li>æŒæ§æ—¶é—´ï¼šä»€ä¹ˆæ—¶å€™èµ·åºŠã€ä»€ä¹ˆæ—¶å€™åˆä¼‘ã€ä»€ä¹ˆæ—¶å€™å‡ºé—¨ï¼Œå…¨æ˜¯æˆ‘å†³å®šã€‚</li><li>æŒæ§èŠ‚å¥ï¼šæƒ³åŠ¨å°±åŠ¨ï¼ˆèˆè¹ˆã€å¥èº«ï¼‰ï¼Œæƒ³é™å°±é™ï¼ˆå‘å‘†ã€çœ‹ä¹¦ã€å†™å­—ï¼‰ã€‚</li><li>æŒæ§é€‰æ‹©ï¼šä»Šå¤©åƒå¤–é¢è¿˜æ˜¯è‡ªå·±ç…®ï¼Œä»Šæ™šè¿½å‰§è¿˜æ˜¯å‡ºé—¨ä¸Šè¯¾ï¼Œå®Œå…¨æŒ‰å¿ƒæ„ã€‚</li></ul><blockquote><p>è¯´å®è¯ï¼Œæˆ‘æƒ³è¦çš„å¹¶ä¸æ˜¯â€œæ— æ‰€äº‹äº‹â€ï¼Œè€Œæ˜¯ä¸€ç§å¯å‘¼å¸çš„ã€æœ‰å¼¹æ€§çš„æ—¥å­ã€‚</p></blockquote><h3 id="å¦‚æœçœŸè¿™æ ·è¿‡ä¸Šä¸€å¹´ï¼Œæˆ‘ä¼šä¸ä¼šåœ¨æŸä¸ªæ—¶åˆ»å¼€å§‹ç„¦è™‘ï¼Ÿ"><a href="#å¦‚æœçœŸè¿™æ ·è¿‡ä¸Šä¸€å¹´ï¼Œæˆ‘ä¼šä¸ä¼šåœ¨æŸä¸ªæ—¶åˆ»å¼€å§‹ç„¦è™‘ï¼Ÿ" class="headerlink" title="å¦‚æœçœŸè¿™æ ·è¿‡ä¸Šä¸€å¹´ï¼Œæˆ‘ä¼šä¸ä¼šåœ¨æŸä¸ªæ—¶åˆ»å¼€å§‹ç„¦è™‘ï¼Ÿ"></a>å¦‚æœçœŸè¿™æ ·è¿‡ä¸Šä¸€å¹´ï¼Œæˆ‘ä¼šä¸ä¼šåœ¨æŸä¸ªæ—¶åˆ»å¼€å§‹ç„¦è™‘ï¼Ÿ</h3><p>æ¯”å¦‚ï¼š</p><ul><li>ç¬¬ 3 ä¸ªæœˆæ—¶ï¼Œçªç„¶å†’å‡ºâ€œé’±åœ¨å˜å°‘â€çš„å¿µå¤´ï¼Ÿ</li><li>ç¬¬ 6 ä¸ªæœˆæ—¶ï¼Œè§‰å¾—â€œæˆ‘æ˜¯ä¸æ˜¯è¯¥åšç‚¹ä»€ä¹ˆæœ‰äº§å‡ºâ€ï¼Ÿ</li><li>ç¬¬ 9 ä¸ªæœˆæ—¶ï¼Œåˆ«äººé—®â€œä½ æœ€è¿‘åœ¨å¿™ä»€ä¹ˆâ€ï¼Œæˆ‘ä¼šä¸ä¼šçŠ¹è±«ï¼Ÿ</li></ul><p>è§‚å¯Ÿç‚¹</p><ol><li>å¿«ä¹ vs. ç©ºè™šï¼šè‡ªç”±æ—¶é—´è¶Šé•¿ï¼Œæˆ‘æ˜¯è¶Šäº«å—ï¼Œè¿˜æ˜¯å¼€å§‹æƒ³æ‰¾â€œæ„ä¹‰â€ï¼Ÿ</li><li>èŠ±è´¹æ°´å¹³ï¼šè¿™ç§ç”Ÿæ´»æ–¹å¼ä¸€å¤©å¤§æ¦‚éœ€è¦å¤šå°‘é’±ï¼Ÿï¼ˆåƒã€å¨±ä¹ã€è¯¾ç¨‹ç­‰ï¼‰ã€‚</li><li>å¯æŒç»­æ€§ï¼šæˆ‘èƒ½ä¸èƒ½æƒ³è±¡è‡ªå·±è¿™æ ·è¿‡ä¸€å¹´ï¼Ÿéœ€è¦å¢åŠ ä»€ä¹ˆå…ƒç´ æ‰èƒ½ä¸æ— èŠï¼Ÿ</li></ol><p>äº‰å–50%çš„æ—¶é—´ç»™è‡ªå·±ï¼Œ50%çš„æ—¶é—´ç»™å®¶äººã€‚</p><p>å·¥ä½œï¼Œèµšå¤Ÿæœ¬é’±ï¼Œç„¶åç†è´¢ï¼Œè„±ç¦»ç”¨æ—¶é—´å’Œç”Ÿå‘½æ¢é’±çš„æ–¹å¼ï¼Œç„¶åå°±å¯ä»¥è¿½æ±‚å¯å‘¼å¸çš„æ—¥å­äº†ï¼</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;è¿™4å¹´å¤šï¼Œåšå®¢å‡ ä¹æ²¡æœ‰ä»»ä½•æ›´æ–°&quot;&gt;&lt;a href=&quot;#è¿™4å¹´å¤šï¼Œåšå®¢å‡ ä¹æ²¡æœ‰ä»»ä½•æ›´æ–°&quot; class=&quot;headerlink&quot; title=&quot;è¿™4å¹´å¤šï¼Œåšå®¢å‡ ä¹æ²¡æœ‰ä»»ä½•æ›´æ–°~&quot;&gt;&lt;/a&gt;è¿™4å¹´å¤šï¼Œåšå®¢å‡ ä¹æ²¡æœ‰ä»»ä½•æ›´æ–°~&lt;/h2&gt;&lt;p&gt;å›é¡¾å·¥ä½œã€å­¦ä¹ ã€ç”Ÿæ´»ï¼Œåšäº†å¾ˆå¤šï¼Œ</summary>
      
    
    
    
    <category term="éšç¬”" scheme="http://www.toberoot.com/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
    <category term="å¯å‘¼å¸çš„æ—¥å­" scheme="http://www.toberoot.com/tags/%E5%8F%AF%E5%91%BC%E5%90%B8%E7%9A%84%E6%97%A5%E5%AD%90/"/>
    
    <category term="è‡ªç”±" scheme="http://www.toberoot.com/tags/%E8%87%AA%E7%94%B1/"/>
    
    <category term="ç†æƒ³" scheme="http://www.toberoot.com/tags/%E7%90%86%E6%83%B3/"/>
    
    <category term="ç”Ÿå­˜" scheme="http://www.toberoot.com/tags/%E7%94%9F%E5%AD%98/"/>
    
  </entry>
  
  <entry>
    <title>è®°ä¸€æ¬¡æœ‰è¶£çš„MySQLæƒé™é—®é¢˜</title>
    <link href="http://www.toberoot.com/news/2022/03/24/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%9C%89%E8%B6%A3%E7%9A%84MySQL%E6%9D%83%E9%99%90%E9%97%AE%E9%A2%98/"/>
    <id>http://www.toberoot.com/news/2022/03/24/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%9C%89%E8%B6%A3%E7%9A%84MySQL%E6%9D%83%E9%99%90%E9%97%AE%E9%A2%98/</id>
    <published>2022-03-24T00:00:00.000Z</published>
    <updated>2025-10-22T14:57:25.420Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æŠ¥é”™ä¸è§£å†³"><a href="#æŠ¥é”™ä¸è§£å†³" class="headerlink" title="æŠ¥é”™ä¸è§£å†³"></a>æŠ¥é”™ä¸è§£å†³</h1><p>Javaç¨‹åºæŠ¥é”™ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">nested exception is java.sql.SQLSyntaxErrorException:</span><br><span class="line">(conn=<span class="number">8795</span>) SELECT command denied to user <span class="string">&#x27;test&#x27;</span><span class="meta">@ip</span>  <span class="keyword">for</span> table <span class="string">&#x27;table1&#x27;</span></span><br></pre></td></tr></table></figure><p>æ”¶åˆ°è¿™ä¸ªåé¦ˆåï¼Œæˆ‘å’Œå¦ä¸€ä¸ªDBAåŒäº‹ï¼Œä¸€èµ·ä»”ç»†æ’æŸ¥äº†æƒé™ï¼Œå¯ä»¥éå¸¸ç¡®å®šæƒé™å·²ç»æˆäºˆã€‚</p><p>ä»”ç»†æ¯”å¯¹æŠ¥é”™ä¸­çš„è¡¨åï¼Œç¡®è®¤ä¸šåŠ¡ä¾§è¡¨åä¹Ÿæ²¡æœ‰é”™ã€‚</p><p>ä½†æ˜¯å°±æ˜¯æ— æ³•è®¿é—®ã€‚æ²¡æœ‰æ€è·¯äº†ï¼ŒæœŸé—´ï¼Œå¼€å‘è¿˜è¯´è¦ä¸è¦å†æ‰¾ä¸ªdbaå¤§ä½¬ä¸€èµ·çœ‹ï¼ˆpsï¼šæ„æ€æ˜¯è¯´ï¼Œæˆ‘ä¿©ä¸è¡Œå•Šï¼‰</p><p>æœ€åï¼Œæˆ‘ä»¬å¤§èƒ†çŒœæµ‹æ˜¯å¦Javaçš„æŠ¥é”™æœ‰é—®é¢˜ï¼Œæœç„¶ï¼Œsqlè¯­å¥ä¸­å®é™…æŸ¥è¯¢çš„æ˜¯ <code>db1.table1</code>; è€Œå®é™…ä¸Šä¸å­˜åœ¨ <code>db1</code> åº“ï¼Œè€Œæ˜¯ <code>db1_xx</code>ã€‚</p><p>ç»ˆäºç ´æ¡ˆäº†å“ˆã€‚ï¼ˆpia pia æ‰“è„¸å•ŠğŸ˜‚ï¼‰</p><h1 id="ä¸€äº›æ€è€ƒ"><a href="#ä¸€äº›æ€è€ƒ" class="headerlink" title="ä¸€äº›æ€è€ƒ"></a>ä¸€äº›æ€è€ƒ</h1><p>æœ€è¿‘å…¬å¸å†…éƒ¨åœ¨åšå…³äºã€Šæ‰¹åˆ¤æ€§æ€ç»´ã€‹çš„åŸ¹è®­ï¼Œä»Šå¤©çš„æ¡ˆä¾‹éå¸¸ç¬¦åˆå…¶ä¸­ä¸€ç‚¹ï¼š</p><blockquote><p>å¤§èƒ†çŒœæµ‹ï¼Œå°å¿ƒæ±‚è¯ã€‚</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;æŠ¥é”™ä¸è§£å†³&quot;&gt;&lt;a href=&quot;#æŠ¥é”™ä¸è§£å†³&quot; class=&quot;headerlink&quot; title=&quot;æŠ¥é”™ä¸è§£å†³&quot;&gt;&lt;/a&gt;æŠ¥é”™ä¸è§£å†³&lt;/h1&gt;&lt;p&gt;Javaç¨‹åºæŠ¥é”™ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;t</summary>
      
    
    
    
    <category term="æŠ€æœ¯å¹¿è§’" scheme="http://www.toberoot.com/categories/%E6%8A%80%E6%9C%AF%E5%B9%BF%E8%A7%92/"/>
    
    <category term="æ•°æ®åº“" scheme="http://www.toberoot.com/categories/%E6%8A%80%E6%9C%AF%E5%B9%BF%E8%A7%92/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
    <category term="MySQL" scheme="http://www.toberoot.com/tags/MySQL/"/>
    
    <category term="æƒé™" scheme="http://www.toberoot.com/tags/%E6%9D%83%E9%99%90/"/>
    
  </entry>
  
  <entry>
    <title>Markdown æ•°å­¦ç¬¦å·</title>
    <link href="http://www.toberoot.com/news/2021/05/04/markdown%E6%95%B0%E5%AD%A6%E7%AC%A6%E5%8F%B7/"/>
    <id>http://www.toberoot.com/news/2021/05/04/markdown%E6%95%B0%E5%AD%A6%E7%AC%A6%E5%8F%B7/</id>
    <published>2021-05-04T00:00:00.000Z</published>
    <updated>2025-10-22T14:33:10.766Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Markdown-æ•°å­¦ç¬¦å·"><a href="#Markdown-æ•°å­¦ç¬¦å·" class="headerlink" title="Markdown æ•°å­¦ç¬¦å·"></a>Markdown æ•°å­¦ç¬¦å·</h1><ul><li>è¡Œå†…å…¬å¼ç›´æ¥ç”¨<code>$</code>åŒ…å›´å°±è¡Œå¦‚<code>$ \iint_D f(x,y)d\sigma $</code>,æ•ˆæœå°±æ˜¯ï¼š<img src="https://math.jianshu.com/math?formula=%5Ciint_D%20f(x,y)d%5Csigma" alt="\iint_D f(x,y)d\sigma"></li><li>è¡Œé—´å…¬å¼ï¼ˆå…¬å¼åœ¨å•ç‹¬ä¸€è¡Œï¼‰å°±ç”¨<code>$$</code>ï¼ˆå‰åä¸¤ä¸ª$ï¼‰åŒ…å›´,<br>å¦‚<code>$$ \iint_D f(x,y)d\sigma $$</code>,æ•ˆæœå°±æ˜¯<img src="https://math.jianshu.com/math?formula=%5Ciint_D%20f(x,y)d%5Csigma" alt="\iint_D f(x,y)d\sigma"></li></ul><p>ä¸‹é¢é™„ä¸Šä¸€äº›å¸Œè…Šå­—æ¯ï¼Œå…¬å¼ä¸­çš„ç‰¹æ®Šç¬¦å·åœ¨markdownè¯­æ³•ï¼š</p><h3 id="å¸Œè…Šå­—æ¯"><a href="#å¸Œè…Šå­—æ¯" class="headerlink" title="å¸Œè…Šå­—æ¯"></a>å¸Œè…Šå­—æ¯</h3><table><thead><tr><th>å­—æ¯</th><th>è¯­æ³•</th><th>å­—æ¯</th><th>è¯­æ³•</th></tr></thead><tbody><tr><td><img src="https://math.jianshu.com/math?formula=A" alt="A"></td><td>A</td><td><img src="https://math.jianshu.com/math?formula=%5Calpha" alt="\alpha"></td><td>\alhpa</td></tr><tr><td><img src="https://math.jianshu.com/math?formula=B" alt="B"></td><td>B</td><td><img src="https://math.jianshu.com/math?formula=%5Cbeta" alt="\beta"></td><td>\beta</td></tr><tr><td><img src="https://math.jianshu.com/math?formula=%5CGamma" alt="\Gamma"></td><td>\Gamma</td><td><img src="https://math.jianshu.com/math?formula=%5Cgamma" alt="\gamma"></td><td>\gamma</td></tr><tr><td><img src="https://math.jianshu.com/math?formula=%5CDelta" alt="\Delta"></td><td>\Delta</td><td><img src="https://math.jianshu.com/math?formula=%5Cdelta" alt="\delta"></td><td>\delta</td></tr><tr><td><img src="https://math.jianshu.com/math?formula=E" alt="E"></td><td>E</td><td><img src="https://math.jianshu.com/math?formula=%5Cepsilon" alt="\epsilon"></td><td>\epsilon</td></tr><tr><td><img src="https://math.jianshu.com/math?formula=Z" alt="Z"></td><td>Z</td><td><img src="https://math.jianshu.com/math?formula=%5Czeta" alt="\zeta"></td><td>\zeta</td></tr><tr><td><img src="https://math.jianshu.com/math?formula=H" alt="H"></td><td>H</td><td><img src="https://math.jianshu.com/math?formula=%5Ceta" alt="\eta"></td><td>\eta</td></tr><tr><td><img src="https://math.jianshu.com/math?formula=%5CTheta" alt="\Theta"></td><td>\Theta</td><td><img src="https://math.jianshu.com/math?formula=%5Ctheta" alt="\theta"></td><td>\theta</td></tr><tr><td><img src="https://math.jianshu.com/math?formula=I" alt="I"></td><td>I</td><td><img src="https://math.jianshu.com/math?formula=%5Ciota" alt="\iota"></td><td>\iota</td></tr><tr><td><img src="https://math.jianshu.com/math?formula=K" alt="K"></td><td>K</td><td><img src="https://math.jianshu.com/math?formula=%5Ckappa" alt="\kappa"></td><td>\kappa</td></tr><tr><td><img src="https://math.jianshu.com/math?formula=%5CLambda" alt="\Lambda"></td><td>\Lambda</td><td><img src="https://math.jianshu.com/math?formula=%5Clambda" alt="\lambda"></td><td>\lambda</td></tr><tr><td><img src="https://math.jianshu.com/math?formula=M" alt="M"></td><td>M</td><td><img src="https://math.jianshu.com/math?formula=%5Cmu" alt="\mu"></td><td>\mu</td></tr><tr><td><img src="https://math.jianshu.com/math?formula=N" alt="N"></td><td>N</td><td><img src="https://math.jianshu.com/math?formula=%5Cnu" alt="\nu"></td><td>\nu</td></tr><tr><td><img src="https://math.jianshu.com/math?formula=%5CXi" alt="\Xi"></td><td>\Xi</td><td><img src="https://math.jianshu.com/math?formula=%5Cxi" alt="\xi"></td><td>\xi</td></tr><tr><td><img src="https://math.jianshu.com/math?formula=O" alt="O"></td><td>O</td><td><img src="https://math.jianshu.com/math?formula=%5Comicron" alt="\omicron"></td><td>\omicron</td></tr><tr><td><img src="https://math.jianshu.com/math?formula=%5CPi" alt="\Pi"></td><td>\Pi</td><td><img src="https://math.jianshu.com/math?formula=%5Cpi" alt="\pi"></td><td>\pi</td></tr><tr><td><img src="https://math.jianshu.com/math?formula=P" alt="P"></td><td>P</td><td><img src="https://math.jianshu.com/math?formula=%5Crho" alt="\rho"></td><td>\rho</td></tr><tr><td><img src="https://math.jianshu.com/math?formula=%5CSigma" alt="\Sigma"></td><td>\Sigma</td><td><img src="https://math.jianshu.com/math?formula=%5Csigma" alt="\sigma"></td><td>\sigma</td></tr><tr><td><img src="https://math.jianshu.com/math?formula=T" alt="T"></td><td>T</td><td><img src="https://math.jianshu.com/math?formula=%5Ctau" alt="\tau"></td><td>\tau</td></tr><tr><td><img src="https://math.jianshu.com/math?formula=%5CUpsilon" alt="\Upsilon"></td><td>\Upsilon</td><td><img src="https://math.jianshu.com/math?formula=%5Cupsilon" alt="\upsilon"></td><td>\upsilon</td></tr><tr><td><img src="https://math.jianshu.com/math?formula=%5CPhi" alt="\Phi"></td><td>\Phi</td><td><img src="https://math.jianshu.com/math?formula=%5Cphi" alt="\phi"></td><td>\phi</td></tr><tr><td><img src="https://math.jianshu.com/math?formula=X" alt="X"></td><td>X</td><td><img src="https://math.jianshu.com/math?formula=%5Cchi" alt="\chi"></td><td>\chi</td></tr><tr><td><img src="https://math.jianshu.com/math?formula=%5CPsi" alt="\Psi"></td><td>\Psi</td><td><img src="https://math.jianshu.com/math?formula=%5Cpsi" alt="\psi"></td><td>\psi</td></tr><tr><td><img src="https://math.jianshu.com/math?formula=%5COmega" alt="\Omega"></td><td>\Omega</td><td><img src="https://math.jianshu.com/math?formula=%5Comega" alt="\omega"></td><td>\omega</td></tr></tbody></table><h3 id="æ•°å­¦ç¬¦å·"><a href="#æ•°å­¦ç¬¦å·" class="headerlink" title="æ•°å­¦ç¬¦å·"></a>æ•°å­¦ç¬¦å·</h3><table><thead><tr><th>è¿ç®—ç¬¦</th><th>è¯´æ˜</th><th>å®ä¾‹</th><th>ä»£ç </th></tr></thead><tbody><tr><td>+</td><td>åŠ </td><td><img src="https://math.jianshu.com/math?formula=x%20+%20y" alt="x + y"></td><td><code>$ x + y $</code></td></tr><tr><td>-</td><td>å‡</td><td><img src="https://math.jianshu.com/math?formula=x%20-%20y" alt="x - y"></td><td><code>$ x - y $</code></td></tr><tr><td>\times</td><td>ä¹˜</td><td><img src="https://math.jianshu.com/math?formula=x%20%5Ctimes%20y" alt="x \times y"></td><td><code>$ x \times y $</code></td></tr><tr><td>\cdot</td><td>ä¹˜</td><td><img src="https://math.jianshu.com/math?formula=x%20%5Ccdot%20y" alt="x \cdot y"></td><td><code>$ x \cdot y $</code></td></tr><tr><td>\ast</td><td>ä¹˜</td><td><img src="https://math.jianshu.com/math?formula=x%20%5Cast%20y" alt="x \ast y"></td><td><code>$ x \ast y $</code></td></tr><tr><td>\div</td><td>é™¤</td><td><img src="https://math.jianshu.com/math?formula=x%20%5Cdiv%20y" alt="x \div y"></td><td><code>$ x \div y $</code></td></tr><tr><td>\frac</td><td>åˆ†æ•°</td><td><img src="https://math.jianshu.com/math?formula=%5Cfrac%20xy" alt="\frac xy"></td><td><code>$ \frac{x}{y} $</code></td></tr><tr><td>^</td><td>ä¸Šæ ‡</td><td><img src="https://math.jianshu.com/math?formula=x%20%5E%20y" alt="x ^ y"></td><td><code>$ x ^ y $</code></td></tr><tr><td>_</td><td>ä¸‹æ ‡</td><td><img src="https://math.jianshu.com/math?formula=x%20_%20y" alt="x _ y"></td><td><code>$ x _ y $</code></td></tr><tr><td>\sqrt</td><td>å¼€äºŒæ¬¡æ–¹</td><td><img src="https://math.jianshu.com/math?formula=%5Csqrt%20x" alt="\sqrt x"></td><td><code>$ \sqrt x $</code></td></tr><tr><td>\sqrt</td><td>å¼€æ–¹</td><td><img src="https://math.jianshu.com/math?formula=%5Csqrt%5Bx%5D%7By%5E4+3y-1%7D" alt="\sqrt[x]{y^4+3y-1}"></td><td><code>$ \sqrt[x]{y^4+3y-1} $</code></td></tr><tr><td>\lceil å’Œ \rceil</td><td>ä¸Šå–æ•´</td><td><img src="https://math.jianshu.com/math?formula=%5Clceil%5Cfrac12%5Crceil" alt="\lceil\frac12\rceil"></td><td><code>$ \lceil\frac12\rceil $</code></td></tr><tr><td>\lfloor å’Œ \rfloor</td><td>ä¸‹å–æ•´</td><td><img src="https://math.jianshu.com/math?formula=%5Clfloor%5Cfrac12%5Crfloor" alt="\lfloor\frac12\rfloor"></td><td><code>$ \lfloor\frac12\rfloor $</code></td></tr><tr><td>\pm</td><td>åŠ å‡</td><td><img src="https://math.jianshu.com/math?formula=x%20%5Cpm%20y" alt="x \pm y"></td><td><code>$ x \pm y $</code></td></tr><tr><td>\mp</td><td>å‡åŠ </td><td><img src="https://math.jianshu.com/math?formula=x%20%5Cmp%20y" alt="x \mp y"></td><td><code>$ x \mp y $</code></td></tr><tr><td>&#x3D;</td><td>ç­‰äº</td><td><img src="https://math.jianshu.com/math?formula=x%20=%20y" alt="x &#x3D; y"></td><td><code>$ x = y $</code></td></tr><tr><td>\leq</td><td>å°äºç­‰äº</td><td><img src="https://math.jianshu.com/math?formula=x%20%5Cleq%20y" alt="x \leq y"></td><td><code>$ x \leq y $</code></td></tr><tr><td>\geq</td><td>å¤§äºç­‰äº</td><td><img src="https://math.jianshu.com/math?formula=x%20%5Cgeq%20y" alt="x \geq y"></td><td><code>$ x \geq y $</code></td></tr><tr><td>\ngeq</td><td>ä¸å¤§äºç­‰äº</td><td><img src="https://math.jianshu.com/math?formula=x%20%5Cngeq%20y" alt="x \ngeq y"></td><td><code>$ x \ngeq y $</code></td></tr><tr><td>\not\geq</td><td>ä¸å¤§äºç­‰äº</td><td><img src="https://math.jianshu.com/math?formula=x%20%5Cnot%5Cgeq%20y" alt="x \not\geq y"></td><td><code>$ x \not\geq y $</code></td></tr><tr><td>\neq</td><td>ä¸ç­‰äº</td><td><img src="https://math.jianshu.com/math?formula=x%20%5Cneq%20y" alt="x \neq y"></td><td><code>$ x \neq y $</code></td></tr><tr><td>\approx</td><td>çº¦ç­‰äº</td><td><img src="https://math.jianshu.com/math?formula=x%20%5Capprox%20y" alt="x \approx y"></td><td><code>$ x \approx y $</code></td></tr><tr><td>\equiv</td><td>æ’ç­‰äº</td><td><img src="https://math.jianshu.com/math?formula=x%20%5Cequiv%20y" alt="x \equiv y"></td><td><code>$ x \equiv y $</code></td></tr><tr><td>\bigodot</td><td>å®šä¹‰è¿ç®—ç¬¦</td><td><img src="https://math.jianshu.com/math?formula=x%20%5Cbigodot%20y=x+y%5E2" alt="x \bigodot y&#x3D;x+y^2"></td><td><code>$ x \bigodot y=x+y^2 $</code></td></tr><tr><td>\bigotimes</td><td>å®šä¹‰è¿ç®—ç¬¦</td><td><img src="https://math.jianshu.com/math?formula=x%20%5Cbigotimes%20y=x+y%5E2" alt="x \bigotimes y&#x3D;x+y^2"></td><td><code>$ x \bigotimes y=x+y^2 $</code></td></tr><tr><td>\in</td><td>å±äº</td><td><img src="https://math.jianshu.com/math?formula=x%20%5Cin%20y" alt="x \in y"></td><td><code>$ x \in y $</code></td></tr><tr><td>\notin</td><td>ä¸å±äº</td><td><img src="https://math.jianshu.com/math?formula=x%20%5Cnotin%20y" alt="x \notin y"></td><td><code>$ x \notin y $</code></td></tr><tr><td>\subset</td><td>å­é›†</td><td><img src="https://math.jianshu.com/math?formula=x%20%5Csubset%20y" alt="x \subset y"></td><td><code>$ x \subset y $</code></td></tr><tr><td>\not\subset</td><td>éå­é›†</td><td><img src="https://math.jianshu.com/math?formula=x%20%5Cnot%5Csubset%20y" alt="x \not\subset y"></td><td><code>$ x \not\subset y $</code></td></tr><tr><td>\subseteq</td><td>å­é›†</td><td><img src="https://math.jianshu.com/math?formula=x%20%5Csubseteq%20y" alt="x \subseteq y"></td><td><code>$ x \subseteq y $</code></td></tr><tr><td>\supset</td><td>è¶…é›†</td><td><img src="https://math.jianshu.com/math?formula=x%20%5Csupset%20y" alt="x \supset y"></td><td><code>$ x \supset y $</code></td></tr><tr><td>\supseteq</td><td>è¶…é›†</td><td><img src="https://math.jianshu.com/math?formula=x%20%5Csupseteq%20y" alt="x \supseteq y"></td><td><code>$ x \supseteq y $</code></td></tr><tr><td>\cup</td><td>å¹¶</td><td><img src="https://math.jianshu.com/math?formula=x%20%5Ccup%20y" alt="x \cup y"></td><td><code>$ x \cup y $</code></td></tr><tr><td>\cap</td><td>äº¤</td><td><img src="https://math.jianshu.com/math?formula=x%20%5Ccap%20y" alt="x \cap y"></td><td><code>$ x \cap y $</code></td></tr><tr><td>\log</td><td>å¯¹æ•°</td><td><img src="https://math.jianshu.com/math?formula=%5Clog(x)" alt="\log(x)"></td><td><code>$ \log(x) $</code></td></tr><tr><td>\overline</td><td>å¹³å‡æ•°</td><td><img src="https://math.jianshu.com/math?formula=%5Coverline%7Bx%7D" alt="\overline{x}"></td><td><code>$ \overline{x} $</code></td></tr><tr><td>\overline</td><td>è¿çº¿ç¬¦å·</td><td><img src="https://math.jianshu.com/math?formula=%5Coverline%7Ba+b+c+d%7D" alt="\overline{a+b+c+d}"></td><td><code>$ \overline{a+b+c+d} $</code></td></tr><tr><td>\underline</td><td>ä¸‹åˆ’çº¿</td><td><img src="https://math.jianshu.com/math?formula=%5Cunderline%7Ba+b+c+d%7D" alt="\underline{a+b+c+d}"></td><td><code>$ \underline{a+b+c+d} $</code></td></tr><tr><td>\overbrace</td><td>ä¸Šå¤§æ‹¬å·</td><td><img src="https://math.jianshu.com/math?formula=%5Coverbrace%7Ba+%5Cunderbrace%7Bb+c%7D_%7B1.0%7D+d%7D%5E%7B2.0%7D" alt="\overbrace{a+\underbrace{b+c}_{1.0}+d}^{2.0}"></td><td><code>$\overbrace{a+\underbrace{b+c}_{1.0}+d}^{2.0}$</code></td></tr><tr><td>\underbrace</td><td>ä¸‹å¤§æ‹¬å·</td><td><img src="https://math.jianshu.com/math?formula=%5Cunderbrace%7Ba+d%7D_3" alt="\underbrace{a+d}_3"></td><td><code>$ \underbrace{a+d}_3 $</code></td></tr><tr><td>\partial</td><td>éƒ¨åˆ†</td><td><img src="https://math.jianshu.com/math?formula=%5Cfrac%7B%5Cpartial%20x%7D%7B%5Cpartial%20y%7D" alt="\frac{\partial x}{\partial y}"></td><td><code>$ \frac{\partial x}{\partial y} $</code></td></tr><tr><td>\lim</td><td>æé™</td><td><img src="https://math.jianshu.com/math?formula=%5Clim_%7Bx%5Cto%5Cinfty%7D" alt="\lim_{x\to\infty}"></td><td><code>$ \lim_{x\to\infty} $</code></td></tr><tr><td>\displaystyle</td><td>å—å…¬å¼æ ¼å¼</td><td><img src="https://math.jianshu.com/math?formula=%5Cdisplaystyle%20%5Clim_%7Bx%5Cto%5Cinfty%7D" alt="\displaystyle \lim_{x\to\infty}"></td><td><code>$ \displaystyle \lim_{x\to\infty} $</code></td></tr><tr><td>\sum</td><td>æ±‚å’Œ</td><td><img src="https://math.jianshu.com/math?formula=%5Csum_%7Bi=1%7D%5En" alt="\sum_{i&#x3D;1}^n"></td><td><code>$ \sum_{i=1}^n $</code></td></tr><tr><td>\infty</td><td>æé™</td><td><img src="https://math.jianshu.com/math?formula=%5Csum_%7Bi=0%7D%5E%5Cinfty%20i%5E2" alt="\sum_{i&#x3D;0}^\infty i^2"></td><td><code>$ \sum_{i=0}^\infty i^2 $</code></td></tr><tr><td>\int</td><td>ç§¯åˆ†</td><td><img src="https://math.jianshu.com/math?formula=%5Cint_0%5E1%20x%5E2%20%7B%5Crm%20d%7Dx" alt="\int_0^1 x^2 {\rm d}x"></td><td><code>$ \int_0^1 x^2 {\rm d}x $</code></td></tr><tr><td>\iint</td><td>äºŒé‡ç§¯åˆ†</td><td><img src="https://math.jianshu.com/math?formula=%5Ciint_D%20f(x,y)d%5Csigma" alt="\iint_D f(x,y)d\sigma"></td><td><code>$ \iint_D f(x,y)d\sigma $</code></td></tr><tr><td>\oint</td><td>æ›²é¢ç§¯åˆ†</td><td><img src="https://math.jianshu.com/math?formula=%5Coint%20e%5E%7Bx+y%7D%20ds" alt="\oint e^{x+y} ds"></td><td><code>$ \oint e^{x+y} ds $</code></td></tr><tr><td>\ldots</td><td>åº•ç«¯å¯¹é½çš„çœç•¥å·</td><td><img src="https://math.jianshu.com/math?formula=1,2,%5Cldots,n" alt="1,2,\ldots,n"></td><td><code>$ 1,2,\ldots,n $</code></td></tr><tr><td>\cdots</td><td>ä¸­çº¿å¯¹é½çš„çœç•¥å·</td><td><img src="https://math.jianshu.com/math?formula=x_1%5E2%20+%20x_2%5E2%20+%20%5Ccdots%20+%20x_n%5E2" alt="x_1^2 + x_2^2 + \cdots + x_n^2"></td><td><code>$ x_1^2 + x_2^2 + \cdots + x_n^2 $</code></td></tr><tr><td>\uparrow</td><td>ä¸Šç®­å¤´</td><td><img src="https://math.jianshu.com/math?formula=%5Cuparrow" alt="\uparrow"></td><td><code>$ \uparrow $</code></td></tr><tr><td>\Uparrow</td><td>ä¸Šç®­å¤´</td><td><img src="https://math.jianshu.com/math?formula=%5CUparrow" alt="\Uparrow"></td><td><code>$ \Uparrow $</code></td></tr><tr><td>\vec</td><td>å‘é‡</td><td><img src="https://math.jianshu.com/math?formula=%5Cvec%7Ba%7D" alt="\vec{a}"></td><td><code>$ \vec{a} $</code></td></tr><tr><td>\hat</td><td>æ‹Ÿåˆå€¼</td><td><img src="https://math.jianshu.com/math?formula=%5Chat%20Y%20=%20%5Chat%20%5Cbeta_0%20+%20%5Chat%20%5Cbeta_1X" alt="\hat Y &#x3D; \hat \beta_0 + \hat \beta_1X"></td><td><code>$\hat Y = \hat \beta_0 + \hat \beta_1X $</code></td></tr><tr><td>\bot</td><td>å‚ç›´</td><td><img src="https://math.jianshu.com/math?formula=A%20%5Cbot%20B" alt="A \bot B"></td><td><code>$ A \bot B $</code></td></tr><tr><td>\circ</td><td>åº¦</td><td><img src="https://math.jianshu.com/math?formula=45%5E%5Ccirc" alt="45^\circ"></td><td><code>$ 45^\circ $</code></td></tr><tr><td>\frac</td><td>æ‹¬å·è‡ªé€‚åº”å¤§å°</td><td><img src="https://math.jianshu.com/math?formula=(%5Cfrac12)" alt="(\frac12)">â€”â€”<img src="https://math.jianshu.com/math?formula=%5Cleft(%5Cfrac12%5Cright)" alt="\left(\frac12\right)">â€”â€”</td><td><code>$(\frac12)$â€”â€”$ \left(\frac12\right)$â€”â€”</code></td></tr><tr><td></td><td>æ–¹ç¨‹ç»„</td><td><img src="https://math.jianshu.com/math?formula=%5Cleft%5C%7B%5Cbegin%7Barray%7D%5C%5Cy=2x%5E2+1%5C%5C%7By=4x;%7D%5C%5Cy-z=x;%20%5Cend%7Barray%7D%5Cright." alt="\left{\begin{array}\y&#x3D;2x^2+1\{y&#x3D;4x;}\y-z&#x3D;x; \end{array}\right."></td><td><code>$\left\{\begin{array}\\y=2x^2+1\\{y=4x;}\\y-z=x; \end{array}\right.$</code></td></tr></tbody></table><h3 id="ç‰¹æ®Šç¬¦å·"><a href="#ç‰¹æ®Šç¬¦å·" class="headerlink" title="ç‰¹æ®Šç¬¦å·"></a>ç‰¹æ®Šç¬¦å·</h3><table><thead><tr><th>æè¿°</th><th>ç¬¦å·</th><th>ä»£ç </th></tr></thead><tbody><tr><td></td><td><img src="https://math.jianshu.com/math?formula=%5Csideset%7B%5E1_2%7D%7B%5E3_4%7D%5Cbigotimes" alt="\sideset{^1_2}{^3_4}\bigotimes"></td><td><code>$\sideset{^1_2}{^3_4}\bigotimes$</code></td></tr></tbody></table><blockquote><p><em>å‚è€ƒæ–‡ç« ï¼š<a href="https://links.jianshu.com/go?to=http://blog.csdn.net/whqet/article/details/44277965">http://blog.csdn.net/whqet/article/details/44277965</a></em></p></blockquote><h2 id="å‡½æ•°ã€ç¬¦å·åŠç‰¹æ®Šå­—ç¬¦"><a href="#å‡½æ•°ã€ç¬¦å·åŠç‰¹æ®Šå­—ç¬¦" class="headerlink" title="å‡½æ•°ã€ç¬¦å·åŠç‰¹æ®Šå­—ç¬¦"></a>å‡½æ•°ã€ç¬¦å·åŠç‰¹æ®Šå­—ç¬¦</h2><h3 id="å£°è°ƒ"><a href="#å£°è°ƒ" class="headerlink" title="å£°è°ƒ"></a>å£°è°ƒ</h3><table><thead><tr><th>è¯­æ³•</th><th>æ•ˆæœ</th><th>è¯­æ³•</th><th>æ•ˆæœ</th></tr></thead><tbody><tr><td><code>$\bar{x}$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cbar%7Bx%7D" alt="\bar{x}"></td><td><code>$\acute{\eta}$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cacute%7B%5Ceta%7D" alt="\acute{\eta}"></td></tr><tr><td><code>$\check{\alpha}$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Ccheck%7B%5Calpha%7D" alt="\check{\alpha}"></td><td><code>$\grave{\eta}$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cgrave%7B%5Ceta%7D" alt="\grave{\eta}"></td></tr><tr><td><code>$\breve{a}$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cbreve%7Ba%7D" alt="\breve{a}"></td><td><code>$\ddot{y}$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cddot%7By%7D" alt="\ddot{y}"></td></tr><tr><td><code>$\dot{x}$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cdot%7Bx%7D" alt="\dot{x}"></td><td><code>$\hat{\alpha}$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Chat%7B%5Calpha%7D" alt="\hat{\alpha}"></td></tr><tr><td><code>$\tilde{\iota}$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Ctilde%7B%5Ciota%7D" alt="\tilde{\iota}"></td><td></td><td></td></tr></tbody></table><h3 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h3><table><thead><tr><th>è¯­æ³•</th><th>æ•ˆæœ</th><th>è¯­æ³•</th><th>æ•ˆæœ</th></tr></thead><tbody><tr><td><code>$\sin\theta$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Csin%5C!%5Ctheta" alt="\sin!\theta"></td><td><code>$\cos\theta$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Ccos%5C!%5Ctheta" alt="\cos!\theta"></td></tr><tr><td><code>$\tan\theta$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Ctan%5C!%5Ctheta" alt="\tan!\theta"></td><td><code>$\arcsin\frac{L}{r}$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Carcsin%5Cfrac%7BL%7D%7Br%7D" alt="\arcsin\frac{L}{r}"></td></tr><tr><td><code>$\arccos\frac{T}{r}$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Carccos%5Cfrac%7BT%7D%7Br%7D" alt="\arccos\frac{T}{r}"></td><td><code>$\arctan\frac{L}{T}$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Carctan%5Cfrac%7BL%7D%7BT%7D" alt="\arctan\frac{L}{T}"></td></tr><tr><td><code>$\sinh g$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Csinh%5C!g" alt="\sinh!g"></td><td><code>$\cosh h$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Ccosh%5C!h" alt="\cosh!h"></td></tr><tr><td><code>$\tanh i$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Ctanh%5C!i" alt="\tanh!i"></td><td><code>$\operatorname{sh}j$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Coperatorname%7Bsh%7Dj" alt="\operatorname{sh}j"></td></tr><tr><td><code>$\operatorname{argsh}k$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Coperatorname%7Bargsh%7Dk" alt="\operatorname{argsh}k"></td><td><code>$\operatorname{ch}h$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Coperatorname%7Bch%7Dh" alt="\operatorname{ch}h"></td></tr><tr><td><code>$\operatorname{argch}l$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Coperatorname%7Bargch%7Dl" alt="\operatorname{argch}l"></td><td><code>$\operatorname{th}i$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Coperatorname%7Bth%7Di" alt="\operatorname{th}i"></td></tr><tr><td><code>$\operatorname{argth}m$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Coperatorname%7Bargth%7Dm" alt="\operatorname{argth}m"></td><td><code>$k&#39;(x)=\lim_{\Delta x\to 0}\frac{k(x)-k(x-\Delta x)}{\Deltax}$</code></td><td><img src="https://math.jianshu.com/math?formula=k%27(x)=%5Clim_%7B%5CDelta%20x%5Cto0%7D%5C!%5Cfrac%7Bk(x)-k(x-%5CDelta%20x)%7D%7B%5CDelta%20x%7D" alt="k&#39;(x)&#x3D;\lim_{\Delta x\to0}!\frac{k(x)-k(x-\Delta x)}{\Delta x}"></td></tr><tr><td><code>$\limsup S$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Climsup%20S" alt="\limsup S"></td><td><code>$\liminf I$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Climinf%20I" alt="\liminf I"></td></tr><tr><td><code>$\max H$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cmax%5C!H" alt="\max!H"></td><td><code>$\min L$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cmin%5C!L" alt="\min!L"></td></tr><tr><td><code>$\inf s$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cinf%20s" alt="\inf s"></td><td><code>$\sup t$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Csup%20t" alt="\sup t"></td></tr><tr><td><code>$\exp\!t$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cexp%5C!t" alt="\exp!t"></td><td><code>$\ln X$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cln%5C!X" alt="\ln!X"></td></tr><tr><td><code>$\lg X$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Clg%5C!X" alt="\lg!X"></td><td><code>$\log X$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Clog%5C!X" alt="\log!X"></td></tr><tr><td><code>$\log_\alpha X$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Clog_%5Calpha%5C!X" alt="\log_\alpha!X"></td><td><code>$\ker x$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cker%20x" alt="\ker x"></td></tr><tr><td><code>$\deg x$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cdeg%5C!x" alt="\deg!x"></td><td><code>$\gcd(T,U,V,W,X)$</code></td><td><img src="https://math.jianshu.com/math?formula=%5C!%5Cgcd(T,U,V,W,X)" alt="!\gcd(T,U,V,W,X)"></td></tr><tr><td><code>$\Pr x$</code></td><td><img src="https://math.jianshu.com/math?formula=%5CPr%20x" alt="\Pr x"></td><td><code>$\det x$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cdet%5C!x" alt="\det!x"></td></tr><tr><td><code>$\hom x$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Chom%20x" alt="\hom x"></td><td><code>$\arg x$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Carg%20x" alt="\arg x"></td></tr><tr><td><code>$\dim x$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cdim%20x" alt="\dim x"></td><td><code>$\lim_{t\to n}T$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Clim_%7Bt%5Cto%20n%7DT" alt="\lim_{t\to n}T"></td></tr></tbody></table><h3 id="åŒä½™"><a href="#åŒä½™" class="headerlink" title="åŒä½™"></a>åŒä½™</h3><table><thead><tr><th>è¯­æ³•</th><th>æ•ˆæœ</th><th>è¯­æ³•</th><th>æ•ˆæœ</th></tr></thead><tbody><tr><td><code>$\pmod {m}$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cpmod%20%7Bm%7D" alt="\pmod {m}"></td><td><code>$a \bmod b$</code></td><td><img src="https://math.jianshu.com/math?formula=a%20%5Cbmod%20b" alt="a \bmod b"></td></tr></tbody></table><h3 id="å¾®åˆ†"><a href="#å¾®åˆ†" class="headerlink" title="å¾®åˆ†"></a>å¾®åˆ†</h3><table><thead><tr><th>è¯­æ³•</th><th>æ•ˆæœ</th><th>è¯­æ³•</th><th>æ•ˆæœ</th></tr></thead><tbody><tr><td><code>$\nabla$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cnabla" alt="\nabla"></td><td><code>$\partial x$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cpartial%20x" alt="\partial x"></td></tr><tr><td><code>$\mathrm{d}x$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cmathrm%7Bd%7Dx" alt="\mathrm{d}x"></td><td><code>$\dot x$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cdot%20x" alt="\dot x"></td></tr><tr><td><code>$\ddot y$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cddot%20y" alt="\ddot y"></td><td></td><td></td></tr></tbody></table><h3 id="é›†åˆ"><a href="#é›†åˆ" class="headerlink" title="é›†åˆ"></a>é›†åˆ</h3><table><thead><tr><th>è¯­æ³•</th><th>æ•ˆæœ</th><th>è¯­æ³•</th><th>æ•ˆæœ</th></tr></thead><tbody><tr><td><code>$\forall$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cforall" alt="\forall"></td><td><code>$\exists$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cexists" alt="\exists"></td></tr><tr><td><code>$\empty$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cempty" alt="\empty"></td><td><code>$\emptyset$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cemptyset" alt="\emptyset"></td></tr><tr><td><code>$\varnothing$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cvarnothing" alt="\varnothing"></td><td><code>$\in$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cin" alt="\in"></td></tr><tr><td><code>$\ni$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cni" alt="\ni"></td><td><code>$\not\in$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cnot%5Cin" alt="\not\in"></td></tr><tr><td><code>$\notin$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cnotin" alt="\notin"></td><td><code>$\subset$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Csubset" alt="\subset"></td></tr><tr><td><code>$\subseteq$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Csubseteq" alt="\subseteq"></td><td><code>$\supset$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Csupset" alt="\supset"></td></tr><tr><td><code>$\supseteq$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Csupseteq" alt="\supseteq"></td><td><code>$\cap$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Ccap" alt="\cap"></td></tr><tr><td><code>$\bigcap$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cbigcap" alt="\bigcap"></td><td><code>$\cup$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Ccup" alt="\cup"></td></tr><tr><td><code>$\bigcup$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cbigcup" alt="\bigcup"></td><td><code>$\biguplus$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cbiguplus" alt="\biguplus"></td></tr><tr><td><code>$\sqsubset$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Csqsubset" alt="\sqsubset"></td><td><code>$\sqsubseteq$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Csqsubseteq" alt="\sqsubseteq"></td></tr><tr><td><code>$\sqsupset$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Csqsupset" alt="\sqsupset"></td><td><code>$\sqsupseteq$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Csqsupseteq" alt="\sqsupseteq"></td></tr><tr><td><code>$\sqcap$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Csqcap" alt="\sqcap"></td><td><code>$\sqcup$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Csqcup" alt="\sqcup"></td></tr></tbody></table><h3 id="é€»è¾‘"><a href="#é€»è¾‘" class="headerlink" title="é€»è¾‘"></a>é€»è¾‘</h3><table><thead><tr><th>è¯­æ³•</th><th>æ•ˆæœ</th><th>è¯­æ³•</th><th>æ•ˆæœ</th></tr></thead><tbody><tr><td><code>$p$</code></td><td><img src="https://math.jianshu.com/math?formula=p" alt="p"></td><td><code>$\land$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cland" alt="\land"></td></tr><tr><td><code>$\wedge$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cwedge" alt="\wedge"></td><td><code>$\bigwedge$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cbigwedge" alt="\bigwedge"></td></tr><tr><td><code>$\bar{q} \to p$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cpagecolor%7BWhite%7D%20%5Cbar%7Bq%7D%20%5Cto%20p" alt="\pagecolor{White} \bar{q} \to p"></td><td><code>$\lor$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Clor" alt="\lor"></td></tr><tr><td><code>$\vee$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cvee" alt="\vee"></td><td><code>$\bigvee$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cbigvee" alt="\bigvee"></td></tr><tr><td><code>$\lnot$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Clnot" alt="\lnot"></td><td><code>$\neg q$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cneg%20q" alt="\neg q"></td></tr><tr><td><code>$\setminus$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Csetminus" alt="\setminus"></td><td><code>$\smallsetminus$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Csmallsetminus" alt="\smallsetminus"></td></tr></tbody></table><h3 id="æ ¹å·"><a href="#æ ¹å·" class="headerlink" title="æ ¹å·"></a>æ ¹å·</h3><table><thead><tr><th>è¯­æ³•</th><th>æ•ˆæœ</th><th>è¯­æ³•</th><th>æ•ˆæœ</th></tr></thead><tbody><tr><td><code>$\sqrt{2}$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Csqrt%7B2%7D" alt="\sqrt{2}"></td><td><code>$\sqrt[2]{5}$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Csqrt%5B2%5D%7B5%7D" alt="\sqrt[2]{5}"></td></tr></tbody></table><h3 id="å…³ç³»ç¬¦å·"><a href="#å…³ç³»ç¬¦å·" class="headerlink" title="å…³ç³»ç¬¦å·"></a>å…³ç³»ç¬¦å·</h3><table><thead><tr><th>è¯­æ³•</th><th>æ•ˆæœ</th><th>è¯­æ³•</th><th>æ•ˆæœ</th></tr></thead><tbody><tr><td><code>$\Delta ABC\sim\Delta XYZ$</code></td><td><img src="https://math.jianshu.com/math?formula=%5CDelta%20ABC%5Csim%5CDelta%20XYZ%5C!" alt="\Delta ABC\sim\Delta XYZ!"></td><td><code>$\sqrt{3}\approx1.732050808\ldots$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Csqrt%7B3%7D%5Capprox1.732050808%5Cldots" alt="\sqrt{3}\approx1.732050808\ldots"></td></tr><tr><td><code>$\simeq$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Csimeq" alt="\simeq"></td><td><code>$\cong$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Ccong" alt="\cong"></td></tr><tr><td><code>$\dot=$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cdot=" alt="\dot&#x3D;"></td><td><code>$\ggg$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cggg" alt="\ggg"></td></tr><tr><td><code>$\gg$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cgg" alt="\gg"></td><td><code>$&gt;$</code></td><td><img src="https://math.jianshu.com/math?formula=%3E%5C," alt="&gt;,"></td></tr><tr><td><code>$\ge$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cge" alt="\ge"></td><td><code>$\geqq$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cgeqq" alt="\geqq"></td></tr><tr><td><code>$=$</code></td><td><img src="https://math.jianshu.com/math?formula==%5C," alt="&#x3D;,"></td><td><code>$\leq$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cleq" alt="\leq"></td></tr><tr><td><code>$\leqq$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cleqq" alt="\leqq"></td><td><code>$&lt;$</code></td><td><img src="https://math.jianshu.com/math?formula=%3C%5C," alt="&lt;,"></td></tr><tr><td><code>$\ll$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cll" alt="\ll"></td><td><code>$\lll$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Clll" alt="\lll"></td></tr><tr><td><code>$(x-y)^2\equiv(-x+y)^2\equiv x^2-2xy+y^2$</code></td><td><img src="https://math.jianshu.com/math?formula=(x-y)%5E2%5Cequiv(-x+y)%5E2%5Cequiv%20x%5E2-2xy+y%5E2" alt="(x-y)^2\equiv(-x+y)^2\equiv x^2-2xy+y^2"></td><td><code>$x\not\equiv N$</code></td><td><img src="https://math.jianshu.com/math?formula=x%5Cnot%5Cequiv%20N" alt="x\not\equiv N"></td></tr><tr><td><code>$x\ne A$</code></td><td><img src="https://math.jianshu.com/math?formula=x%5Cne%20A" alt="x\ne A"></td><td><code>$x\neq C$</code></td><td><img src="https://math.jianshu.com/math?formula=x%5Cneq%20C" alt="x\neq C"></td></tr><tr><td><code>$t\propto v$</code></td><td><img src="https://math.jianshu.com/math?formula=t%5Cpropto%20v" alt="t\propto v"></td><td><code>$\pm$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cpm" alt="\pm"></td></tr></tbody></table><h3 id="å‡ ä½•ç¬¦å·"><a href="#å‡ ä½•ç¬¦å·" class="headerlink" title="å‡ ä½•ç¬¦å·"></a>å‡ ä½•ç¬¦å·</h3><table><thead><tr><th>ç‰¹å¾</th><th>è¯­æ³•</th><th>æ•ˆæœ</th></tr></thead><tbody><tr><td>è±å½¢</td><td><code>$\Diamond$</code></td><td><img src="https://math.jianshu.com/math?formula=%5CDiamond" alt="\Diamond"></td></tr><tr><td>æ­£æ–¹å½¢</td><td><code>$\Box$</code></td><td><img src="https://math.jianshu.com/math?formula=%5CBox" alt="\Box"></td></tr><tr><td>Delta</td><td><code>$\Delta$</code></td><td><img src="https://math.jianshu.com/math?formula=%5CDelta" alt="\Delta"></td></tr><tr><td>ä¸‰è§’å›¾å½¢</td><td><code>$\triangle$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Ctriangle" alt="\triangle"></td></tr><tr><td>è§’å</td><td><code>$\angle\Alpha\Beta\Gamma$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cangle%5CAlpha%5CBeta%5CGamma" alt="\angle\Alpha\Beta\Gamma"></td></tr><tr><td>è§’åº¦</td><td><code>$\sin \frac{\pi}{3}=\sin60^\circ=\frac{\sqrt{3}}{2}$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Csin%20%5Cfrac%7B%5Cpi%7D%7B3%7D=%5Csin60%5E%5Ccirc=%5Cfrac%7B%5Csqrt%7B3%7D%7D%7B2%7D" alt="\sin \frac{\pi}{3}&#x3D;\sin60^\circ&#x3D;\frac{\sqrt{3}}{2}"></td></tr><tr><td>å‚ç›´</td><td><code>$\perp$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cperp" alt="\perp"></td></tr></tbody></table><h3 id="ç®­å¤´ç¬¦å·"><a href="#ç®­å¤´ç¬¦å·" class="headerlink" title="ç®­å¤´ç¬¦å·"></a>ç®­å¤´ç¬¦å·</h3><table><thead><tr><th>è¯­æ³•</th><th>æ•ˆæœ</th><th>è¯­æ³•</th><th>æ•ˆæœ</th></tr></thead><tbody><tr><td><code>$\leftarrow$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cleftarrow" alt="\leftarrow"></td><td><code>$\gets$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cgets" alt="\gets"></td></tr><tr><td><code>$\rightarrow$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Crightarrow" alt="\rightarrow"></td><td><code>$\to$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cto" alt="\to"></td></tr><tr><td><code>$\leftrightarrow$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cleftrightarrow" alt="\leftrightarrow"></td><td><code>$\longleftarrow$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Clongleftarrow" alt="\longleftarrow"></td></tr><tr><td><code>$\longrightarrow$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Clongrightarrow" alt="\longrightarrow"></td><td><code>$\mapsto$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cmapsto" alt="\mapsto"></td></tr><tr><td><code>$\longmapsto$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Clongmapsto" alt="\longmapsto"></td><td><code>$\hookrightarrow$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Chookrightarrow" alt="\hookrightarrow"></td></tr><tr><td><code>$\hookleftarrow$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Chookleftarrow" alt="\hookleftarrow"></td><td><code>$\nearrow$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cnearrow" alt="\nearrow"></td></tr><tr><td><code>$\searrow$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Csearrow" alt="\searrow"></td><td><code>$\swarrow$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cswarrow" alt="\swarrow"></td></tr><tr><td><code>$\nwarrow$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cnwarrow" alt="\nwarrow"></td><td><code>$\uparrow$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cuparrow" alt="\uparrow"></td></tr><tr><td><code>$\downarrow$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cdownarrow" alt="\downarrow"></td><td><code>$\updownarrow$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cupdownarrow" alt="\updownarrow"></td></tr><tr><td><code>$\rightharpoonup$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Crightharpoonup" alt="\rightharpoonup"></td><td><code>$\rightharpoondown$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Crightharpoondown" alt="\rightharpoondown"></td></tr><tr><td><code>$\leftharpoonup$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cleftharpoonup" alt="\leftharpoonup"></td><td><code>$\leftharpoondown$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cleftharpoondown" alt="\leftharpoondown"></td></tr><tr><td><code>$\upharpoonleft$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cupharpoonleft" alt="\upharpoonleft"></td><td><code>$\upharpoonright$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cupharpoonright" alt="\upharpoonright"></td></tr><tr><td><code>$\Leftarrow$</code></td><td><img src="https://math.jianshu.com/math?formula=%5CLeftarrow" alt="\Leftarrow"></td><td><code>$\Rightarrow$</code></td><td><img src="https://math.jianshu.com/math?formula=%5CRightarrow" alt="\Rightarrow"></td></tr><tr><td><code>$\Leftrightarrow$</code></td><td><img src="https://math.jianshu.com/math?formula=%5CLeftrightarrow" alt="\Leftrightarrow"></td><td><code>$\Longleftarrow$</code></td><td><img src="https://math.jianshu.com/math?formula=%5CLongleftarrow" alt="\Longleftarrow"></td></tr><tr><td><code>$\Longrightarrow$</code></td><td><img src="https://math.jianshu.com/math?formula=%5CLongrightarrow" alt="\Longrightarrow"></td><td><code>$\Longleftrightarrow (or \iff)$</code></td><td><img src="https://math.jianshu.com/math?formula=%5CLongleftrightarrow" alt="\Longleftrightarrow"></td></tr><tr><td><code>$\Uparrow$</code></td><td><img src="https://math.jianshu.com/math?formula=%5CUparrow" alt="\Uparrow"></td><td><code>$\Downarrow$</code></td><td><img src="https://math.jianshu.com/math?formula=%5CDownarrow" alt="\Downarrow"></td></tr><tr><td><code>$\Updownarrow$</code></td><td><img src="https://math.jianshu.com/math?formula=%5CUpdownarrow" alt="\Updownarrow"></td><td></td><td></td></tr></tbody></table><h3 id="ç‰¹æ®Šç¬¦å·-1"><a href="#ç‰¹æ®Šç¬¦å·-1" class="headerlink" title="ç‰¹æ®Šç¬¦å·"></a>ç‰¹æ®Šç¬¦å·</h3><table><thead><tr><th>è¯­æ³•</th><th>æ•ˆæœ</th><th>è¯­æ³•</th><th>æ•ˆæœ</th></tr></thead><tbody><tr><td><code>$\eth$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Ceth" alt="\eth"></td><td><code>$\S$</code></td><td><img src="https://math.jianshu.com/math?formula=%5CS" alt="\S"></td></tr><tr><td><code>$\%$</code></td><td><img src="https://math.jianshu.com/math?formula=%5C%25" alt="%"></td><td></td><td></td></tr><tr><td><code>$\dagger$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cdagger" alt="\dagger"></td><td><code>$\ddagger$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cddagger" alt="\ddagger"></td></tr><tr><td><code>$\star$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cstar" alt="\star"></td><td><code>$*$</code></td><td><img src="https://math.jianshu.com/math?formula=*" alt="*"></td></tr><tr><td><code>$\ldots$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cldots" alt="\ldots"></td><td><code>$\smile$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Csmile" alt="\smile"></td></tr><tr><td><code>$\frown$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cfrown" alt="\frown"></td><td><code>$\wr$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cwr" alt="\wr"></td></tr><tr><td><code>$\oplus$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Coplus" alt="\oplus"></td><td><code>$\bigoplus$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cbigoplus" alt="\bigoplus"></td></tr><tr><td><code>$\otimes$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cotimes" alt="\otimes"></td><td><code>$\bigotimes$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cbigotimes" alt="\bigotimes"></td></tr><tr><td><code>$\times$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Ctimes" alt="\times"></td><td><code>$\cdot$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Ccdot" alt="\cdot"></td></tr><tr><td><code>$\div$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cdiv" alt="\div"></td><td><code>$\circ$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Ccirc" alt="\circ"></td></tr><tr><td><code>$\bullet$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cbullet" alt="\bullet"></td><td><code>$\bigodot$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cbigodot" alt="\bigodot"></td></tr><tr><td><code>$\boxtimes$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cboxtimes" alt="\boxtimes"></td><td><code>$\boxplus$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cboxplus" alt="\boxplus"></td></tr><tr><td><code>$\triangleleft$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Ctriangleleft" alt="\triangleleft"></td><td><code>$\triangleright$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Ctriangleright" alt="\triangleright"></td></tr><tr><td><code>$\infty$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cinfty" alt="\infty"></td><td><code>$\bot$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cbot" alt="\bot"></td></tr><tr><td><code>$\top$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Ctop" alt="\top"></td><td><code>$\vdash$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cvdash" alt="\vdash"></td></tr><tr><td><code>$\vDash$</code></td><td><img src="https://math.jianshu.com/math?formula=%5CvDash" alt="\vDash"></td><td><code>$\Vdash$</code></td><td><img src="https://math.jianshu.com/math?formula=%5CVdash" alt="\Vdash"></td></tr><tr><td><code>$\models$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cmodels" alt="\models"></td><td><code>$\lVert$</code></td><td><img src="https://math.jianshu.com/math?formula=%5ClVert" alt="\lVert"></td></tr><tr><td><code>$\rVert$</code></td><td><img src="https://math.jianshu.com/math?formula=%5CrVert" alt="\rVert"></td><td></td><td></td></tr><tr><td><code>$\imath$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cimath" alt="\imath"></td><td><code>$\hbar$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Chbar" alt="\hbar"></td></tr><tr><td><code>$\ell$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cell" alt="\ell"></td><td><code>$\mho$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cmho" alt="\mho"></td></tr><tr><td><code>$\Finv$</code></td><td><img src="https://math.jianshu.com/math?formula=%5CFinv" alt="\Finv"></td><td><code>$\Re$</code></td><td><img src="https://math.jianshu.com/math?formula=%5CRe" alt="\Re"></td></tr><tr><td><code>$\Im$</code></td><td><img src="https://math.jianshu.com/math?formula=%5CIm" alt="\Im"></td><td><code>$\wp$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cwp" alt="\wp"></td></tr><tr><td><code>$\complement$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Ccomplement" alt="\complement"></td><td></td><td></td></tr><tr><td><code>$\diamondsuit$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cdiamondsuit" alt="\diamondsuit"></td><td><code>$\heartsuit$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cheartsuit" alt="\heartsuit"></td></tr><tr><td><code>$\clubsuit$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cclubsuit" alt="\clubsuit"></td><td><code>$\spadesuit$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cspadesuit" alt="\spadesuit"></td></tr><tr><td><code>$\Game$</code></td><td><img src="https://math.jianshu.com/math?formula=%5CGame" alt="\Game"></td><td><code>$\flat$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cflat" alt="\flat"></td></tr><tr><td><code>$\natural$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cnatural" alt="\natural"></td><td><code>$\sharp$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Csharp" alt="\sharp"></td></tr></tbody></table><h3 id="ä¸Šæ ‡ã€ä¸‹æ ‡ã€ç§¯åˆ†ç­‰"><a href="#ä¸Šæ ‡ã€ä¸‹æ ‡ã€ç§¯åˆ†ç­‰" class="headerlink" title="ä¸Šæ ‡ã€ä¸‹æ ‡ã€ç§¯åˆ†ç­‰"></a>ä¸Šæ ‡ã€ä¸‹æ ‡ã€ç§¯åˆ†ç­‰</h3><table><thead><tr><th>åŠŸèƒ½</th><th>è¯­æ³•</th><th>æ•ˆæœ</th></tr></thead><tbody><tr><td>ä¸Šæ ‡</td><td><code>$a^2$</code></td><td><img src="https://math.jianshu.com/math?formula=a%5E2" alt="a^2"></td></tr><tr><td>ä¸‹æ ‡</td><td><code>$a_2$</code></td><td><img src="https://math.jianshu.com/math?formula=a_2" alt="a_2"></td></tr><tr><td>ç»„åˆ</td><td><code>$a^{2+2}$</code></td><td><img src="https://math.jianshu.com/math?formula=a%5E%7B2+2%7D" alt="a^{2+2}"></td></tr><tr><td>ç»„åˆ</td><td><code>$a_{i,j}$</code></td><td><img src="https://math.jianshu.com/math?formula=a_%7Bi,j%7D" alt="a_{i,j}"></td></tr><tr><td>ç»“åˆä¸Šä¸‹æ ‡</td><td><code>$x_2^3$</code></td><td><img src="https://math.jianshu.com/math?formula=x_2%5E3" alt="x_2^3"></td></tr><tr><td>å‰ç½®ä¸Šä¸‹æ ‡</td><td><code>${}_1^2\!X_3^4$</code></td><td><img src="https://math.jianshu.com/math?formula=%7B%7D_1%5E2%5C!X_3%5E4" alt="{}_1^2!X_3^4"></td></tr><tr><td>å¯¼æ•°</td><td><code>$x&#39;$</code></td><td><img src="https://math.jianshu.com/math?formula=x%27" alt="x&#39;"></td></tr><tr><td>å¯¼æ•°ç‚¹1</td><td><code>$\dot{x}$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cdot%7Bx%7D" alt="\dot{x}"></td></tr><tr><td>å¯¼æ•°ç‚¹2</td><td><code>$\ddot{y}$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cddot%7By%7D" alt="\ddot{y}"></td></tr><tr><td>å‘é‡1</td><td><code>$\vec{c}$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cvec%7Bc%7D" alt="\vec{c}"></td></tr><tr><td>å‘é‡2</td><td><code>$\overleftarrow{a b}$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Coverleftarrow%7Ba%20b%7D" alt="\overleftarrow{a b}"></td></tr><tr><td>å‘é‡3</td><td><code>$\overrightarrow{c d}$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Coverrightarrow%7Bc%20d%7D" alt="\overrightarrow{c d}"></td></tr><tr><td>å‘é‡4</td><td><code>$\widehat{e f g}$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cwidehat%7Be%20f%20g%7D" alt="\widehat{e f g}"></td></tr><tr><td>ä¸Šå¼§(æ³¨: æ­£ç¡®åº”è¯¥ç”¨ \overarc, ä½†åœ¨è¿™é‡Œè¡Œä¸é€šã€‚è¦ç”¨å»ºè®®çš„è¯­æ³•ä½œä¸ºè§£å†³åŠæ³•)</td><td><code>$\overset{\frown} {AB}$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Coverset%7B%5Cfrown%7D%20%7BAB%7D" alt="\overset{\frown} {AB}"></td></tr><tr><td>ä¸Šåˆ’çº¿1</td><td><code>$\overline{h i j}$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Coverline%7Bh%20i%20j%7D" alt="\overline{h i j}"></td></tr><tr><td>ä¸‹åˆ’çº¿2</td><td><code>$\underline{k l m}$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cunderline%7Bk%20l%20m%7D" alt="\underline{k l m}"></td></tr><tr><td>ä¸Šæ‹¬å·1</td><td><code>$\overbrace{1+2+\cdots+100}$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Coverbrace%7B1+2+%5Ccdots+100%7D" alt="\overbrace{1+2+\cdots+100}"></td></tr><tr><td>ä¸Šæ‹¬å·2</td><td><code>$\begin{matrix} 5050 \\ \overbrace{ 1+2+\cdots+100 }\end{matrix}$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cbegin%7Bmatrix%7D%205050%20%5C%5C%20%5Coverbrace%7B%201+2+%5Ccdots+100%20%7D%5Cend%7Bmatrix%7D" alt="\begin{matrix} 5050 \ \overbrace{ 1+2+\cdots+100 }\end{matrix}"></td></tr><tr><td>ä¸‹æ‹¬å·1</td><td><code>$\underbrace{a+b+\cdots+z}$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cunderbrace%7Ba+b+%5Ccdots+z%7D" alt="\underbrace{a+b+\cdots+z}"></td></tr><tr><td>ä¸‹æ‹¬å·2</td><td><code>$\begin{matrix} \underbrace{ a+b+\cdots+z } \\ 26\end{matrix}$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cbegin%7Bmatrix%7D%20%5Cunderbrace%7B%20a+b+%5Ccdots+z%20%7D%20%5C%5C%2026%5Cend%7Bmatrix%7D" alt="\begin{matrix} \underbrace{ a+b+\cdots+z } \ 26\end{matrix}"></td></tr><tr><td>æ±‚å’Œ 1</td><td><code>$\sum_{k=1}^N k^2$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Csum_%7Bk=1%7D%5EN%20k%5E2" alt="\sum_{k&#x3D;1}^N k^2"></td></tr><tr><td>æ±‚å’Œ 2</td><td><code>$\begin{matrix} \sum_{k=1}^N k^2 \end{matrix}$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cbegin%7Bmatrix%7D%20%5Csum_%7Bk=1%7D%5EN%20k%5E2%20%5Cend%7Bmatrix%7D" alt="\begin{matrix} \sum_{k&#x3D;1}^N k^2 \end{matrix}"></td></tr><tr><td>æ±‚ç§¯ 1</td><td><code>$\prod_{i=1}^N x_i$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cprod_%7Bi=1%7D%5EN%20x_i" alt="\prod_{i&#x3D;1}^N x_i"></td></tr><tr><td>æ±‚ç§¯ 2</td><td><code>$\begin{matrix} \prod_{i=1}^N x_i \end{matrix}$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cbegin%7Bmatrix%7D%20%5Cprod_%7Bi=1%7D%5EN%20x_i%20%5Cend%7Bmatrix%7D" alt="\begin{matrix} \prod_{i&#x3D;1}^N x_i \end{matrix}"></td></tr><tr><td>ä¸Šç§¯ 1</td><td><code>$\coprod_{i=1}^N x_i$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Ccoprod_%7Bi=1%7D%5EN%20x_i" alt="\coprod_{i&#x3D;1}^N x_i"></td></tr><tr><td>ä¸Šç§¯ 2</td><td><code>$\begin{matrix} \coprod_{i=1}^N x_i\end{matrix}$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cbegin%7Bmatrix%7D%20%5Ccoprod_%7Bi=1%7D%5EN%20x_i%5Cend%7Bmatrix%7D" alt="\begin{matrix} \coprod_{i&#x3D;1}^N x_i\end{matrix}"></td></tr><tr><td>æé™ 1</td><td><code>$\lim_{n \to \infty}x_n$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Clim_%7Bn%20%5Cto%20%5Cinfty%7Dx_n" alt="\lim_{n \to \infty}x_n"></td></tr><tr><td>æé™ 2</td><td><code>$\begin{matrix} \lim_{n \to \infty}x_n\end{matrix}$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cbegin%7Bmatrix%7D%20%5Clim_%7Bn%20%5Cto%20%5Cinfty%7Dx_n%5Cend%7Bmatrix%7D" alt="\begin{matrix} \lim_{n \to \infty}x_n\end{matrix}"></td></tr><tr><td>ç§¯åˆ† 1</td><td><code>$\int_{-N}^{N} e^x\, dx$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cint_%7B-N%7D%5E%7BN%7D%20e%5Ex%5C,%20dx" alt="\int_{-N}^{N} e^x, dx"></td></tr><tr><td>ç§¯åˆ† 2</td><td><code>$\begin{matrix} \int_{-N}^{N} e^x\, dx\end{matrix}$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cbegin%7Bmatrix%7D%20%5Cint_%7B-N%7D%5E%7BN%7D%20e%5Ex%5C,%20dx%5Cend%7Bmatrix%7D" alt="\begin{matrix} \int_{-N}^{N} e^x, dx\end{matrix}"></td></tr><tr><td>åŒé‡ç§¯åˆ†</td><td><code>$\iint_{D}^{W} \, dx\,dy$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Ciint_%7BD%7D%5E%7BW%7D%20%5C,%20dx%5C,dy" alt="\iint_{D}^{W} , dx,dy"></td></tr><tr><td>ä¸‰é‡ç§¯åˆ†</td><td><code>$\iiint_{E}^{V} \, dx\,dy\,dz$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Ciiint_%7BE%7D%5E%7BV%7D%20%5C,%20dx%5C,dy%5C,dz" alt="\iiint_{E}^{V} , dx,dy,dz"></td></tr><tr><td>å››é‡ç§¯åˆ†</td><td><code>$\iiiint_{F}^{U} \, dx\,dy\,dz\,dt$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Ciiiint_%7BF%7D%5E%7BU%7D%20%5C,%20dx%5C,dy%5C,dz%5C,dt" alt="\iiiint_{F}^{U} , dx,dy,dz,dt"></td></tr><tr><td>é—­åˆçš„æ›²çº¿ã€æ›²é¢ç§¯åˆ†</td><td><code>$\oint_{C} x^3\, dx + 4y^2\, dy$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Coint_%7BC%7D%20x%5E3%5C,%20dx%20+%204y%5E2%5C,%20dy" alt="\oint_{C} x^3, dx + 4y^2, dy"></td></tr><tr><td>äº¤é›†</td><td><code>$\bigcap_1^{n} p$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cbigcap_1%5E%7Bn%7D%20p" alt="\bigcap_1^{n} p"></td></tr><tr><td>å¹¶é›†</td><td><code>$\bigcup_1^{k} p$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Cbigcup_1%5E%7Bk%7D%20p" alt="\bigcup_1^{k} p"></td></tr></tbody></table><h3 id="ç©ºæ ¼"><a href="#ç©ºæ ¼" class="headerlink" title="ç©ºæ ¼"></a>ç©ºæ ¼</h3><table><thead><tr><th>åŠŸèƒ½</th><th>è¯­æ³•</th><th>æ˜¾ç¤º</th><th>å®½åº¦</th></tr></thead><tbody><tr><td>2ä¸ªquadç©ºæ ¼</td><td><code>$\alpha\qquad\beta$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Calpha%5Cqquad%5Cbeta" alt="\alpha\qquad\beta"></td><td>2m</td></tr><tr><td>quadç©ºæ ¼</td><td><code>$\alpha\quad\beta$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Calpha%5Cquad%5Cbeta" alt="\alpha\quad\beta"></td><td>m</td></tr><tr><td>å¤§ç©ºæ ¼</td><td><code>$\alpha\ \beta$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Calpha%5C%20%5Cbeta" alt="\alpha\ \beta"></td><td><img src="https://math.jianshu.com/math?formula=%5Cfrac%7Bm%7D%7B3%7D" alt="\frac{m}{3}"></td></tr><tr><td>ä¸­ç­‰ç©ºæ ¼</td><td><code>$\alpha\;\beta$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Calpha%5C;%5Cbeta" alt="\alpha;\beta"></td><td><img src="https://math.jianshu.com/math?formula=%5Cfrac%7B2m%7D%7B7%7D" alt="\frac{2m}{7}"></td></tr><tr><td>å°ç©ºæ ¼</td><td><code>$\alpha\,\beta$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Calpha%5C,%5Cbeta" alt="\alpha,\beta"></td><td><img src="https://math.jianshu.com/math?formula=%5Cfrac%7Bm%7D%7B6%7D" alt="\frac{m}{6}"></td></tr><tr><td>æ²¡æœ‰ç©ºæ ¼</td><td><code>$\alpha\beta$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Calpha%5Cbeta" alt="\alpha\beta"></td><td>0</td></tr><tr><td>ç´§è´´</td><td><code>$\alpha\!\beta$</code></td><td><img src="https://math.jianshu.com/math?formula=%5Calpha%5C!%5Cbeta" alt="\alpha!\beta"></td><td><img src="https://math.jianshu.com/math?formula=-%5Cfrac%7Bm%7D%7B6%7D" alt="-\frac{m}{6}"></td></tr></tbody></table>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Markdown-æ•°å­¦ç¬¦å·&quot;&gt;&lt;a href=&quot;#Markdown-æ•°å­¦ç¬¦å·&quot; class=&quot;headerlink&quot; title=&quot;Markdown æ•°å­¦ç¬¦å·&quot;&gt;&lt;/a&gt;Markdown æ•°å­¦ç¬¦å·&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;è¡Œå†…å…¬å¼ç›´æ¥ç”¨&lt;code&gt;$&lt;/code</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>æ·±å…¥ç†è§£ä»€ä¹ˆæ˜¯LSM-Tree</title>
    <link href="http://www.toberoot.com/news/2020/12/19/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E4%BB%80%E4%B9%88%E6%98%AFLSM-Tree/"/>
    <id>http://www.toberoot.com/news/2020/12/19/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E4%BB%80%E4%B9%88%E6%98%AFLSM-Tree/</id>
    <published>2020-12-19T00:00:00.000Z</published>
    <updated>2025-10-22T14:33:10.765Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>è¿‘æœŸåœ¨å­¦ä¹ TiDBï¼Œè€ŒTiDBä¸­åŸºäº RocksDB çš„ TiKV ï¼Œä½¿ç”¨ LSM-treeï¼Œå› æ­¤å†æ¬¡å­¦ä¹ ç›¸å…³çŸ¥è¯†ã€‚</p></blockquote><h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>åå¤šå¹´å‰ï¼Œè°·æ­Œå‘å¸ƒäº†å¤§åé¼é¼çš„â€ä¸‰é©¾é©¬è½¦â€çš„è®ºæ–‡ï¼Œåˆ†åˆ«æ˜¯GFS(2003å¹´)ï¼ŒMapReduceï¼ˆ2004å¹´ï¼‰ï¼ŒBigTableï¼ˆ2006å¹´ï¼‰ï¼Œä¸ºå¼€æºç•Œåœ¨å¤§æ•°æ®é¢†åŸŸå¸¦æ¥äº†æ— æ•°çš„çµæ„Ÿï¼Œå…¶ä¸­åœ¨ â€œBigTableâ€ çš„è®ºæ–‡ä¸­å¾ˆå¤šå¾ˆé…·çš„æ–¹é¢ä¹‹ä¸€å°±æ˜¯å®ƒæ‰€ä½¿ç”¨çš„æ–‡ä»¶ç»„ç»‡æ–¹å¼ï¼Œè¿™ä¸ªæ–¹æ³•æ›´ä¸€èˆ¬çš„åå­—å« Log Structured-Merge Treeã€‚åœ¨é¢å¯¹äº¿çº§åˆ«ä¹‹ä¸Šçš„æµ·é‡æ•°æ®çš„å­˜å‚¨å’Œæ£€ç´¢çš„åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬é€‰æ‹©çš„æ•°æ®åº“é€šå¸¸éƒ½æ˜¯å„ç§å¼ºåŠ›çš„NoSQLï¼Œæ¯”å¦‚Hbaseï¼ŒCassandraï¼ŒLeveldbï¼ŒRocksDBç­‰ç­‰ï¼Œè¿™å…¶ä¸­å‰ä¸¤è€…æ˜¯Apacheä¸‹é¢çš„é¡¶çº§å¼€æºé¡¹ç›®æ•°æ®åº“ï¼Œåä¸¤è€…åˆ†åˆ«æ˜¯Googleå’ŒFacebookå¼€æºçš„æ•°æ®åº“å­˜å‚¨å¼•æ“ã€‚è€Œè¿™äº›å¼ºå¤§çš„NoSQLæ•°æ®åº“éƒ½æœ‰ä¸€ä¸ªå…±æ€§ï¼Œå°±æ˜¯å…¶åº•å±‚ä½¿ç”¨çš„æ•°æ®ç»“æ„ï¼Œéƒ½æ˜¯ä»¿ç…§â€œBigTableâ€ä¸­çš„æ–‡ä»¶ç»„ç»‡æ–¹å¼æ¥å®ç°çš„ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ä»Šå¤©è¦ä»‹ç»çš„LSM-Treeã€‚</p><h3 id="ä»€ä¹ˆæ˜¯LSM-Tree"><a href="#ä»€ä¹ˆæ˜¯LSM-Tree" class="headerlink" title="ä»€ä¹ˆæ˜¯LSM-Tree"></a>ä»€ä¹ˆæ˜¯LSM-Tree</h3><p>LSM-Treeå…¨ç§°æ˜¯Log Structured Merge Treeï¼Œæ˜¯ä¸€ç§åˆ†å±‚ï¼Œæœ‰åºï¼Œé¢å‘ç£ç›˜çš„æ•°æ®ç»“æ„ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯å……åˆ†äº†åˆ©ç”¨äº†ï¼Œç£ç›˜æ‰¹é‡çš„é¡ºåºå†™è¦è¿œæ¯”éšæœºå†™æ€§èƒ½é«˜å‡ºå¾ˆå¤šï¼Œå¦‚ä¸‹å›¾ç¤ºï¼š</p><p><img src="01.jpeg"></p><p>å›´ç»•è¿™ä¸€åŸç†è¿›è¡Œè®¾è®¡å’Œä¼˜åŒ–ï¼Œä»¥æ­¤è®©å†™æ€§èƒ½è¾¾åˆ°æœ€ä¼˜ï¼Œæ­£å¦‚æˆ‘ä»¬æ™®é€šçš„Logçš„å†™å…¥æ–¹å¼ï¼Œè¿™ç§ç»“æ„çš„å†™å…¥ï¼Œå…¨éƒ¨éƒ½æ˜¯ä»¥Appendçš„æ¨¡å¼è¿½åŠ ï¼Œä¸å­˜åœ¨åˆ é™¤å’Œä¿®æ”¹ã€‚å½“ç„¶æœ‰å¾—å°±æœ‰èˆï¼Œè¿™ç§ç»“æ„è™½ç„¶å¤§å¤§æå‡äº†æ•°æ®çš„å†™å…¥èƒ½åŠ›ï¼Œå´æ˜¯ä»¥ç‰ºç‰²éƒ¨åˆ†è¯»å–æ€§èƒ½ä¸ºä»£ä»·ï¼Œæ•…æ­¤è¿™ç§ç»“æ„é€šå¸¸é€‚åˆäºå†™å¤šè¯»å°‘çš„åœºæ™¯ã€‚æ•…LSMè¢«è®¾è®¡æ¥æä¾›æ¯”ä¼ ç»Ÿçš„B+æ ‘æˆ–è€…ISAMæ›´å¥½çš„å†™æ“ä½œååé‡ï¼Œé€šè¿‡æ¶ˆå»éšæœºçš„æœ¬åœ°æ›´æ–°æ“ä½œæ¥è¾¾åˆ°è¿™ä¸ªç›®æ ‡ã€‚è¿™é‡Œé¢æœ€å…¸å‹çš„ä¾‹å­å°±å±äºKakfaäº†ï¼ŒæŠŠç£ç›˜é¡ºåºå†™å‘æŒ¥åˆ°äº†æè‡´ï¼Œæ•…è€Œåœ¨å¤§æ•°æ®é¢†åŸŸæˆä¸ºäº†äº’è”ç½‘å…¬å¸æ ‡é…çš„åˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶ç»„ä»¶ã€‚</p><p>è™½ç„¶è¿™ç§ç»“æ„çš„å†™éå¸¸ç®€å•é«˜æ•ˆï¼Œä½†å…¶ç¼ºç‚¹æ˜¯å¯¹è¯»å–ç‰¹åˆ«æ˜¯éšæœºè¯»å¾ˆä¸å‹å¥½ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæ—¥å¿—é€šå¸¸ç”¨åœ¨ä¸‹é¢çš„ä¸¤ç§ç®€å•çš„åœºæ™¯ï¼š</p><p>ï¼ˆ1ï¼‰ æ•°æ®æ˜¯è¢«æ•´ä½“è®¿é—®çš„ï¼Œå¤§å¤šæ•°æ•°æ®åº“çš„WALï¼ˆwrite ahead logï¼‰ä¹Ÿç§°é¢„å†™logï¼ŒåŒ…æ‹¬mysqlçš„Binlogç­‰</p><p>ï¼ˆ2ï¼‰ æ•°æ®æ˜¯é€šè¿‡æ–‡ä»¶çš„åç§»é‡offsetè®¿é—®çš„ï¼Œæ¯”å¦‚Kafkaã€‚</p><p>æƒ³è¦æ”¯æŒæ›´å¤æ‚å’Œé«˜æ•ˆçš„è¯»å–ï¼Œæ¯”å¦‚æŒ‰keyæŸ¥è¯¢å’ŒæŒ‰rangeæŸ¥è¯¢ï¼Œå°±å¾—éœ€è¦åšä¸€æ­¥çš„è®¾è®¡ï¼Œè¿™ä¹Ÿæ˜¯LSM-Treeç»“æ„ï¼Œé™¤äº†åˆ©ç”¨ç£ç›˜é¡ºåºå†™ä¹‹å¤–ï¼Œè¿˜åˆ’åˆ†äº†å†…å­˜+ç£ç›˜å¤šå±‚çš„åˆå¹¶ç»“æ„çš„åŸå› ï¼Œæ­£æ˜¯åŸºäºè¿™ç§ç»“æ„å†åŠ ä¸Šä¸åŒçš„ä¼˜åŒ–å®ç°ï¼Œæ‰é€ å°±äº†åœ¨è¿™ä¹‹ä¸Šçš„å„ç§ç‹¬å…·ç‰¹ç‚¹çš„NoSQLæ•°æ®åº“ï¼Œå¦‚Hbaseï¼ŒCassandraï¼ŒLeveldbï¼ŒRocksDBï¼Œ<a href="https://cloud.tencent.com/product/mongodb?from=10680">MongoDB</a>ï¼ŒTiDBç­‰ã€‚</p><h3 id="SSTable-å’Œ-LSM-Tree"><a href="#SSTable-å’Œ-LSM-Tree" class="headerlink" title="SSTable å’Œ LSM-Tree"></a>SSTable å’Œ LSM-Tree</h3><p>æåˆ°LSM-Treeè¿™ç§ç»“æ„ï¼Œå°±å¾—æä¸€ä¸‹LevelDBè¿™ä¸ªå­˜å‚¨å¼•æ“ï¼Œæˆ‘ä»¬çŸ¥é“Bigtableæ˜¯è°·æ­Œå¼€æºçš„ä¸€ç¯‡è®ºæ–‡ï¼Œå¾ˆéš¾æ¥è§¦åˆ°å®ƒçš„æºä»£ç å®ç°ã€‚å¦‚æœè¯´Bigtableæ˜¯åˆ†å¸ƒå¼é—­æºçš„ä¸€ä¸ªé«˜æ€§èƒ½çš„KVç³»ç»Ÿï¼Œé‚£ä¹ˆLevelDBå°±æ˜¯è¿™ä¸ªKVç³»ç»Ÿå¼€æºçš„å•æœºç‰ˆå®ç°ï¼Œæœ€ä¸ºé‡è¦çš„æ˜¯LevelDBæ˜¯ç”±Bigtableçš„åŸä½œè€… Jeff Dean å’Œ Sanjay Ghemawat å…±åŒå®Œæˆï¼Œå¯ä»¥è¯´é«˜åº¦å¤åˆ»äº†Bigtable è®ºæ–‡ä¸­å¯¹äºå…¶å®ç°çš„æè¿°ã€‚</p><p>åœ¨LSM-Treeé‡Œé¢ï¼Œæ ¸å¿ƒçš„æ•°æ®ç»“æ„å°±æ˜¯SSTableï¼Œå…¨ç§°æ˜¯Sorted String Tableï¼ŒSSTableçš„æ¦‚å¿µå…¶å®ä¹Ÿæ˜¯æ¥è‡ªäº Google çš„ Bigtable è®ºæ–‡ï¼Œè®ºæ–‡ä¸­å¯¹ SSTable çš„æè¿°å¦‚ä¸‹ï¼š</p><p>An SSTable provides a persistent, ordered immutable map from keys to values, where both keys and values are arbitrary byte strings. Operations are provided to look up the value associated with a specified key, and to iterate over all key&#x2F;value pairs in a specified key range. Internally, each SSTable contains a sequence of blocks (typically each block is 64KB in size, but this is configurable). A block index (stored at the end of the SSTable) is used to locate blocks; the index is loaded into memory when the SSTable is opened. A lookup can be performed with a single disk seek: we first find the appropriate block by performing a binary search in the in-memory index, and then reading the appropriate block from disk. Optionally, an SSTable can be completely mapped into memory, which allows us to perform lookups and scans without touching disk.</p><p>å¦‚ä¸Šæ‰€è¿°ï¼ŒSSTableæ˜¯ä¸€ç§æ‹¥æœ‰æŒä¹…åŒ–ï¼Œæœ‰åºä¸”ä¸å¯å˜çš„çš„é”®å€¼å­˜å‚¨ç»“æ„ï¼Œå®ƒçš„keyå’Œvalueéƒ½æ˜¯ä»»æ„çš„å­—èŠ‚æ•°ç»„ï¼Œå¹¶ä¸”äº†æä¾›äº†æŒ‰æŒ‡å®škeyæŸ¥æ‰¾å’ŒæŒ‡å®šèŒƒå›´çš„keyåŒºé—´è¿­ä»£éå†çš„åŠŸèƒ½ã€‚SSTableå†…éƒ¨åŒ…å«äº†ä¸€ç³»åˆ—å¯é…ç½®å¤§å°çš„Blockå—ï¼Œå…¸å‹çš„å¤§å°æ˜¯64KBï¼Œå…³äºè¿™äº›Blockå—çš„indexå­˜å‚¨åœ¨SSTableçš„å°¾éƒ¨ï¼Œç”¨äºå¸®åŠ©å¿«é€ŸæŸ¥æ‰¾ç‰¹å®šçš„Blockã€‚å½“ä¸€ä¸ªSSTableè¢«æ‰“å¼€çš„æ—¶å€™ï¼Œindexä¼šè¢«åŠ è½½åˆ°å†…å­˜ï¼Œç„¶åæ ¹æ®keyåœ¨å†…å­˜indexé‡Œé¢è¿›è¡Œä¸€ä¸ªäºŒåˆ†æŸ¥æ‰¾ï¼ŒæŸ¥åˆ°è¯¥keyå¯¹åº”çš„ç£ç›˜çš„offsetä¹‹åï¼Œç„¶åå»ç£ç›˜æŠŠå“åº”çš„å—æ•°æ®è¯»å–å‡ºæ¥ã€‚å½“ç„¶å¦‚æœå†…å­˜è¶³å¤Ÿå¤§çš„è¯ï¼Œå¯ä»¥ç›´æ¥æŠŠSSTableç›´æ¥é€šè¿‡MMapçš„æŠ€æœ¯æ˜ å°„åˆ°å†…å­˜ä¸­ï¼Œä»è€Œæä¾›æ›´å¿«çš„æŸ¥æ‰¾ã€‚</p><p><img src="02.jpeg"></p><p>åœ¨LSM-Treeé‡Œï¼ŒSSTableæœ‰ä¸€ä»½åœ¨å†…å­˜é‡Œé¢ï¼Œå…¶ä»–çš„å¤šçº§åœ¨ç£ç›˜ä¸Šï¼Œå¦‚ä¸‹å›¾æ˜¯ä¸€ä»½å®Œæ•´çš„LSM-Treeå›¾ç¤ºï¼š</p><p><img src="03.jpeg"></p><p>æˆ‘ä»¬æ€»ç»“ä¸‹åœ¨åœ¨LSM-Treeé‡Œé¢å¦‚ä½•å†™æ•°æ®çš„ï¼Ÿ</p><p>1ï¼Œå½“æ”¶åˆ°ä¸€ä¸ªå†™è¯·æ±‚æ—¶ï¼Œä¼šå…ˆæŠŠè¯¥æ¡æ•°æ®è®°å½•åœ¨WAL Logé‡Œé¢ï¼Œç”¨ä½œæ•…éšœæ¢å¤ã€‚</p><p>2ï¼Œå½“å†™å®ŒWAL Logåï¼Œä¼šæŠŠè¯¥æ¡æ•°æ®å†™å…¥å†…å­˜çš„SSTableé‡Œé¢ï¼ˆåˆ é™¤æ˜¯å¢“ç¢‘æ ‡è®°ï¼Œæ›´æ–°æ˜¯æ–°è®°å½•ä¸€æ¡çš„æ•°æ®ï¼‰ï¼Œä¹Ÿç§°Memtableã€‚æ³¨æ„ä¸ºäº†ç»´æŒæœ‰åºæ€§åœ¨å†…å­˜é‡Œé¢å¯ä»¥é‡‡ç”¨çº¢é»‘æ ‘æˆ–è€…è·³è·ƒè¡¨ç›¸å…³çš„æ•°æ®ç»“æ„ã€‚</p><p>3ï¼Œå½“Memtableè¶…è¿‡ä¸€å®šçš„å¤§å°åï¼Œä¼šåœ¨å†…å­˜é‡Œé¢å†»ç»“ï¼Œå˜æˆä¸å¯å˜çš„Memtableï¼ŒåŒæ—¶ä¸ºäº†ä¸é˜»å¡å†™æ“ä½œéœ€è¦æ–°ç”Ÿæˆä¸€ä¸ªMemtableç»§ç»­æä¾›æœåŠ¡ã€‚</p><p>4ï¼ŒæŠŠå†…å­˜é‡Œé¢ä¸å¯å˜çš„Memtableç»™dumpåˆ°åˆ°ç¡¬ç›˜ä¸Šçš„SSTableå±‚ä¸­ï¼Œæ­¤æ­¥éª¤ä¹Ÿç§°ä¸ºMinor Compactionï¼Œè¿™é‡Œéœ€è¦æ³¨æ„åœ¨L0å±‚çš„SSTableæ˜¯æ²¡æœ‰è¿›è¡Œåˆå¹¶çš„ï¼Œæ‰€ä»¥è¿™é‡Œçš„key rangeåœ¨å¤šä¸ªSSTableä¸­å¯èƒ½ä¼šå‡ºç°é‡å ï¼Œåœ¨å±‚æ•°å¤§äº0å±‚ä¹‹åçš„SSTableï¼Œä¸å­˜åœ¨é‡å keyã€‚</p><p>5ï¼Œå½“æ¯å±‚çš„ç£ç›˜ä¸Šçš„SSTableçš„ä½“ç§¯è¶…è¿‡ä¸€å®šçš„å¤§å°æˆ–è€…ä¸ªæ•°ï¼Œä¹Ÿä¼šå‘¨æœŸçš„è¿›è¡Œåˆå¹¶ã€‚æ­¤æ­¥éª¤ä¹Ÿç§°ä¸ºMajor Compactionï¼Œè¿™ä¸ªé˜¶æ®µä¼šçœŸæ­£ çš„æ¸…é™¤æ‰è¢«æ ‡è®°åˆ é™¤æ‰çš„æ•°æ®ä»¥åŠå¤šç‰ˆæœ¬æ•°æ®çš„åˆå¹¶ï¼Œé¿å…æµªè´¹ç©ºé—´ï¼Œæ³¨æ„ç”±äºSSTableéƒ½æ˜¯æœ‰åºçš„ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥é‡‡ç”¨merge sortè¿›è¡Œé«˜æ•ˆåˆå¹¶ã€‚</p><p>æ¥ç€æˆ‘ä»¬æ€»ç»“ä¸‹åœ¨LSM-Treeé‡Œé¢å¦‚ä½•è¯»æ•°æ®çš„ï¼Ÿ</p><p>1ï¼Œå½“æ”¶åˆ°ä¸€ä¸ªè¯»è¯·æ±‚çš„æ—¶å€™ï¼Œä¼šç›´æ¥å…ˆåœ¨å†…å­˜é‡Œé¢æŸ¥è¯¢ï¼Œå¦‚æœæŸ¥è¯¢åˆ°å°±è¿”å›ã€‚</p><p>2ï¼Œå¦‚æœæ²¡æœ‰æŸ¥è¯¢åˆ°å°±ä¼šä¾æ¬¡ä¸‹æ²‰ï¼ŒçŸ¥é“æŠŠæ‰€æœ‰çš„Levelå±‚æŸ¥è¯¢ä¸€éå¾—åˆ°æœ€ç»ˆç»“æœã€‚</p><p>æ€è€ƒæŸ¥è¯¢æ­¥éª¤ï¼Œæˆ‘ä»¬ä¼šå‘ç°å¦‚æœSSTableçš„åˆ†å±‚è¶Šå¤šï¼Œé‚£ä¹ˆæœ€åçš„æƒ…å†µä¸‹è¦æŠŠæ‰€æœ‰çš„åˆ†å±‚æ‰«æä¸€éï¼Œå¯¹äºè¿™ç§æƒ…å†µè‚¯å®šæ˜¯éœ€è¦ä¼˜åŒ–çš„ï¼Œå¦‚ä½•ä¼˜åŒ–ï¼Ÿåœ¨ Bigtable è®ºæ–‡ä¸­æå‡ºäº†å‡ ç§æ–¹å¼ï¼š</p><p>1ï¼Œå‹ç¼©</p><p>SSTable æ˜¯å¯ä»¥å¯ç”¨å‹ç¼©åŠŸèƒ½çš„ï¼Œå¹¶ä¸”è¿™ç§å‹ç¼©ä¸æ˜¯å°†æ•´ä¸ª SSTable ä¸€èµ·å‹ç¼©ï¼Œè€Œæ˜¯æ ¹æ® locality å°†æ•°æ®åˆ†ç»„ï¼Œæ¯ä¸ªç»„åˆ†åˆ«å‹ç¼©ï¼Œè¿™æ ·çš„å¥½å¤„å½“è¯»å–æ•°æ®çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸éœ€è¦è§£å‹ç¼©æ•´ä¸ªæ–‡ä»¶è€Œæ˜¯è§£å‹ç¼©éƒ¨åˆ† Group å°±å¯ä»¥è¯»å–ã€‚</p><p>2ï¼Œç¼“å­˜</p><p>å› ä¸ºSSTableåœ¨å†™å…¥ç£ç›˜åï¼Œé™¤äº†Compactionä¹‹å¤–ï¼Œæ˜¯ä¸ä¼šå˜åŒ–çš„ï¼Œæ‰€ä»¥æˆ‘å¯ä»¥å°†Scançš„Blockè¿›è¡Œç¼“å­˜ï¼Œä»è€Œæé«˜æ£€ç´¢çš„æ•ˆç‡</p><p>3ï¼Œç´¢å¼•ï¼ŒBloom filters</p><p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œä¸€ä¸ªè¯»æ“ä½œæ˜¯éœ€è¦è¯»å–æ‰€æœ‰çš„ SSTable å°†ç»“æœåˆå¹¶åè¿”å›çš„ï¼Œä½†æ˜¯å¯¹äºæŸäº› key è€Œè¨€ï¼Œæœ‰äº› SSTable æ˜¯æ ¹æœ¬ä¸åŒ…å«å¯¹åº”æ•°æ®çš„ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹æ¯ä¸€ä¸ª SSTable æ·»åŠ  Bloom Filterï¼Œå› ä¸ºå¸ƒéš†è¿‡æ»¤å™¨åœ¨åˆ¤æ–­ä¸€ä¸ªSSTableä¸å­˜åœ¨æŸä¸ªkeyçš„æ—¶å€™ï¼Œé‚£ä¹ˆå°±ä¸€å®šä¸ä¼šå­˜åœ¨ï¼Œåˆ©ç”¨è¿™ä¸ªç‰¹æ€§å¯ä»¥å‡å°‘ä¸å¿…è¦çš„ç£ç›˜æ‰«æã€‚</p><p>4ï¼Œåˆå¹¶</p><p>è¿™ä¸ªåœ¨å‰é¢çš„å†™å…¥æµç¨‹ä¸­å·²ç»ä»‹ç»è¿‡ï¼Œé€šè¿‡å®šæœŸåˆå¹¶ç˜¦èº«ï¼Œ å¯ä»¥æœ‰æ•ˆçš„æ¸…é™¤æ— æ•ˆæ•°æ®ï¼Œç¼©çŸ­è¯»å–è·¯å¾„ï¼Œæé«˜ç£ç›˜åˆ©ç”¨ç©ºé—´ã€‚ä½†Compactionæ“ä½œæ˜¯éå¸¸æ¶ˆè€—CPUå’Œç£ç›˜IOçš„ï¼Œå°¤å…¶æ˜¯åœ¨ä¸šåŠ¡é«˜å³°æœŸï¼Œå¦‚æœå‘ç”Ÿäº†Major Compactionï¼Œåˆ™ä¼šé™ä½æ•´ä¸ªç³»ç»Ÿçš„ååé‡ï¼Œè¿™ä¹Ÿæ˜¯ä¸€äº›NoSQLæ•°æ®åº“ï¼Œæ¯”å¦‚Hbaseé‡Œé¢å¸¸å¸¸ä¼šç¦ç”¨Major Compactionï¼Œå¹¶åœ¨å‡Œæ™¨ä¸šåŠ¡ä½å³°æœŸè¿›è¡Œåˆå¹¶çš„åŸå› ã€‚</p><p>æœ€åæœ‰çš„åŒå­¦å¯èƒ½ä¼šé—®é“ï¼Œä¸ºä»€ä¹ˆLSMä¸ç›´æ¥é¡ºåºå†™å…¥ç£ç›˜ï¼Œè€Œæ˜¯éœ€è¦åœ¨å†…å­˜ä¸­ç¼“å†²ä¸€ä¸‹ï¼Ÿ è¿™ä¸ªé—®é¢˜å…¶å®å¾ˆå®¹æ˜“è§£ç­”ï¼Œå•æ¡å†™çš„æ€§èƒ½è‚¯å®šæ²¡æœ‰æ‰¹é‡å†™æ¥çš„å—ï¼Œè¿™ä¸ªåŸç†å…¶å®åœ¨Kafkaé‡Œé¢ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œè™½ç„¶kafkaç»™æˆ‘ä»¬çš„æ„Ÿè§‰æ˜¯å†™å…¥åå°±è½åœ°ï¼Œä½†å…¶å®å¹¶ä¸æ˜¯ï¼Œæœ¬èº«æ˜¯ å¯ä»¥æ ¹æ®æ¡æ•°æˆ–è€…æ—¶é—´æ¯”å¦‚200msåˆ·å…¥ç£ç›˜ä¸€æ¬¡ï¼Œè¿™æ ·èƒ½å¤§å¤§æå‡å†™å…¥æ•ˆç‡ã€‚æ­¤å¤–åœ¨LSMä¸­ï¼Œåœ¨ç£ç›˜ç¼“å†²çš„å¦ä¸€ä¸ªå¥½å¤„æ˜¯ï¼Œé’ˆå¯¹æ–°å¢çš„æ•°æ®ï¼Œå¯ä»¥ç›´æ¥æŸ¥è¯¢è¿”å›ï¼Œèƒ½å¤Ÿé¿å…ä¸€å®šçš„IOæ“ä½œã€‚</p><h3 id="B-Tree-VS-LSM-Tree"><a href="#B-Tree-VS-LSM-Tree" class="headerlink" title="B+Tree VS LSM-Tree"></a>B+Tree VS LSM-Tree</h3><p>ä¼ ç»Ÿå…³ç³»å‹æ•°æ®é‡‡ç”¨çš„åº•å±‚æ•°æ®ç»“æ„æ˜¯B+æ ‘ï¼Œé‚£ä¹ˆåŒæ ·æ˜¯é¢å‘ç£ç›˜å­˜å‚¨çš„æ•°æ®ç»“æ„LSM-Treeç›¸æ¯”B+æ ‘æœ‰ä»€ä¹ˆå¼‚åŒä¹‹å¤„å‘¢ï¼Ÿ</p><p>LSM-Treeçš„è®¾è®¡æ€è·¯æ˜¯ï¼Œå°†æ•°æ®æ‹†åˆ†ä¸ºå‡ ç™¾Må¤§å°çš„Segmentsï¼Œå¹¶æ˜¯é¡ºåºå†™å…¥ã€‚</p><p>B+Treeåˆ™æ˜¯å°†æ•°æ®æ‹†åˆ†ä¸ºå›ºå®šå¤§å°çš„Blockæˆ–Page, ä¸€èˆ¬æ˜¯4KBå¤§å°ï¼Œå’Œç£ç›˜ä¸€ä¸ªæ‰‡åŒºçš„å¤§å°å¯¹åº”ï¼ŒPageæ˜¯è¯»å†™çš„æœ€å°å•ä½ã€‚</p><p>åœ¨æ•°æ®çš„æ›´æ–°å’Œåˆ é™¤æ–¹é¢ï¼ŒB+Treeå¯ä»¥åšåˆ°åŸåœ°æ›´æ–°å’Œåˆ é™¤ï¼Œè¿™ç§æ–¹å¼å¯¹æ•°æ®åº“äº‹åŠ¡æ”¯æŒæ›´åŠ å‹å¥½ï¼Œå› ä¸ºä¸€ä¸ªkeyåªä¼šå‡ºç°ä¸€ä¸ªPageé¡µé‡Œé¢ï¼Œä½†ç”±äºLSM-Treeåªèƒ½è¿½åŠ å†™ï¼Œå¹¶ä¸”åœ¨L0å±‚keyçš„rangä¼šé‡å ï¼Œæ‰€ä»¥å¯¹äº‹åŠ¡æ”¯æŒè¾ƒå¼±ï¼Œåªèƒ½åœ¨Segment Compactionçš„æ—¶å€™è¿›è¡ŒçœŸæ­£åœ°æ›´æ–°å’Œåˆ é™¤ã€‚</p><p>å› æ­¤LSM-Treeçš„ä¼˜ç‚¹æ˜¯æ”¯æŒé«˜ååçš„å†™ï¼ˆå¯è®¤ä¸ºæ˜¯Oï¼ˆ1ï¼‰ï¼‰ï¼Œè¿™ä¸ªç‰¹ç‚¹åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸Šæ›´ä¸ºçœ‹é‡ï¼Œå½“ç„¶é’ˆå¯¹è¯»å–æ™®é€šçš„LSM-Treeç»“æ„ï¼Œè¯»å–æ˜¯Oï¼ˆNï¼‰çš„å¤æ‚åº¦ï¼Œåœ¨ä½¿ç”¨ç´¢å¼•æˆ–è€…ç¼“å­˜ä¼˜åŒ–åçš„ä¹Ÿå¯ä»¥è¾¾åˆ°Oï¼ˆlogNï¼‰çš„å¤æ‚åº¦ã€‚</p><p>è€ŒB+treeçš„ä¼˜ç‚¹æ˜¯æ”¯æŒé«˜æ•ˆçš„è¯»ï¼ˆç¨³å®šçš„OlogNï¼‰ï¼Œä½†æ˜¯åœ¨å¤§è§„æ¨¡çš„å†™è¯·æ±‚ä¸‹ï¼ˆå¤æ‚åº¦O(LogN)ï¼‰ï¼Œæ•ˆç‡ä¼šå˜å¾—æ¯”è¾ƒä½ï¼Œå› ä¸ºéšç€insertçš„æ“ä½œï¼Œä¸ºäº†ç»´æŠ¤B+æ ‘ç»“æ„ï¼ŒèŠ‚ç‚¹ä¼šä¸æ–­çš„åˆ†è£‚å’Œåˆå¹¶ã€‚æ“ä½œç£ç›˜çš„éšæœºè¯»å†™æ¦‚ç‡ä¼šå˜å¤§ï¼Œæ•…å¯¼è‡´æ€§èƒ½é™ä½ã€‚</p><p>è¿˜æœ‰ä¸€ç‚¹éœ€è¦æåˆ°çš„æ˜¯åŸºäºLSM-Treeåˆ†å±‚å­˜å‚¨èƒ½å¤Ÿåšåˆ°å†™çš„é«˜ååï¼Œå¸¦æ¥çš„å‰¯ä½œç”¨æ˜¯æ•´ä¸ªç³»ç»Ÿå¿…é¡»é¢‘ç¹çš„è¿›è¡Œcompactionï¼Œå†™å…¥é‡è¶Šå¤§ï¼ŒCompactionçš„è¿‡ç¨‹è¶Šé¢‘ç¹ã€‚è€Œcompactionæ˜¯ä¸€ä¸ªcompare &amp; mergeçš„è¿‡ç¨‹ï¼Œéå¸¸æ¶ˆè€—CPUå’Œå­˜å‚¨IOï¼Œåœ¨é«˜ååçš„å†™å…¥æƒ…å½¢ä¸‹ï¼Œå¤§é‡çš„compactionæ“ä½œå ç”¨å¤§é‡ç³»ç»Ÿèµ„æºï¼Œå¿…ç„¶å¸¦æ¥æ•´ä¸ªç³»ç»Ÿæ€§èƒ½æ–­å´–å¼ä¸‹è·Œï¼Œå¯¹åº”ç”¨ç³»ç»Ÿäº§ç”Ÿå·¨å¤§å½±å“ï¼Œå½“ç„¶æˆ‘ä»¬å¯ä»¥ç¦ç”¨è‡ªåŠ¨Major Compactionï¼Œåœ¨æ¯å¤©ç³»ç»Ÿä½å³°æœŸå®šæœŸè§¦å‘åˆå¹¶ï¼Œæ¥é¿å…è¿™ä¸ªé—®é¢˜ã€‚</p><p>é˜¿é‡Œä¸ºäº†ä¼˜åŒ–è¿™ä¸ªé—®é¢˜ï¼Œåœ¨X-DBå¼•å…¥äº†å¼‚æ„ç¡¬ä»¶è®¾å¤‡FPGAæ¥ä»£æ›¿CPUå®Œæˆcompactionæ“ä½œï¼Œä½¿ç³»ç»Ÿæ•´ä½“æ€§èƒ½ç»´æŒåœ¨é«˜æ°´ä½å¹¶é¿å…æŠ–åŠ¨ï¼Œæ˜¯å­˜å‚¨å¼•æ“å¾—ä»¥æœåŠ¡ä¸šåŠ¡è‹›åˆ»è¦æ±‚çš„å…³é”®ã€‚</p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>æœ¬æ–‡ä¸»è¦ä»‹ç»äº†LSM-Treeçš„ç›¸å…³å†…å®¹ï¼Œç®€å•çš„è¯´ï¼Œå…¶ç‰ºç‰²äº†éƒ¨åˆ†è¯»å–çš„æ€§èƒ½ï¼Œé€šè¿‡æ‰¹é‡é¡ºåºå†™æ¥æ¢å–äº†é«˜ååçš„å†™æ€§èƒ½ï¼Œè¿™ç§ç‰¹æ€§åœ¨å¤§æ•°æ®é¢†åŸŸå¾—åˆ°å……åˆ†äº†ä½“ç°ï¼Œæœ€ç›´æ¥çš„ä¾‹å­å°±å„ç§NoSQLåœ¨å¤§æ•°æ®é¢†åŸŸçš„åº”ç”¨ï¼Œå­¦ä¹ å’Œäº†è§£LSM-Treeçš„ç»“æ„å°†æœ‰åŠ©äºæˆ‘ä»¬æ›´åŠ æ·±å…¥çš„å»ç†è§£ç›¸å…³NoSQLæ•°æ®åº“çš„å®ç°åŸç†ï¼ŒæŒæ¡éšè—åœ¨è¿™äº›æ¡†æ¶ä¸‹é¢çš„æ ¸å¿ƒçŸ¥è¯†ã€‚</p><blockquote class="note info"><p>æœ¬æ–‡åˆ†äº«è‡ªå¾®ä¿¡å…¬ä¼—å· - æˆ‘æ˜¯æ”»åŸå¸ˆï¼ˆwoshigcsï¼‰ï¼Œä½œè€…ï¼šæ”»åŸå¸ˆåœ¨è·¯ä¸Š<br>åŸå§‹å‘è¡¨æ—¶é—´ï¼š2019-05-21</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;è¿‘æœŸåœ¨å­¦ä¹ TiDBï¼Œè€ŒTiDBä¸­åŸºäº RocksDB çš„ TiKV ï¼Œä½¿ç”¨ LSM-treeï¼Œå› æ­¤å†æ¬¡å­¦ä¹ ç›¸å…³çŸ¥è¯†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; ti</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>DAMS ä¸­å›½æ•°æ®æ™ºèƒ½ç®¡ç†å³°ä¼š 2020 ä¸Šæµ·</title>
    <link href="http://www.toberoot.com/news/2020/10/30/dams/"/>
    <id>http://www.toberoot.com/news/2020/10/30/dams/</id>
    <published>2020-10-30T00:00:00.000Z</published>
    <updated>2025-10-22T14:33:10.764Z</updated>
    
    <content type="html"><![CDATA[<p><img src="01.jpeg"></p><p><img src="02.jpeg"></p><h1 id="å¼€æºæ•°æ®åº“-MySQL-åœ¨æ°‘ç”Ÿé“¶è¡Œçš„åº”ç”¨å®è·µ"><a href="#å¼€æºæ•°æ®åº“-MySQL-åœ¨æ°‘ç”Ÿé“¶è¡Œçš„åº”ç”¨å®è·µ" class="headerlink" title="å¼€æºæ•°æ®åº“ MySQL åœ¨æ°‘ç”Ÿé“¶è¡Œçš„åº”ç”¨å®è·µ"></a>å¼€æºæ•°æ®åº“ MySQL åœ¨æ°‘ç”Ÿé“¶è¡Œçš„åº”ç”¨å®è·µ</h1><blockquote><p>æ˜ç”Ÿé“¶è¡Œ é¡¹ç›®ç»ç† å¾æ˜¥é˜³</p></blockquote><ol><li>ä¸ºä»€ä¹ˆè¦ç”¨? å›½å®¶å®‰å…¨è¦æ±‚</li><li>æ€ä¹ˆç”¨ï¼Ÿ è‡ªä¸»</li><li>ç»å†æ€»ç»“ â€œå¹³å¤´å“¥â€çš„ç²¾ç¥ã€ç”¨äºå°è¯•ã€ä¹è§‚æ—¶è°¨æ…ã€â€è°¨æ…â€æ—¶ä¹è§‚ã€æŒç»­å­¦ä¹ ä¸ç ”ç©¶</li><li>å¼€æºæ”¶è·ï¼š èµ„æºã€è‡ªä¸»ã€æ•ˆç‡ã€ç»éªŒã€èƒ½åŠ›ã€ä¹Ÿæ”¶è·äº†æ²‰ç”¸ç”¸çš„è´£ä»»</li><li>ä½¿ç”¨ä¸è¿ç»´MySQLçš„æ¨¡å¼</li></ol><ul><li>åˆ©ç”¨åŠå…¶æœ‰é™çš„èµ„æºç»´æŠ¤æ€»è¡ŒMySQLæ•°æ®åº“ç³»ç»Ÿï¼›</li><li>æŠ“å¤§æ”¾å°ï¼ŒæŠ“ä¸»è¦é‡è¦æ”¾æ¬¡è¦ï¼ŒååŒç®¡ç†</li><li>å»ºè®¾å¿…è¦çš„è¿ç»´å·¥å…·&#x2F;ç³»ç»Ÿè¾…åŠ©è¿ç»´</li><li>åˆ¶å®šä½¿ç”¨è§„èŒƒã€æŒ‡å¯¼æ‰‹å†Œã€çŸ¥è¯†åº“</li></ul><ol start="6"><li>â€œäººå·¥â€æ™ºèƒ½</li></ol><ul><li>æ ‡å‡†ç›‘æ§é¢‘ç‡æ¼æ‰é—´æ­‡æ€§&#x2F;æŠ–åŠ¨æ€§çš„ç°è±¡</li><li>å†æ™ºèƒ½çš„ç›‘æ§éš¾ä»¥åˆ†è¾¨ã€‚ã€‚</li><li>æé«˜â€äººå·¥â€æ™ºèƒ½çš„æ–¹æ³•å°±æ˜¯æŒç»­å­¦ä¹ ä¸ç ”ç©¶ï¼Œé€ææ•°æ®åº“å†…éƒ¨æœºåˆ¶</li></ul><h1 id="å¦‚ä½•æ„å»ºæ•°æ®åº“å®¹å™¨åŒ–PaaS"><a href="#å¦‚ä½•æ„å»ºæ•°æ®åº“å®¹å™¨åŒ–PaaS" class="headerlink" title="å¦‚ä½•æ„å»ºæ•°æ®åº“å®¹å™¨åŒ–PaaS"></a>å¦‚ä½•æ„å»ºæ•°æ®åº“å®¹å™¨åŒ–PaaS</h1><blockquote><p>çˆ±å¯ç”Ÿ èµ„æ·±æ¶æ„å¸ˆ å¾é˜³</p></blockquote><p>æ€è€ƒï¼š ä¸ºä½•ç°åœ¨è¿˜æœ‰ä¼ä¸šä¸€ç‚¹äº‘æ•°æ®åº“éƒ½ä¸ç¢°ï¼Œé€‰æ‹©ä½¿ç”¨è¿™æ ·PaaSå¹³å°å»å®ç°ä½¿ç”¨æ•°æ®åº“çš„éœ€æ±‚å‘¢ï¼Ÿ</p><h1 id="è…¾è®¯æ¸¸æˆå¤§æ•°æ®èµ„äº§ç®¡ç†å®è·µ"><a href="#è…¾è®¯æ¸¸æˆå¤§æ•°æ®èµ„äº§ç®¡ç†å®è·µ" class="headerlink" title="è…¾è®¯æ¸¸æˆå¤§æ•°æ®èµ„äº§ç®¡ç†å®è·µ"></a>è…¾è®¯æ¸¸æˆå¤§æ•°æ®èµ„äº§ç®¡ç†å®è·µ</h1><blockquote><p>è…¾è®¯æ¸¸æˆ å¤§æ•°æ®ç®¡ç†è´Ÿè´£äºº é™ˆæ—è£</p></blockquote><p>ã€Šæ•°æ®èµ„äº§ç®¡ç†å®è·µç™½çš®ä¹¦4.0ã€‹</p><ul><li>æ•°æ®èµ„äº§ç®¡ç† DAMï¼ŒData Asset Management</li><li>å…ƒæ•°æ®ç®¡ç†æˆç†Ÿåº¦ï¼ˆIBMï¼‰</li></ul><blockquote><p>ç›®å‰æ¥è§¦åˆ°çš„é¡¹ç›®ä¸­ï¼Œæ·±åˆ‡ä½“ä¼šåˆ°â€æ²»ç†â€çš„éš¾åº¦å’Œé‡è¦æ€§ã€‚</p></blockquote><h1 id="ä¸€ä¸ªä¸‡äº¿è§„æ¨¡æ•°æ®åº“æ ¸å¿ƒå­˜å‚¨å¼•æ“çš„å®ç°ä¸åº”ç”¨"><a href="#ä¸€ä¸ªä¸‡äº¿è§„æ¨¡æ•°æ®åº“æ ¸å¿ƒå­˜å‚¨å¼•æ“çš„å®ç°ä¸åº”ç”¨" class="headerlink" title="ä¸€ä¸ªä¸‡äº¿è§„æ¨¡æ•°æ®åº“æ ¸å¿ƒå­˜å‚¨å¼•æ“çš„å®ç°ä¸åº”ç”¨"></a>ä¸€ä¸ªä¸‡äº¿è§„æ¨¡æ•°æ®åº“æ ¸å¿ƒå­˜å‚¨å¼•æ“çš„å®ç°ä¸åº”ç”¨</h1><blockquote><p>å—äº¬å½•ä¿¡è½¯ä»¶ CTO æ¯å»¶å¹´</p></blockquote><h1 id="ä»è‡ªç ”æ¼”è¿›çœ‹åˆ†å¸ƒå¼æ•°æ®åº“"><a href="#ä»è‡ªç ”æ¼”è¿›çœ‹åˆ†å¸ƒå¼æ•°æ®åº“" class="headerlink" title="ä»è‡ªç ”æ¼”è¿›çœ‹åˆ†å¸ƒå¼æ•°æ®åº“"></a>ä»è‡ªç ”æ¼”è¿›çœ‹åˆ†å¸ƒå¼æ•°æ®åº“</h1><blockquote><p>ä¸­å›½é“¶è”äº‘è®¡ç®—ä¸­å¿ƒ äº‘ç»„ä»¶æ€»ç›‘ å‘¨å®¶æ™¶</p></blockquote><h1 id="å­—èŠ‚è·³åŠ¨æ•°æ®æ²»ç†å®è·µ"><a href="#å­—èŠ‚è·³åŠ¨æ•°æ®æ²»ç†å®è·µ" class="headerlink" title="å­—èŠ‚è·³åŠ¨æ•°æ®æ²»ç†å®è·µ"></a>å­—èŠ‚è·³åŠ¨æ•°æ®æ²»ç†å®è·µ</h1><blockquote><p>ä»Šæ—¥å¤´æ¡ æ•°æ®BP&#x2F;æ•°æ®æ²»ç†è´Ÿè´£äºº ä»»é•¿å»¶</p></blockquote><p>ç»™æˆ‘æ¯”è¾ƒå¤§çš„è§¦åŠ¨æ˜¯ï¼Œå­—èŠ‚è·³åŠ¨æ²¡æœ‰æˆç«‹è‡ªå·±çš„å¤§æ•°æ®å›¢é˜Ÿï¼Œè€Œæ˜¯å°†ç»„ä»¶äº†ä¸€ä¸ªè™šæ‹Ÿçš„æ•°æ®æ²»ç†å§”å‘˜ä¼šï¼Œè¿™ç§æ–¹å¼éå¸¸å¥½ã€‚</p><p>ä¹‹å‰å‚ä¸åˆ°å¤§æ•°æ®å›¢é˜Ÿçš„é¡¹ç›®ï¼Œæ›´å¤šçš„æ˜¯åšSQLå·¥ç¨‹å¸ˆï¼Œå¦‚æœå®Œå…¨å»åšå…¶å®å°±ä¸¢ä¸‹è‡ªå·±åŸå…ˆçš„æ•°æ®åº“ç®¡ç†æŠ€æœ¯äº†ã€‚ä»–ä»¬çš„è¿™ç§æ–¹å¼æˆ‘å–œæ¬¢ï¼Œè€Œä¸”ä»–ä»¬å¾ˆé«˜æ•ˆç‡ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img src=&quot;01.jpeg&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;02.jpeg&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;å¼€æºæ•°æ®åº“-MySQL-åœ¨æ°‘ç”Ÿé“¶è¡Œçš„åº”ç”¨å®è·µ&quot;&gt;&lt;a href=&quot;#å¼€æºæ•°æ®åº“-MySQL-åœ¨æ°‘ç”Ÿé“¶è¡Œçš„åº”ç”¨å®è·µ&quot; class=&quot;headerlink&quot; t</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>æ€è€ƒï¼šèŠä¸€èŠæ²»ç—…æ•‘äººä¸ç³»ç»Ÿè¿ç»´</title>
    <link href="http://www.toberoot.com/news/2020/10/14/devops-thinking/"/>
    <id>http://www.toberoot.com/news/2020/10/14/devops-thinking/</id>
    <published>2020-10-14T00:00:00.000Z</published>
    <updated>2025-10-22T14:59:20.725Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h1><p>æ²»ç—…æ•‘äººï¼Œè¯Šæ²»å¯¹è±¡ï¼šäººç±»ï¼›ä»·å€¼ï¼šâ€ç”Ÿå‘½â€œ æ— ä»·ï¼›è¯Šæ²»æ–¹æ³•ï¼šåŒ»ç”Ÿå’ŒåŒ»ç–—è®¾å¤‡<br>ç³»ç»Ÿè¿ç»´ï¼Œè¯Šæ²»å¯¹è±¡ï¼šç³»ç»Ÿï¼›ä»·å€¼ï¼šâ€ç”Ÿå‘½â€œ æ— ä»·ï¼›è¯Šæ²»æ–¹æ³•ï¼šè¿ç»´äººå‘˜å’Œè¿ç»´ç³»ç»Ÿ</p><p>æˆ‘å°†ä» ä¸ºä»€ä¹ˆè¦è¯Šæ²»ï¼Ÿè¯Šæ²»çš„æ˜¯è°ï¼Ÿ å¦‚ä½•è¯Šæ²»ï¼Ÿä¸‰ä¸ªæ–¹é¢æ¥å¯¹æ¯”æ€è€ƒã€‚</p><h1 id="è¯Šæ²»çš„ä»·å€¼"><a href="#è¯Šæ²»çš„ä»·å€¼" class="headerlink" title="è¯Šæ²»çš„ä»·å€¼"></a>è¯Šæ²»çš„ä»·å€¼</h1><ul><li><p>äººç±»æ˜¯åŸºå› çš„ç§‘æŠ€äº§ç‰©</p></li><li><p>ç³»ç»Ÿæ˜¯äººç±»çš„ç§‘æŠ€äº§ç‰©</p></li></ul><blockquote><p>ç†è§£äº†ç”Ÿç‰©ä½“å’ŒåŸºå› çš„å…³ç³»ï¼Œæˆ‘ä»¬ä¼šæ›´å¥½åœ°ç†è§£ç§‘æŠ€å’Œäººçš„å…³ç³»ã€‚æ¨èã€Šè‡ªç§çš„åŸºå› ã€‹ï¼Œå¯ä»¥å¸®æˆ‘ä»¬æ›´æ·±åˆ»åœ°ç†è§£ç”Ÿå‘½çš„å®šä¹‰ã€‚ç”Ÿå‘½çš„å†…æ ¸æ˜¯åŸºå› ï¼Œä¸€ç»„ä¿¡æ¯ç¼–ç ã€‚åŸºå› è‡ªæœ‰å…¶æ„å¿—ï¼Œç”Ÿç‰©çš„å¾ˆå¤šè¡Œä¸ºå¯¹å…¶è‡ªèº«æ˜¯ç—›è‹¦çš„ï¼Œä½†å¯¹åŸºå› æœ‰åˆ©ï¼Œæ¯”å¦‚è³è‚çš„è‡ªæˆ‘ç‰ºç‰²ï¼Œå†æ¯”å¦‚èŠ‚è‚²æªæ–½å‘æ˜å‰ï¼Œå¤šå°‘ç©·äººå…»ä¸èµ·å­©å­ï¼Œæ ¹æœ¬ä¸æƒ³ç”Ÿé‚£ä¹ˆå¤šå­©å­ï¼Œå´ä¸æ–­ç”Ÿå‡ºå­©å­ã€‚</p></blockquote><p>æ¢ä¸ªè§†è§’ï¼Œç”Ÿç‰©ä½“ç”¨ç´«è‰²ç´ è·å¾—è§†è§‰ã€ç”¨ç‰™é½¿è·å¾—åš¼ç¢é£Ÿç‰©åŠŸèƒ½ï¼Œä½•å°ä¸æ˜¯ç§‘æŠ€ï¼Ÿåªä¸è¿‡ï¼Œè¿™ç§ç§‘æŠ€ä¸æ˜¯ç”¨ä¹¦æœ¬è®°å½•ï¼Œè€Œæ˜¯ç”¨åŸºå› è®°å½•ã€‚ä¸æ˜¯é å­¦æœ¯è®ºæ–‡å‡çº§ï¼Œè€Œæ˜¯é ç‰©ç§ç«äº‰å‡çº§ã€‚ç§‘æŠ€ï¼Œè¿™æ ·çœ‹ï¼Œç”šè‡³å¹¶éæºäºäººç±»ï¼Œå®ƒå’ŒåŸºå› åƒæ˜¯ä¸¤ç§æ›´å¤è€å’Œæ’ä¹…çš„ç”Ÿå‘½ã€‚</p><p>åŸºå› è®¤ä¸ºäººç±»æ´»ç€æœ€é‡è¦ï¼Œäººç±»è®¤ä¸ºç³»ç»ŸæœåŠ¡é«˜å¯ç”¨å’Œæ•°æ®é«˜å¯é æ€§æœ€é‡è¦ã€‚</p><h1 id="è¯Šæ²»çš„å¯¹è±¡"><a href="#è¯Šæ²»çš„å¯¹è±¡" class="headerlink" title="è¯Šæ²»çš„å¯¹è±¡"></a>è¯Šæ²»çš„å¯¹è±¡</h1><blockquote><p>äººè‹¥ä½œä¸ºç¤¾ä¼šå·¥å…·æ¥çœ‹ï¼Œå·¥ä½œç§ç±»çš„ä¸åŒï¼Œç¤¾ä¼šåœ°ä½ä¹Ÿä¸åŒï¼Œäº§ç”Ÿçš„ç¤¾ä¼šä»·å€¼å„ä¸ç›¸åŒï¼Œæ¯”è¾ƒä»·å€¼æ²¡æœ‰æ„ä¹‰ï¼›</p><p>ç³»ç»ŸåŒæ ·ä¹Ÿæ˜¯ä¸€ç§å·¥å…·ï¼Œå¯èƒ½æ˜¯æœåŠ¡äºå…¬ç›Šçš„ï¼Œå¯èƒ½æ˜¯æœåŠ¡äºæŸä¸ªå…¬å¸èµšé’±çš„ï¼Œè¿™ä¸ªä»·å€¼ä¹Ÿæ˜¯ä¸èƒ½æ¯”è¾ƒçš„ã€‚</p></blockquote><p>æœ‰äººä¼šè¯´ï¼Œæˆ‘ç»´æŠ¤çš„æ˜¯é“¶è¡Œç³»ç»Ÿå…¨ä¸–ç•Œçš„äººéƒ½ä¼šç”¨åˆ°ï¼Œä½ ç»´æŠ¤çš„æ˜¯ä¸ªåŠå…¬OAç³»ç»Ÿï¼Œé“¶è¡Œç³»ç»Ÿçš„ä»·å€¼æ¯”OAç³»ç»Ÿçš„ä»·å€¼å¥½å¤šäº†ã€‚ä»æœåŠ¡çš„é«˜å¯ç”¨å’Œæ•°æ®çš„é«˜å¯é æ€§ä¸Šå»æ¯”è¾ƒä¸€ä¸‹ã€‚é“¶è¡Œç³»ç»Ÿä¸­æ–­1åˆ†é’Ÿå°†ä¼šå¸¦æ¥å¾ˆå¤§çš„æŸå¤±ï¼Œè€ŒOAç³»ç»Ÿæ–­ä¸ªä¸€å¤©ä¹Ÿæ²¡äº‹ã€‚é“¶è¡Œæ•°æ®ä¸¢å¤±å’ŒOAçš„æ•°æ®ä¸¢å¤±å¸¦æ¥çš„å½±å“ä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ã€‚</p><p>ç³»ç»Ÿå’Œäººä»æŸç§æ„ä¹‰ä¸Šæ¥çœ‹éƒ½æ˜¯å·¥å…·ã€‚å¯¹äºç¤¾ä¼šçš„ä»·å€¼ä¹Ÿç”±å„è‡ªçš„å·¥å…·å±æ€§å†³å®šäº†ä»·å€¼çš„ä¸åŒï¼Œæ³¨æ„æ˜¯ä¸åŒï¼Œ ä¸æ˜¯ä»·å€¼é«˜ä½ã€‚</p><p>ä¸Šé¢çš„å°æ•…äº‹ä¸­ï¼ŒAéƒ½ç”¨ç°é‡‘é“¶è¡Œç³»ç»ŸæŒ‚äº†å’Œä»–ä¸€ç‚¹å…³ç³»éƒ½æ²¡æœ‰ï¼Œä½†æ˜¯OAç³»ç»Ÿä¸­æœ‰ä»–åˆšåˆšç”³è¯·çš„åˆåŒæµç¨‹ï¼Œç­‰ç€å®¡æ‰¹ï¼Œé‚£ä½ è¯´è¿™ä¸¤ä¸ªç³»ç»Ÿå“ªä¸ªä»·å€¼å¯¹Aæ¥è¯´æ›´é«˜ã€‚</p><p><strong>ä»·å€¼ï¼Œæ˜¯å®¢ä½“çš„å¯¹ä¸»ä½“è€Œè¨€çš„ä»·å€¼ã€‚</strong></p><h1 id="è¯Šæ²»æ–¹æ³•"><a href="#è¯Šæ²»æ–¹æ³•" class="headerlink" title="è¯Šæ²»æ–¹æ³•"></a>è¯Šæ²»æ–¹æ³•</h1><blockquote><p>æ²»ç—…æ•‘äººçš„å‘å±•å†å²è¦æ¯”ç³»ç»Ÿè¿ç»´çš„å†å²é•¿å¾—å¤šï¼Œæˆ‘ä»¬ä¸€èµ·çœ‹çœ‹æ˜¯å¦æœ‰å¯å€Ÿé‰´çš„åœ°æ–¹ã€‚</p></blockquote><h2 id="æ¦‚å¿µå‚è€ƒ"><a href="#æ¦‚å¿µå‚è€ƒ" class="headerlink" title="æ¦‚å¿µå‚è€ƒ"></a>æ¦‚å¿µå‚è€ƒ</h2><p><strong>åŒ»å­¦</strong>æ˜¯é€šè¿‡ç§‘å­¦æˆ–æŠ€æœ¯çš„æ‰‹æ®µå¤„ç†äººä½“çš„å„ç§ç–¾ç—…æˆ–ç—…å˜çš„å­¦ç§‘ã€‚å®ƒæ˜¯ç”Ÿç‰©å­¦çš„åº”ç”¨å­¦ç§‘ï¼Œåˆ†åŸºç¡€åŒ»å­¦ã€ä¸´åºŠåŒ»å­¦ã€‚ä»è§£å‰–å±‚é¢å’Œåˆ†å­é—ä¼ å±‚é¢æ¥å¤„ç†äººä½“ç–¾ç—…çš„é«˜çº§ç§‘å­¦ã€‚å®ƒæ˜¯ä¸€ä¸ªä»é¢„é˜²åˆ°æ²»ç–—ç–¾ç—…çš„ç³»ç»Ÿå­¦ç§‘ï¼Œç ”ç©¶é¢†åŸŸå¤§æ–¹å‘åŒ…æ‹¬åŸºç¡€åŒ»å­¦ã€ä¸´åºŠåŒ»å­¦ã€æ³•åŒ»å­¦ã€æ£€éªŒåŒ»å­¦ã€é¢„é˜²åŒ»å­¦ã€ä¿å¥åŒ»å­¦ã€åº·å¤åŒ»å­¦ç­‰ã€‚</p><p>ä»¥ä¸‹ä»…ä¸ºä¸ªäººå‚è€ƒåŒ»å­¦æ€è€ƒè€Œå¾—çš„â€œè¿ç»´å­¦â€æ¦‚å¿µã€‚ğŸ˜„</p><p>**â€è¿ç»´å­¦â€**æ˜¯é€šè¿‡ç§‘å­¦æˆ–æŠ€æœ¯çš„æ‰‹æ®µå¤„ç†ç³»ç»Ÿçš„å„ç§æ•…éšœæˆ–ç“¶é¢ˆçš„å­¦ç§‘ã€‚å®ƒæ˜¯è®¡ç®—æœºçš„åº”ç”¨å­¦ç§‘ï¼Œåˆ†åŸºç¡€è®¡ç®—æœºç§‘å­¦ã€ç”Ÿäº§è¿ç»´å­¦ã€æ¶æ„ä¼˜åŒ–å­¦ã€è‡ªåŠ¨åŒ–è¿ç»´å­¦ã€é¢„é˜²è¿ç»´å­¦ã€ä¿å¥è¿ç»´å­¦ã€åº·å¤è¿ç»´å­¦ã€‚ä¸€ä¸ªä»é¢„é˜²åˆ°æ²»ç–—çš„ç³»ç»Ÿå­¦ç§‘ã€‚</p><h2 id="å­¦ä¹ æ¸ é“"><a href="#å­¦ä¹ æ¸ é“" class="headerlink" title="å­¦ä¹ æ¸ é“"></a>å­¦ä¹ æ¸ é“</h2><p>è¿ç»´ï¼Œç›®å‰è¿˜æ²¡æœ‰èƒ½å¤Ÿå‘å±•åˆ°ä¸€ä¸ªå­¦ç§‘çš„åœ°æ­¥ï¼Œè‡³å°‘å¤§å­¦ä¸­è¿˜æ²¡æœ‰åƒåŒ»å­¦é‚£æ ·æœ‰ä¸“ä¸šçš„è¿ç»´é™¢æ ¡ï¼Œè¿ç»´ä¸“ä¸šã€‚ç›®å‰å¤§å­¦ä¸­è¿˜æ˜¯è®¡ç®—æœºåŸºç¡€å­¦ç§‘å’Œè®¡ç®—æœºè½¯ä»¶å ä¸»æµã€‚æ„Ÿè§‰å°±åƒæ˜¯å¤§å®¶åªå­¦ä¹ äººä½“ç»„æˆï¼Œé€ äººæŠ€æœ¯ï¼Œå’Œè®©äººåšå·¥çš„å­¦é—®ï¼Œå´ä¸ç ”ç©¶äººç”Ÿç—…å’Œæˆé•¿çš„é—®é¢˜ã€‚<br>ç›¸ä¿¡å°†æ¥ä¸€å®šä¼šæœ‰çš„ï¼<br>ç›®å‰å­¦ä¹ è¿ç»´ä¸»è¦æ˜¯ç¤¾ä¼šåŸ¹è®­æœºæ„å’Œå…¬å¸å®é™…ç”Ÿäº§ç§¯ç´¯ã€‚</p><h2 id="äººä¸ç³»ç»Ÿ"><a href="#äººä¸ç³»ç»Ÿ" class="headerlink" title="äººä¸ç³»ç»Ÿ"></a>äººä¸ç³»ç»Ÿ</h2><p>æˆ‘å°è¯•ä»<strong>åŒ»ç”Ÿ</strong>ä¸<strong>åŒ»ç–—è®¾å¤‡</strong>æ¥çœ‹<strong>è¿ç»´äººå‘˜</strong>ä¸<strong>è¿ç»´ç³»ç»Ÿ</strong>çš„å…³ç³»ã€‚</p><blockquote><p>åŒ»ç”Ÿä¸ç°ä»£åŒ»ç–—å™¨æ¢°å“ªä¸ªæ–¹é¢æ›´é‡è¦ï¼Ÿ<br>è¿ç»´äººå‘˜ä¸è¿ç»´ç³»ç»Ÿå“ªä¸ªæ›´é‡è¦ï¼Ÿ</p></blockquote><p>åœ¨ç›®å‰çš„ç§‘æŠ€å’Œäººæ–‡æ¡ä»¶ä¸‹ï¼ŒçŸ­æ—¶é—´å†…äºŒè€…æ— æ³•ç›¸äº’å–ä»£ã€‚</p><p>åŒ»ç”Ÿå’ŒåŒ»ç–—è®¾å¤‡çš„å…³ç³»ï¼šåŒ»ç”Ÿè´Ÿè´£é€šè¿‡è‡ªå·±çš„çŸ¥è¯†å’Œç»éªŒæ¥å†³å®šæ‚£è€…åº”è¯¥è¿›è¡Œå“ªäº›ä»ªå™¨çš„æ£€æŸ¥ï¼Œå…ˆè¿›çš„åŒ»ç–—å™¨æ¢°è´Ÿè´£å°†ä¼ ç»ŸæŸ¥ä½“å‘ç°ä¸äº†çš„å’Œæ— æ³•å‡†ç¡®è¿›è¡Œæ€§è´¨åŒºåˆ†çš„ç—…å˜æ¸…æ™°çš„ã€å‡†ç¡®çš„æ˜¾ç¤ºå‡ºæ¥ï¼Œå†ç”±åŒ»ç”Ÿå¯¹æœºå™¨ç»™å‡ºçš„ç»“æœè¿›è¡Œåˆ¤è¯»å’Œåˆ†æã€‚<br>åœ¨ç›®å‰çš„ç§‘æŠ€å’Œäººæ–‡æ¡ä»¶ä¸‹ï¼ŒçŸ­æ—¶é—´å†…äºŒè€…æ— æ³•ç›¸äº’å–ä»£ã€‚</p><p>æˆ‘ä»¬å†çœ‹çœ‹è¿ç»´äººå‘˜å’Œè¿ç»´ç³»ç»Ÿ</p><ol><li>è¿ç»´äººå‘˜è´Ÿè´£é€šè¿‡è‡ªå·±çš„çŸ¥è¯†å’Œç»éªŒæ¥å†³å®šæ‚£è€…åº”è¯¥è¿›è¡Œå“ªäº›ç³»ç»Ÿçš„æ£€æŸ¥ã€‚ç”±äºè½¯ä»¶ç³»ç»Ÿçš„å¤æ‚åº¦ç›®å‰è¿˜æ²¡æœ‰èƒ½å¤Ÿåƒäººç±»ç”Ÿå‘½ç³»ç»Ÿé‚£ä¹ˆå¤æ‚ï¼Œå› æ­¤ä½œå‡ºä¸€ä¸ªå…¨é¢æ£€æŸ¥çš„ç³»ç»Ÿè¿˜æ˜¯å¯è¡Œçš„ï¼Œå°†æ¥è¿™éƒ¨åˆ†çš„å·¥ä½œäº¤ç»™ç³»ç»Ÿå»å®Œæˆå³å¯ã€‚</li><li>å…ˆè¿›çš„è¿ç»´ç³»ç»Ÿè´Ÿè´£å°†ä¼ ç»ŸæŸ¥ä½“å‘ç°ä¸äº†çš„å’Œæ— æ³•å‡†ç¡®è¿›è¡Œæ€§è´¨åŒºåˆ†çš„ç—…å˜æ¸…æ™°çš„ã€å‡†ç¡®çš„æ˜¾ç¤ºå‡ºæ¥ï¼Œå†ç”±è¿ç»´äººå‘˜å¯¹æœºå™¨ç»™å‡ºçš„ç»“æœè¿›è¡Œåˆ¤è¯»å’Œåˆ†æã€‚</li></ol><p>ä»¥ä¸Šä¸¤ä¸ªæ­¥éª¤æˆ‘ä»¬ç®€å•åˆ’åˆ†ä¸º è¯Šæ–­ å’Œ æ²»ç–—ã€‚</p><p>è¯Šæ–­æ˜¯æ²»ç–—çš„å‰æï¼Œä½†æ˜¯å•è¯Šæ–­å‡ºé—®é¢˜å´æ— æ³•æ²»ç–—ä¹Ÿæ˜¯å¾’åŠ³ã€‚æ‰€ä»¥äºŒè€…ç›¸è¾…ç›¸æˆï¼Œæ²¡æœ‰ä»·å€¼çš„é«˜ä½ä¹‹åˆ†ã€‚</p><p>ä¸ªäººè€Œè¨€ï¼Œæˆ‘ä¹æ„æé«˜è¿ç»´å·¥å…·çš„èƒ½åŠ›å°†è¯Šæ–­çš„äº‹æƒ…äº¤ç»™æ•ˆç‡æ›´é«˜çš„å·¥å…·æ¥åšï¼Œä¸”èŠ±æ›´å¤šçš„æ—¶é—´å»é’»ç ”â€œæ²»ç–—â€æé«˜è§£å†³ç–‘éš¾æ‚ç—‡çš„èƒ½åŠ›ä»¥åŠä¸šåŠ¡ç³»ç»Ÿä¼˜åŒ–èƒ½åŠ›ã€‚</p><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>äº§å“èƒ½æ‹¿ä¸‹èèµ„ï¼Œæ˜¯å› ä¸ºå¯¹äºæŠ•èµ„äººæ¥è¯´ä»–ä»¬è®¤ä¸ºè¿ç»´ç³»ç»Ÿå¯¹ä»–ä»¬æœ‰ä»·å€¼ã€‚</p><p>ä½†ä¸èƒ½ä»£è¡¨è¿ç»´äººå‘˜å¯¹äºå…¶ä»–äººéƒ½æ˜¯æ²¡æœ‰ä»·å€¼çš„ã€‚äººçš„ä»·å€¼è§‚ä¸åŒè€Œå·²ã€‚è¿ç»´äººå‘˜ä¸è¿ç»´ç³»ç»Ÿç›¸è¾…ç›¸æˆã€‚</p><h2 id="å…³äºè‡ªå·±"><a href="#å…³äºè‡ªå·±" class="headerlink" title="å…³äºè‡ªå·±"></a>å…³äºè‡ªå·±</h2><ol><li>å¤§é‡å·¥ä½œæ”¾åœ¨å¦‚ä½•è‡ªåŠ¨åŒ–ï¼Œå¦‚ä½•è‡ªæ²»ç³»ç»Ÿè¿™è¾¹ï¼Œå‚ä¸ç¼–ç æˆ–è®¾è®¡å¹¶ä¼˜åŒ–å„ä¸ªç³»ç»Ÿã€‚</li><li>æ‹¥æŠ±å¼€æºå½¢æˆè‡ªèº«æŠ€æœ¯æ ˆï¼Œæ ‡å‡†åŒ–ä¸€äº›æŠ€æœ¯å»è§£å†³é—®é¢˜ã€‚</li><li>å°†å›½å¤–çš„SREæ€æƒ³å’Œå›½å†…çš„å®é™…ç›¸ç»“åˆï¼Œæ—¶åˆ»ä¿æŒå­¦ä¹ å’Œæ€»ç»“çš„å¿ƒæ€ï¼Œåšå¥½è‡ªå·±çš„å®šä½ã€‚</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;å¼•è¨€&quot;&gt;&lt;a href=&quot;#å¼•è¨€&quot; class=&quot;headerlink&quot; title=&quot;å¼•è¨€&quot;&gt;&lt;/a&gt;å¼•è¨€&lt;/h1&gt;&lt;p&gt;æ²»ç—…æ•‘äººï¼Œè¯Šæ²»å¯¹è±¡ï¼šäººç±»ï¼›ä»·å€¼ï¼šâ€ç”Ÿå‘½â€œ æ— ä»·ï¼›è¯Šæ²»æ–¹æ³•ï¼šåŒ»ç”Ÿå’ŒåŒ»ç–—è®¾å¤‡&lt;br&gt;ç³»ç»Ÿè¿ç»´ï¼Œè¯Šæ²»å¯¹è±¡ï¼šç³»ç»Ÿï¼›ä»·å€¼ï¼šâ€ç”Ÿå‘½â€œ æ— ä»·ï¼›è¯Šæ²»æ–¹æ³•ï¼šè¿</summary>
      
    
    
    
    <category term="éšç¬”" scheme="http://www.toberoot.com/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
  </entry>
  
  <entry>
    <title>Percona Toolkitå·¥å…·æ˜ç»†è¯´æ˜</title>
    <link href="http://www.toberoot.com/news/2020/09/26/tec-mysql/"/>
    <id>http://www.toberoot.com/news/2020/09/26/tec-mysql/</id>
    <published>2020-09-26T00:00:00.000Z</published>
    <updated>2025-10-22T14:33:10.764Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ•°æ®åº“ç‰ˆæœ¬å’Œå·¥å…·ç‰ˆæœ¬è¦æ±‚"><a href="#æ•°æ®åº“ç‰ˆæœ¬å’Œå·¥å…·ç‰ˆæœ¬è¦æ±‚" class="headerlink" title="æ•°æ®åº“ç‰ˆæœ¬å’Œå·¥å…·ç‰ˆæœ¬è¦æ±‚"></a>æ•°æ®åº“ç‰ˆæœ¬å’Œå·¥å…·ç‰ˆæœ¬è¦æ±‚</h1><table><thead><tr><th>æ•°æ®åº“</th><th>ç‰ˆæœ¬</th><th><em>Percona Toolkit ç‰ˆæœ¬ï¼ˆé‡‡ç”¨æœ€æ–°å°ç‰ˆæœ¬ï¼‰</em></th><th><em>Percona Toolkit å°ç‰ˆæœ¬</em>è¦æ±‚</th></tr></thead><tbody><tr><td>MySQL</td><td>5.5</td><td><em>Percona Toolkit 2.2</em></td><td><em>Percona Toolkit 2.2.1ä»¥ä¸Šç‰ˆæœ¬</em></td></tr><tr><td>MySQL</td><td>5.6</td><td><em>Percona Toolkit 2.2</em></td><td><em>Percona Toolkit 2.2.1ä»¥ä¸Šç‰ˆæœ¬</em></td></tr><tr><td>MySQL</td><td>5.7</td><td><em>Percona Toolkit 2.2</em></td><td><em>Percona Toolkit 2.2.17ä»¥ä¸Šç‰ˆæœ¬</em></td></tr><tr><td>MySQL</td><td>8.0</td><td><em>Percona Toolkit 3.0</em></td><td><em>Percona Toolkit 3.0.1</em></td></tr><tr><td>MariaDB</td><td>MariaDB 10.4</td><td><em>Percona Toolkit 3.0</em></td><td><em>Percona Toolkit 3.2.0</em></td></tr></tbody></table><ul><li><a href="https://www.percona.com/doc/percona-toolkit/LATEST/release_notes.html#v0-9-5-released-2011-08-04">Percona Toolkitè¿­ä»£æ—¥å¿—</a></li><li><a href="https://www.percona.com/services/policies/percona-software-platform-lifecycle">Percona Toolkitæ”¯æŒçš„å¹³å°å’Œç‰ˆæœ¬</a></li></ul><h1 id="Percona-Toolkitå·¥å…·ç»†èŠ‚è¯´æ˜"><a href="#Percona-Toolkitå·¥å…·ç»†èŠ‚è¯´æ˜" class="headerlink" title="Percona Toolkitå·¥å…·ç»†èŠ‚è¯´æ˜"></a>Percona Toolkitå·¥å…·ç»†èŠ‚è¯´æ˜</h1><p>Percona Toolkit å·¥å…·æ‰§è¡Œéœ€è¦ä¸¤ä¸ªç”¨æˆ·ï¼š</p><ol><li><p>æ•°æ®åº“ç”¨æˆ·ï¼šæˆæƒå¦‚ä¸‹</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">&#x27;solardb&#x27;</span>@<span class="string">&#x27;%&#x27;</span> IDENTIFIED <span class="keyword">BY</span> <span class="string">&#x27;SolarDB@123&#x27;</span>;</span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> <span class="keyword">ON</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">TO</span> <span class="string">&#x27;solardb&#x27;</span>@<span class="string">&#x27;%&#x27;</span> <span class="keyword">with</span> <span class="keyword">grant</span> options;</span><br><span class="line">FLUSH PRIVILEGES;</span><br></pre></td></tr></table></figure></li><li><p>å·¥å…·æ¦‚è§ˆ</p></li></ol><p><a href="https://www.percona.com/doc/percona-toolkit/LATEST/pt-online-schema-change.html">https://www.percona.com/doc/percona-toolkit/LATEST/pt-online-schema-change.html</a></p><table><thead><tr><th>å·¥å…·å‘½ä»¤</th><th>å·¥å…·ä½œç”¨</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>å¼€å‘ç±»</td><td>pt-duplicate-key-checker</td><td>åˆ—å‡ºå¹¶åˆ é™¤é‡å¤çš„ç´¢å¼•å’Œå¤–é”®</td></tr><tr><td></td><td>pt-online-schema-change</td><td>åœ¨çº¿ä¿®æ”¹è¡¨ç»“æ„</td></tr><tr><td></td><td>pt-query-advisor</td><td>åˆ†ææŸ¥è¯¢è¯­å¥ï¼Œå¹¶ç»™å‡ºå»ºè®®ï¼Œæœ‰bug å·²åºŸå¼ƒ</td></tr><tr><td></td><td>pt-show-grants</td><td>è§„èŒƒåŒ–å’Œæ‰“å°æƒé™</td></tr><tr><td></td><td>pt-upgrade</td><td>åœ¨å¤šä¸ªæœåŠ¡å™¨ä¸Šæ‰§è¡ŒæŸ¥è¯¢ï¼Œå¹¶æ¯”è¾ƒä¸åŒ</td></tr><tr><td>æ€§èƒ½ç±»</td><td>pt-index-usage</td><td>åˆ†ææ—¥å¿—ä¸­ç´¢å¼•ä½¿ç”¨æƒ…å†µï¼Œå¹¶å‡ºæŠ¥å‘Š</td></tr><tr><td></td><td>pt-pmp</td><td>ä¸ºæŸ¥è¯¢ç»“æœè·Ÿè¸ªï¼Œå¹¶æ±‡æ€»è·Ÿè¸ªç»“æœ</td></tr><tr><td></td><td>pt-visual-explain</td><td>æ ¼å¼åŒ–æ‰§è¡Œè®¡åˆ’</td></tr><tr><td></td><td>pt-table-usage</td><td>åˆ†ææ—¥å¿—ä¸­æŸ¥è¯¢å¹¶åˆ†æè¡¨ä½¿ç”¨æƒ…å†µ pt 2.2æ–°å¢å‘½ä»¤</td></tr><tr><td>é…ç½®ç±»</td><td>pt-config-diff</td><td>æ¯”è¾ƒé…ç½®æ–‡ä»¶å’Œå‚æ•°</td></tr><tr><td></td><td>pt-mysql-summary</td><td>å¯¹mysqlé…ç½®å’Œstatusè¿›è¡Œæ±‡æ€»</td></tr><tr><td></td><td>pt-variable-advisor</td><td>åˆ†æå‚æ•°ï¼Œå¹¶æå‡ºå»ºè®®</td></tr><tr><td>ç›‘æ§ç±»</td><td>pt-deadlock-logger</td><td>æå–å’Œè®°å½•mysqlæ­»é”ä¿¡æ¯</td></tr><tr><td></td><td>pt-fk-error-logger</td><td>æå–å’Œè®°å½•å¤–é”®ä¿¡æ¯</td></tr><tr><td></td><td>pt-mext</td><td>å¹¶è¡ŒæŸ¥çœ‹statusæ ·æœ¬ä¿¡æ¯</td></tr><tr><td></td><td>pt-query-digest</td><td>åˆ†ææŸ¥è¯¢æ—¥å¿—ï¼Œå¹¶äº§ç”ŸæŠ¥å‘Š å¸¸ç”¨å‘½ä»¤</td></tr><tr><td></td><td>pt-trend</td><td>æŒ‰ç…§æ—¶é—´æ®µè¯»å–slowæ—¥å¿—ä¿¡æ¯ å·²åºŸå¼ƒ</td></tr><tr><td>å¤åˆ¶ç±»</td><td>pt-heartbeat</td><td>ç›‘æ§mysqlå¤åˆ¶å»¶è¿Ÿ</td></tr><tr><td></td><td>pt-slave-delay</td><td>è®¾å®šä»è½åä¸»çš„æ—¶é—´</td></tr><tr><td></td><td>pt-slave-find</td><td>æŸ¥æ‰¾å’Œæ‰“å°æ‰€æœ‰mysqlå¤åˆ¶å±‚çº§å…³ç³»</td></tr><tr><td></td><td>pt-slave-restart</td><td>ç›‘æ§salveé”™è¯¯ï¼Œå¹¶å°è¯•é‡å¯salve</td></tr><tr><td></td><td>pt-table-checksum</td><td>æ ¡éªŒä¸»ä»å¤åˆ¶ä¸€è‡´æ€§</td></tr><tr><td></td><td>pt-table-sync</td><td>é«˜æ•ˆåŒæ­¥è¡¨æ•°æ®</td></tr><tr><td>ç³»ç»Ÿç±»</td><td>pt-diskstats</td><td>æŸ¥çœ‹ç³»ç»Ÿç£ç›˜çŠ¶æ€</td></tr><tr><td></td><td>pt-fifo-split</td><td>æ‹Ÿåˆ‡å‰²æ–‡ä»¶å¹¶è¾“å‡º</td></tr><tr><td></td><td>pt-summary</td><td>æ”¶é›†å’Œæ˜¾ç¤ºç³»ç»Ÿæ¦‚å†µ</td></tr><tr><td></td><td>pt-stalk</td><td>å‡ºç°é—®é¢˜æ—¶ï¼Œæ”¶é›†è¯Šæ–­æ•°æ®</td></tr><tr><td></td><td>pt-sift</td><td>æµè§ˆç”±pt-stalkåˆ›å»ºçš„æ–‡ä»¶ pt 2.2æ–°å¢å‘½ä»¤</td></tr><tr><td></td><td>pt-ioprofile</td><td>æŸ¥è¯¢è¿›ç¨‹IOå¹¶æ‰“å°ä¸€ä¸ªIOæ´»åŠ¨è¡¨ pt 2.2æ–°å¢å‘½ä»¤</td></tr><tr><td>å®ç”¨ç±»</td><td>pt-archiver</td><td>å°†è¡¨æ•°æ®å½’æ¡£åˆ°å¦ä¸€ä¸ªè¡¨æˆ–æ–‡ä»¶ä¸­</td></tr><tr><td></td><td>pt-find</td><td>æŸ¥æ‰¾è¡¨å¹¶æ‰§è¡Œå‘½ä»¤</td></tr><tr><td></td><td>pt-kill</td><td>Killæ‰ç¬¦åˆæ¡ä»¶çš„sql å¸¸ç”¨å‘½ä»¤</td></tr><tr><td></td><td>pt-align</td><td>å¯¹é½å…¶ä»–å·¥å…·çš„è¾“å‡º pt 2.2æ–°å¢å‘½ä»¤</td></tr><tr><td></td><td>pt-fingerprint</td><td>å°†æŸ¥è¯¢è½¬æˆå¯†æ–‡ pt 2.2æ–°å¢å‘½ä»¤</td></tr></tbody></table><h1 id="å®è·µ"><a href="#å®è·µ" class="headerlink" title="å®è·µ"></a>å®è·µ</h1><h2 id="åœ¨çº¿DDL"><a href="#åœ¨çº¿DDL" class="headerlink" title="åœ¨çº¿DDL"></a>åœ¨çº¿DDL</h2><p>æ³¨æ„:</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">1. &#123;&#123; &#125;&#125; æˆ–è€… xxä»£è¡¨è¦ä¿®æ”¹çš„ä½ç½®</span><br><span class="line">2. --noversion-check å¦‚æœæ˜¯éåŸç”Ÿçš„MySQLï¼Œä¾‹å¦‚å„å¤§äº‘äº§å•†çš„ï¼Œå¿…é¡»è¦ä½¿ç”¨è¯¥å‚æ•°</span><br><span class="line">3. --charset=utf8 æ ¹æ®æ•°æ®åº“ä½¿ç”¨çš„å­—ç¬¦é›†é€‰æ‹©åˆé€‚çš„ï¼Œå¦åˆ™å®¹æ˜“é€ æˆä¹±ç </span><br><span class="line">4. --alter=<span class="string">&quot;xxx,xxx,xxx&quot;</span> ä¸€å¼ è¡¨å¤šä¸ªå˜æ›´ä½¿ç”¨é€—å·åˆ†å‰²</span><br></pre></td></tr></table></figure><h3 id="åœºæ™¯ä¸€"><a href="#åœºæ™¯ä¸€" class="headerlink" title="åœºæ™¯ä¸€"></a>åœºæ™¯ä¸€</h3><blockquote class="note info"><p>ä¸€å¼ è¡¨å¤šä¸ªå˜æ›´</p></blockquote><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@build-center cloudcare_dba]# <span class="built_in">cat</span> qinxi/alter_table_hana_20191126.sh</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line">host=xx</span><br><span class="line">port=xx</span><br><span class="line">dbname=xx</span><br><span class="line">user=xx</span><br><span class="line">password=xx</span><br><span class="line"></span><br><span class="line">table=xx</span><br><span class="line">pt-online-schema-change --user=<span class="variable">$&#123;user&#125;</span> --port=<span class="variable">$&#123;port&#125;</span> --host=<span class="variable">$&#123;host&#125;</span> --password=<span class="variable">$&#123;password&#125;</span> --alter=<span class="string">&quot;add column update_time timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,drop index IX_ST_ENTRY_DETAIL_SRCNO_DETAILID,drop index auto_shard_key_ORG_ID,drop index auto_shard_key_WAREHOUSE_ID,drop index IX_ST_ENTRY_DETAIL_ITEMCODE,drop index IX_ST_ENTRY_DETAIL_INOUT_TYPE,drop index IX_ST_ENTRY_DETAIL_TOP_ITEMTYPE_ID,drop index IX_SOURCE_RECEIPT_TYPE,drop index IX_ST_ENTRY_DETAIL_ET_OPER_TIME,drop index IX_ST_ENTRY_DETAIL_ET_CREATE_TIME,drop index IX_ST_ENTRY_DETAIL_CALCULATE_ID,add index index_item_code(ITEM_CODE),add index index_trunk_id(TRUNK_ID),add index index_receipt_id(SOURCE_RECEIPT_ID),add index index_oper_time(OPER_TIME),add index IX_st_entry_detail_et_SOURCE_RECEIPT_NO(SOURCE_RECEIPT_NO),add index IX_st_entry_detail_et_ORG_ID(ORG_ID),add index IX_st_entry_detail_et_WAREHOUSE_ID(WAREHOUSE_ID),add index index_update_time(update_time),add index IX_st_entry_detail_et_IS_BOX(IS_BOX),add index IX_st_entry_detail_et_SOURCE_RECEIPT_TYPE(SOURCE_RECEIPT_TYPE),add index IX_st_entry_detail_et_CREATE_TIME(CREATE_TIME)&quot;</span> D=<span class="variable">$&#123;dbname&#125;</span>,t=<span class="variable">$&#123;table&#125;</span> --no-version-check --execute</span><br></pre></td></tr></table></figure><h3 id="åœºæ™¯2"><a href="#åœºæ™¯2" class="headerlink" title="åœºæ™¯2"></a>åœºæ™¯2</h3><blockquote class="note info"><p>å¤šå¼ è¡¨å˜æ›´</p></blockquote><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># pt-osc scripts</span></span><br><span class="line"><span class="comment"># &#123;&#123; time_string &#125;&#125;</span></span><br><span class="line"><span class="comment"># Solar æ··åˆäº‘ç®¡ç†å¹³å°</span></span><br><span class="line">host=&#123;&#123; host &#125;&#125;</span><br><span class="line">port=&#123;&#123; port &#125;&#125;</span><br><span class="line">dbname=&#123;&#123; dbname &#125;&#125;</span><br><span class="line">user=&#123;&#123; user &#125;&#125;</span><br><span class="line">password=&#123;&#123; password &#125;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">table=&#123;&#123; sql.table_name1 &#125;&#125;</span><br><span class="line">pt-online-schema-change --user=<span class="variable">$&#123;user&#125;</span> --port=<span class="variable">$&#123;port&#125;</span> --host=<span class="variable">$&#123;host&#125;</span> --password=<span class="variable">$&#123;password&#125;</span> --alter=<span class="string">&quot;&#123;&#123; sql.alter_cmd &#125;&#125;&quot;</span> D=<span class="variable">$&#123;dbname&#125;</span>,t=<span class="variable">$&#123;table&#125;</span> --no-version-check --execute --charset=utf8</span><br><span class="line"></span><br><span class="line">table=&#123;&#123; sql.table_name2 &#125;&#125;</span><br><span class="line">pt-online-schema-change --user=<span class="variable">$&#123;user&#125;</span> --port=<span class="variable">$&#123;port&#125;</span> --host=<span class="variable">$&#123;host&#125;</span> --password=<span class="variable">$&#123;password&#125;</span> --alter=<span class="string">&quot;&#123;&#123; sql.alter_cmd &#125;&#125;&quot;</span> D=<span class="variable">$&#123;dbname&#125;</span>,t=<span class="variable">$&#123;table&#125;</span> --no-version-check --execute --charset=utf8</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="åœºæ™¯2-1"><a href="#åœºæ™¯2-1" class="headerlink" title="åœºæ™¯2"></a>åœºæ™¯2</h3><blockquote class="note info"><p>ç”Ÿäº§ä½¿ç”¨çš„è‡ªåŠ¨ç”ŸæˆPTè„šæœ¬</p></blockquote><p>pythonè‡ªåŠ¨è½¬æ¢è„šæœ¬ï¼š</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># -*-coding:utf8 -*-</span></span><br><span class="line"><span class="comment"># Build-in Modules</span></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3rd-part Modules</span></span><br><span class="line"><span class="keyword">import</span> argparse</span><br><span class="line"><span class="keyword">import</span> sqlparse</span><br><span class="line"><span class="keyword">from</span> jinja2 <span class="keyword">import</span> Template</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SQLParseHelper</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    è§£æSQL</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, sql_str=<span class="literal">None</span>, split_str=<span class="string">&#x27;;&#x27;</span></span>):</span><br><span class="line">        <span class="variable language_">self</span>.sql_str = sql_str</span><br><span class="line">        <span class="variable language_">self</span>.split_str = split_str</span><br><span class="line">        <span class="variable language_">self</span>.sql_list = []</span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.split_str == <span class="string">&#x27;;&#x27;</span>:</span><br><span class="line">            <span class="comment"># print(sqlparse.split(self.sql_str))</span></span><br><span class="line">            <span class="variable language_">self</span>.sql_list = <span class="built_in">list</span>(<span class="built_in">filter</span>(</span><br><span class="line">                <span class="keyword">lambda</span> y: y != <span class="string">&#x27;&#x27;</span>, sqlparse.split(<span class="variable language_">self</span>.sql_str)</span><br><span class="line">            ))</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="variable language_">self</span>.sql_list = <span class="built_in">list</span>(</span><br><span class="line">                <span class="built_in">filter</span>(</span><br><span class="line">                    <span class="keyword">lambda</span> y: y != <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">                    <span class="built_in">map</span>(<span class="keyword">lambda</span> x: x.strip(), <span class="variable language_">self</span>.sql_str.split(<span class="variable language_">self</span>.split_str))</span><br><span class="line">                ))</span><br><span class="line">        <span class="comment"># print(self.sql_list)</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_length</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        sqlæ–‡ä»¶ä¸­çš„SQLæ•°é‡</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">len</span>(<span class="variable language_">self</span>.sql_list)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_format</span>(<span class="params">self, sql</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        æ ¹æ®é€‰é¡¹æ ¼å¼åŒ–sqlã€‚</span></span><br><span class="line"><span class="string">        å¯ç”¨é€‰é¡¹è®°å½•åœ¨â€œ SQLè¯­å¥æ ¼å¼â€ä¸­ã€‚</span></span><br><span class="line"><span class="string">        é™¤æ ¼å¼åŒ–é€‰é¡¹å¤–ï¼Œè¯¥å‡½æ•°è¿˜æ¥å—å…³é”®å­—â€œ encodingâ€ï¼Œè¯¥å…³é”®å­—ç¡®å®šè¯­å¥çš„ç¼–ç ã€‚</span></span><br><span class="line"><span class="string">        è¿”å›å€¼ï¼š    æ ¼å¼åŒ–çš„SQLè¯­å¥ä¸ºå­—ç¬¦ä¸²ã€‚</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        format_sql = sqlparse.<span class="built_in">format</span>(sql, reindent=<span class="literal">True</span>, keyword_case=<span class="string">&#x27;upper&#x27;</span>, strip_comments=<span class="literal">True</span>)</span><br><span class="line">        <span class="comment"># print(format_sql)</span></span><br><span class="line">        <span class="keyword">return</span> format_sql</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_init</span>(<span class="params">self, sql</span>):</span><br><span class="line">        tokens = []</span><br><span class="line">        parsed = sqlparse.parse(sql)</span><br><span class="line">        stmt = parsed[<span class="number">0</span>].tokens</span><br><span class="line">        <span class="keyword">for</span> token <span class="keyword">in</span> stmt:</span><br><span class="line">            tokens.append([token.ttype, token.value])</span><br><span class="line"></span><br><span class="line">        sql = sqlparse.sql.Statement(stmt)</span><br><span class="line">        sql_type = sql.get_type()</span><br><span class="line">        <span class="keyword">return</span> sql_type, tokens</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_type</span>(<span class="params">self, tokens</span>):</span><br><span class="line">        <span class="comment"># print(tokens)</span></span><br><span class="line">        <span class="keyword">return</span> tokens[<span class="number">0</span>][<span class="number">0</span>][<span class="number">1</span>] <span class="keyword">if</span> <span class="built_in">len</span>(tokens[<span class="number">0</span>][<span class="number">0</span>]) &gt; <span class="number">1</span> <span class="keyword">else</span> <span class="string">&#x27;Others&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">sql_statement</span>(<span class="params">self, tokens</span>):</span><br><span class="line">        <span class="keyword">return</span> tokens[<span class="number">0</span>][<span class="number">1</span>] <span class="keyword">if</span> <span class="built_in">len</span>(tokens[<span class="number">0</span>]) &gt; <span class="number">1</span> <span class="keyword">else</span> <span class="string">&#x27;Others&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_table</span>(<span class="params">self, tokens</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        å¦‚ä½•ä»tokensä¸­è·å–è¡¨åï¼Ÿ</span></span><br><span class="line"><span class="string">        :param tokens:</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        tables = []</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="comment"># æ‰¾åˆ° Keyword ä¸º TABLEçš„å…³é”®å­—çš„ç´¢å¼•ä½ + 2</span></span><br><span class="line">            sql_words = <span class="built_in">list</span>(<span class="built_in">map</span>(<span class="keyword">lambda</span> x: x[<span class="number">1</span>], tokens))</span><br><span class="line">            index_num = sql_words.index(<span class="string">&#x27;TABLE&#x27;</span>)</span><br><span class="line">            table = sql_words[index_num + <span class="number">2</span>]</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            <span class="built_in">print</span>(<span class="built_in">str</span>(e))</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            tables.append(table)</span><br><span class="line">        <span class="keyword">return</span> tables</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PTHelper</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, sql</span>):</span><br><span class="line">        <span class="variable language_">self</span>.sql = sql</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">alter_sql_parse</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        å¯¹åŒä¸€å¼ è¡¨æŒ‰ç…§åŸæ¥çš„è¯­å¥é¡ºåºç”¨é€—å·è¿æ¥,æ‰€æœ‰åŒå¼•å·æ›¿æ¢ä¸ºå•å¼•å·</span></span><br><span class="line"><span class="string">        [</span></span><br><span class="line"><span class="string">                &#123;&quot;table_name&quot;: &quot;frm_user&quot;,</span></span><br><span class="line"><span class="string">                &quot;alter_cmd&quot;: &quot;DROP INDEX account_idx,ADD UNIQUE INDEX uniq_account(account)&quot;</span></span><br><span class="line"><span class="string">                &quot;sql_from&quot;:[&#123;</span></span><br><span class="line"><span class="string">                    &quot;original_sql&quot;: &quot;alter table frm_user drop index account_idx;&quot;,</span></span><br><span class="line"><span class="string">                    &quot;format_sql&quot;: &quot;ALTER TABLE frm_user\nDROP INDEX account_idx;&quot;,</span></span><br><span class="line"><span class="string">                    &quot;sql_type&quot;: &quot;DDL&quot;,</span></span><br><span class="line"><span class="string">                    &quot;sql_statement&quot;: &quot;ALTER&quot;</span></span><br><span class="line"><span class="string">                &#125;,</span></span><br><span class="line"><span class="string">                &#123;</span></span><br><span class="line"><span class="string">                    &quot;original_sql&quot;: &quot;alter table frm_user add unique index uniq_account(account);&quot;,</span></span><br><span class="line"><span class="string">                    &quot;format_sql&quot;: &quot;ALTER TABLE frm_user ADD UNIQUE INDEX uniq_account(account);&quot;,</span></span><br><span class="line"><span class="string">                    &quot;sql_type&quot;: &quot;DDL&quot;,</span></span><br><span class="line"><span class="string">                    &quot;sql_statement&quot;: &quot;ALTER&quot;</span></span><br><span class="line"><span class="string">                &#125;]</span></span><br><span class="line"><span class="string">        ]</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="variable language_">self</span>.result = []</span><br><span class="line">        <span class="keyword">for</span> _sql <span class="keyword">in</span> <span class="variable language_">self</span>.sql[<span class="string">&quot;data&quot;</span>]:</span><br><span class="line">            <span class="comment"># æ­£åˆ™åŒ¹é…å‡º table_name å’Œ alter_cmd</span></span><br><span class="line">            sql_str = _sql[<span class="string">&quot;format_sql&quot;</span>].replace(<span class="string">&#x27;`&#x27;</span>, <span class="string">&#x27;&#x27;</span>)</span><br><span class="line">            <span class="comment"># print(sql_str)</span></span><br><span class="line">            match_obj = re.<span class="keyword">match</span>(</span><br><span class="line">                <span class="string">r&#x27;ALTER TABLE(.*)[\n]?(ADD|ALTER|CHANGE|CHARACTER|CONVERT|DISABLE|ENABLE|DROP|FORCE|LOCK|MODIFY|ORDER|RENAME|WITHOUT|WITH)[\n]?(.*);&#x27;</span>,</span><br><span class="line">                sql_str)</span><br><span class="line">            <span class="keyword">if</span> match_obj:</span><br><span class="line">                table_name = match_obj.group(<span class="number">1</span>).strip()</span><br><span class="line">                alter_cmd_key = match_obj.group(<span class="number">2</span>).strip()</span><br><span class="line">                alter_cmd_option = match_obj.group(<span class="number">3</span>).strip()</span><br><span class="line">                <span class="comment"># print(table_name)</span></span><br><span class="line">                <span class="comment"># print(alter_cmd_key)</span></span><br><span class="line">                <span class="comment"># print(alter_cmd_option)</span></span><br><span class="line">                <span class="variable language_">self</span>.result.append(</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="string">&quot;table_name&quot;</span>: table_name.strip(),</span><br><span class="line">                        <span class="string">&quot;alter_cmd&quot;</span>: <span class="string">&quot;&#123;&#125; &#123;&#125;&quot;</span>.<span class="built_in">format</span>(alter_cmd_key.strip(),</span><br><span class="line">                                                    alter_cmd_option.strip().replace(<span class="string">&#x27;&quot;&#x27;</span>, <span class="string">&quot;&#x27;&quot;</span>)),</span><br><span class="line">                        <span class="string">&quot;sql_from&quot;</span>: _sql</span><br><span class="line">                    &#125;</span><br><span class="line">                )</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;ä¸èƒ½æ­£å¸¸åŒ¹é…&quot;</span>)</span><br><span class="line">                <span class="variable language_">self</span>.result.append(</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="string">&quot;table_name&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;alter_cmd&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;sql_from&quot;</span>: _sql</span><br><span class="line">                    &#125;</span><br><span class="line">                )</span><br><span class="line"></span><br><span class="line">        <span class="comment"># print(json.dumps(self.result, indent=2, ensure_ascii=False))</span></span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>.result</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">sql_to_pt</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        ç»„æˆptè„šæœ¬</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        table_names = <span class="built_in">set</span>(<span class="built_in">map</span>(<span class="keyword">lambda</span> x: x[<span class="string">&quot;table_name&quot;</span>], <span class="variable language_">self</span>.result))</span><br><span class="line">        <span class="comment"># print(table_names)</span></span><br><span class="line">        out = []</span><br><span class="line">        <span class="keyword">for</span> table <span class="keyword">in</span> table_names:</span><br><span class="line">            <span class="comment"># print(table)</span></span><br><span class="line">            info = <span class="built_in">list</span>(<span class="built_in">filter</span>(<span class="keyword">lambda</span> x: x[<span class="string">&quot;table_name&quot;</span>] == table, <span class="variable language_">self</span>.result))</span><br><span class="line">            <span class="comment"># print(json.dumps(info, indent=2))</span></span><br><span class="line">            out.append(</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;table_name&quot;</span>: table,</span><br><span class="line">                    <span class="string">&quot;alter_cmd&quot;</span>: <span class="string">&#x27;,&#x27;</span>.join(<span class="built_in">list</span>(<span class="built_in">map</span>(<span class="keyword">lambda</span> x: x[<span class="string">&quot;alter_cmd&quot;</span>], info))),</span><br><span class="line">                    <span class="string">&quot;sql_from&quot;</span>: info</span><br><span class="line">                &#125;</span><br><span class="line">            )</span><br><span class="line"></span><br><span class="line">        <span class="comment"># print(json.dumps(out, indent=2, ensure_ascii=False))</span></span><br><span class="line">        <span class="keyword">return</span> out</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">GetScripts</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, sql_list, **kwargs</span>):</span><br><span class="line">        <span class="variable language_">self</span>.render_data = &#123;<span class="string">&quot;sql_list&quot;</span>: sql_list,</span><br><span class="line">                            <span class="string">&quot;time_string&quot;</span>: time.strftime(<span class="string">&#x27;%Y%m%d%H%M%S&#x27;</span>, time.localtime(time.time())),</span><br><span class="line">                            <span class="string">&quot;host&quot;</span>: kwargs[<span class="string">&#x27;host&#x27;</span>],</span><br><span class="line">                            <span class="string">&quot;port&quot;</span>: kwargs[<span class="string">&#x27;port&#x27;</span>],</span><br><span class="line">                            <span class="string">&quot;dbname&quot;</span>: kwargs[<span class="string">&#x27;dbname&#x27;</span>],</span><br><span class="line">                            <span class="string">&quot;user&quot;</span>: kwargs[<span class="string">&#x27;user&#x27;</span>],</span><br><span class="line">                            <span class="string">&quot;password&quot;</span>: kwargs[<span class="string">&#x27;password&#x27;</span>],</span><br><span class="line">                            &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">render_template</span>(<span class="params">self</span>):</span><br><span class="line">        template_data = <span class="string">&quot;&quot;&quot;#!/bin/bash</span></span><br><span class="line"><span class="string"># pt-osc scripts</span></span><br><span class="line"><span class="string"># &#123;&#123; time_string &#125;&#125;</span></span><br><span class="line"><span class="string"># Solar æ··åˆäº‘ç®¡ç†å¹³å°</span></span><br><span class="line"><span class="string">host=&#123;&#123; host &#125;&#125;</span></span><br><span class="line"><span class="string">port=&#123;&#123; port &#125;&#125;</span></span><br><span class="line"><span class="string">dbname=&#123;&#123; dbname &#125;&#125;</span></span><br><span class="line"><span class="string">user=&#123;&#123; user &#125;&#125;</span></span><br><span class="line"><span class="string">password=&#123;&#123; password &#125;&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&#123;% for sql in sql_list %&#125;</span></span><br><span class="line"><span class="string">table=&#123;&#123; sql.table_name &#125;&#125;</span></span><br><span class="line"><span class="string">pt-online-schema-change --user=$&#123;user&#125; --port=$&#123;port&#125; --host=$&#123;host&#125; --password=$&#123;password&#125; --alter=&quot;&#123;&#123; sql.alter_cmd &#125;&#125;&quot; D=$&#123;dbname&#125;,t=$&#123;table&#125; --noversion-check --execute --charset=utf8</span></span><br><span class="line"><span class="string">&#123;% endfor %&#125;</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">        template = Template(template_data)</span><br><span class="line">        <span class="keyword">return</span> template.render(**<span class="variable language_">self</span>.render_data)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">maker</span>(<span class="params">self</span>):</span><br><span class="line">        data = <span class="variable language_">self</span>.render_template()</span><br><span class="line">        <span class="keyword">return</span> data</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SQLCheck</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    æ£€æµ‹ä¸‰ä¸ªæ¡ä»¶:</span></span><br><span class="line"><span class="string">    1. æ£€æŸ¥è¯­å¥ä¸­æ˜¯å¦åŒ…å«æ•°æ®åº“åï¼Œå¦‚æœåŒ…å«åˆ™Fail;</span></span><br><span class="line"><span class="string">    2. æ£€æŸ¥è¯­å¥ç»“å°¾æ˜¯å¦ä¸ºåˆ†å·ï¼Œå¦‚æœæ˜¯åˆ™Trueï¼›</span></span><br><span class="line"><span class="string">    3. åˆ¤æ–­SQLæ˜¯å¦éƒ½ä¸ºDDL Alter è¯­å¥ï¼Œå¦‚æœæ˜¯åˆ™Trueï¼›</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    [</span></span><br><span class="line"><span class="string">      &#123;</span></span><br><span class="line"><span class="string">        &quot;original_sql&quot;: &quot;ALTER TABLE `aia_use_app_tag_log`   ADD  INDEX `idx_app_use_time` (`use_time`)&quot;,</span></span><br><span class="line"><span class="string">        &quot;format_sql&quot;: &quot;ALTER TABLE `aia_use_app_tag_log` ADD INDEX `idx_app_use_time` (`use_time`)&quot;,</span></span><br><span class="line"><span class="string">        &quot;sql_type&quot;: &quot;DDL&quot;,</span></span><br><span class="line"><span class="string">        &quot;sql_statement&quot;: &quot;ALTER&quot;,</span></span><br><span class="line"><span class="string">        &quot;check_alter&quot;: &quot;Pass&quot;,</span></span><br><span class="line"><span class="string">        &quot;check_database&quot;: &quot;Pass&quot;,</span></span><br><span class="line"><span class="string">        &quot;check_semicolon&quot;: &quot;Fail&quot;,</span></span><br><span class="line"><span class="string">        &quot;check_comma&quot;: &quot;Fail&quot;,</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    ]</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, in_data_list</span>):</span><br><span class="line">        <span class="variable language_">self</span>.in_data_list = in_data_list</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">check_database</span>(<span class="params">self, _data, pass_num, fail_num</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        æ£€æŸ¥è¯­å¥ä¸­æ˜¯å¦åŒ…å«æ•°æ®åº“åï¼Œå¦‚æœåŒ…å«åˆ™Fail</span></span><br><span class="line"><span class="string">        è¯­å¥ä¸­ä¸å¯ä»¥åŒ…å«.</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> _data[<span class="string">&quot;format_sql&quot;</span>].find(<span class="string">&#x27;.&#x27;</span>) &lt; <span class="number">0</span>:</span><br><span class="line">            _data[<span class="string">&quot;check_database&quot;</span>] = <span class="string">&quot;Pass&quot;</span></span><br><span class="line">            pass_num += <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            _data[<span class="string">&quot;check_database&quot;</span>] = <span class="string">&quot;Fail&quot;</span></span><br><span class="line">            fail_num += <span class="number">1</span></span><br><span class="line">        out_data = _data</span><br><span class="line">        <span class="keyword">return</span> pass_num, fail_num, out_data</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">check_semicolon</span>(<span class="params">self, _data, pass_num, fail_num</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        æ£€æŸ¥è¯­å¥ç»“å°¾æ˜¯å¦ä¸ºåˆ†å·ï¼Œå¦‚æœæ˜¯åˆ™True</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> _data[<span class="string">&quot;format_sql&quot;</span>].find(<span class="string">&#x27;;&#x27;</span>) &gt;= <span class="number">0</span>:</span><br><span class="line">            _data[<span class="string">&quot;check_semicolon&quot;</span>] = <span class="string">&quot;Pass&quot;</span></span><br><span class="line">            pass_num += <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            _data[<span class="string">&quot;check_semicolon&quot;</span>] = <span class="string">&quot;Fail&quot;</span></span><br><span class="line">            fail_num += <span class="number">1</span></span><br><span class="line">        out_data = _data</span><br><span class="line">        <span class="keyword">return</span> pass_num, fail_num, out_data</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">check_alter</span>(<span class="params">self, _data, pass_num, fail_num</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        åˆ¤æ–­SQLæ˜¯å¦éƒ½ä¸ºDDL Alter è¯­å¥</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> _data[<span class="string">&quot;sql_type&quot;</span>] == <span class="string">&quot;DDL&quot;</span> <span class="keyword">and</span> _data[<span class="string">&quot;sql_statement&quot;</span>] == <span class="string">&quot;ALTER&quot;</span>:</span><br><span class="line">            _data[<span class="string">&quot;check_alter&quot;</span>] = <span class="string">&quot;Pass&quot;</span></span><br><span class="line">            pass_num += <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            _data[<span class="string">&quot;check_alter&quot;</span>] = <span class="string">&quot;Fail&quot;</span></span><br><span class="line">            fail_num += <span class="number">1</span></span><br><span class="line">        out_data = _data</span><br><span class="line">        <span class="keyword">return</span> pass_num, fail_num, out_data</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">main</span>(<span class="params">self</span>):</span><br><span class="line">        out_data_list = []</span><br><span class="line">        pass_num = <span class="number">0</span></span><br><span class="line">        fail_num = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> _data <span class="keyword">in</span> <span class="variable language_">self</span>.in_data_list:</span><br><span class="line">            pass_num, fail_num, out_data = <span class="variable language_">self</span>.check_alter(_data, pass_num, fail_num)</span><br><span class="line">            pass_num, fail_num, out_data = <span class="variable language_">self</span>.check_database(_data, pass_num, fail_num)</span><br><span class="line">            pass_num, fail_num, out_data = <span class="variable language_">self</span>.check_semicolon(_data, pass_num, fail_num)</span><br><span class="line">            out_data_list.append(out_data)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="string">&quot;pass_num&quot;</span>: pass_num,</span><br><span class="line">            <span class="string">&quot;fail_num&quot;</span>: fail_num,</span><br><span class="line">            <span class="string">&quot;data&quot;</span>: out_data_list</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">start_up</span>(<span class="params">**kwargs</span>):</span><br><span class="line">    <span class="comment"># 1. è§£æSQL SQLParseHelper()</span></span><br><span class="line">    api = SQLParseHelper(sql_str=kwargs[<span class="string">&quot;sql_str&quot;</span>], split_str=<span class="string">&quot;;&quot;</span>)</span><br><span class="line">    sql_num = api.get_length()</span><br><span class="line">    data = []</span><br><span class="line">    <span class="keyword">for</span> sql <span class="keyword">in</span> api.sql_list:</span><br><span class="line">        format_sql = api.get_format(sql)</span><br><span class="line">        result = api.get_init(format_sql)</span><br><span class="line">        data.append(&#123;</span><br><span class="line">            <span class="string">&quot;original_sql&quot;</span>: sql,</span><br><span class="line">            <span class="string">&quot;format_sql&quot;</span>: format_sql.strip(),</span><br><span class="line">            <span class="string">&quot;sql_type&quot;</span>: api.get_type(tokens=result[<span class="number">1</span>]),</span><br><span class="line">            <span class="string">&quot;sql_statement&quot;</span>: api.sql_statement(tokens=result[<span class="number">1</span>]),</span><br><span class="line">        &#125;)</span><br><span class="line">    new_result = &#123;</span><br><span class="line">        <span class="string">&quot;num&quot;</span>: sql_num,</span><br><span class="line">        <span class="string">&quot;data&quot;</span>: data</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"># print(json.dumps(new_result, indent=2, ensure_ascii=False))</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 2. åˆ¤æ–­SQLæ˜¯å¦éƒ½ä¸ºDDL Alter è¯­å¥ check_alter()</span></span><br><span class="line">    check_api = SQLCheck(new_result[<span class="string">&quot;data&quot;</span>])</span><br><span class="line">    check_result = check_api.main()</span><br><span class="line">    <span class="comment"># print(json.dumps(check_result, indent=2, ensure_ascii=False))</span></span><br><span class="line">    <span class="keyword">if</span> check_result[<span class="string">&quot;fail_num&quot;</span>] &gt; <span class="number">0</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;æ£€æµ‹ä¸é€šè¿‡&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(json.dumps(</span><br><span class="line">            <span class="built_in">list</span>(<span class="built_in">filter</span>(</span><br><span class="line">                <span class="keyword">lambda</span> x: x[<span class="string">&quot;check_alter&quot;</span>] == <span class="string">&#x27;Fail&#x27;</span> <span class="keyword">or</span> x[<span class="string">&quot;check_database&quot;</span>] == <span class="string">&#x27;Fail&#x27;</span> <span class="keyword">or</span> x[</span><br><span class="line">                    <span class="string">&quot;check_semicolon&quot;</span>] == <span class="string">&#x27;Fail&#x27;</span> <span class="keyword">or</span> x[<span class="string">&quot;check_comma&quot;</span>] == <span class="string">&quot;Fail&quot;</span>,</span><br><span class="line">                check_result[<span class="string">&quot;data&quot;</span>]</span><br><span class="line">            ))</span><br><span class="line">            , indent=<span class="number">2</span>, ensure_ascii=<span class="literal">False</span>))</span><br><span class="line">        <span class="comment"># print(json.dumps(check_result, indent=2, ensure_ascii=False))</span></span><br><span class="line">        exit()</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">        <span class="comment"># print(&quot;æ£€æµ‹é€šè¿‡&quot;)</span></span><br><span class="line">        <span class="comment"># print(json.dumps(check_result, indent=2, ensure_ascii=False))</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 3. è½¬PT PTHelper()</span></span><br><span class="line">    pt_api = PTHelper(check_result)</span><br><span class="line">    pt_api.alter_sql_parse()</span><br><span class="line">    pt_sql_list = pt_api.sql_to_pt()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 4. æ¸²æŸ“è„šæœ¬</span></span><br><span class="line">    scripts_api = GetScripts(pt_sql_list, **kwargs)</span><br><span class="line">    data = scripts_api.maker()</span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    parser = argparse.ArgumentParser(description=<span class="string">&#x27;&#x27;&#x27;MySQL Alterè¯­å¥è‡ªåŠ¨è½¬ PTè„šæœ¬ å°å·¥å…·</span></span><br><span class="line"><span class="string">    æ”¯æŒçš„Alterç±»å‹ï¼šADD|ALTER|CHANGE|CHARACTER|CONVERT|DISABLE|ENABLE|DROP|FORCE|LOCK|MODIFY|ORDER|RENAME|WITHOUT|WITH ï¼›</span></span><br><span class="line"><span class="string">    ä¸æ”¯æŒå¸¦åº“åï¼›</span></span><br><span class="line"><span class="string">    ä¸æ”¯æŒä¸€æ¡sqlå¤šä¸ªå˜ã€‚</span></span><br><span class="line"><span class="string">    è¾“å‡ºç»“æœ</span></span><br><span class="line"><span class="string">    #!/bin/bash</span></span><br><span class="line"><span class="string">    # pt-osc scripts</span></span><br><span class="line"><span class="string">    # 20200522190824</span></span><br><span class="line"><span class="string">    # Solar æ··åˆäº‘ç®¡ç†å¹³å°</span></span><br><span class="line"><span class="string">    host=localhost</span></span><br><span class="line"><span class="string">    port=3306</span></span><br><span class="line"><span class="string">    dbname=test01</span></span><br><span class="line"><span class="string">    user=root</span></span><br><span class="line"><span class="string">    password=lsdkjkdjfkdf</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    table=frm_user</span></span><br><span class="line"><span class="string">    pt-online-schema-change --user=$&#123;user&#125; --port=$&#123;port&#125; --host=$&#123;host&#125; --password=$&#123;password&#125; --alter=&quot;DROP INDEX account_idx,ADD UNIQUE INDEX uniq_account(account)&quot; D=$&#123;dbname&#125;,t=$&#123;table&#125; --no-version-check --execute --charset=utf8</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    table=aia_present_point_exchange_user</span></span><br><span class="line"><span class="string">    pt-online-schema-change --user=$&#123;user&#125; --port=$&#123;port&#125; --host=$&#123;host&#125; --password=$&#123;password&#125; --alter=&quot;ADD COLUMN end_date DATETIME NULL COMMENT &#x27;æœ‰æ•ˆæœŸç»“æŸ&#x27; AFTER start_date&quot; D=$&#123;dbname&#125;,t=$&#123;table&#125; --no-version-check --execute --charset=utf8</span></span><br><span class="line"><span class="string">    &quot;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Exampleï¼š</span></span><br><span class="line"><span class="string">    python3 get_sql2pt.py --InFile demo/mysql_alter_demo.sql --OutFile demo/mysql_alter_pt.sh --Host localhost --Port 3306 --DBName test01 --User root --PassWord lsdkjkdjfkdf</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span>, formatter_class=argparse.RawTextHelpFormatter)</span><br><span class="line">    parser.add_argument(<span class="string">&quot;--InFile&quot;</span>, <span class="built_in">help</span>=<span class="string">&quot;MySQL Alter SQLæºæ–‡ä»¶ å¿…è¦å‚æ•°&quot;</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&quot;--OutFile&quot;</span>,</span><br><span class="line">                        default=<span class="string">&#x27;sql2pt-&#123;&#125;&#x27;</span>.<span class="built_in">format</span>(time.strftime(<span class="string">&#x27;%Y%m%d%H%M%S&#x27;</span>, time.localtime(time.time()))),</span><br><span class="line">                        <span class="built_in">help</span>=<span class="string">&quot;è½¬æ¢åçš„è„šæœ¬å éå‚æ•°&quot;</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&quot;--Host&quot;</span>, <span class="built_in">help</span>=<span class="string">&quot;MySQLæœåŠ¡å™¨è¿æ¥åœ°å€&quot;</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&quot;--Port&quot;</span>, <span class="built_in">help</span>=<span class="string">&quot;MySQLæœåŠ¡å™¨ç›‘å¬ç«¯å£&quot;</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&quot;--DBName&quot;</span>, <span class="built_in">help</span>=<span class="string">&quot;MySQLè®¿é—®çš„æ•°æ®åº“å&quot;</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&quot;--User&quot;</span>, <span class="built_in">help</span>=<span class="string">&quot;MySQLæœåŠ¡å™¨ç™»é™†ç”¨æˆ·å&quot;</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&quot;--PassWord&quot;</span>, <span class="built_in">help</span>=<span class="string">&quot;MySQLæœåŠ¡å™¨ç™»é™†ç”¨æˆ·å¯†ç &quot;</span>)</span><br><span class="line"></span><br><span class="line">    args = parser.parse_args()</span><br><span class="line">    <span class="keyword">if</span> args.InFile <span class="keyword">and</span> args.Host <span class="keyword">and</span> args.Port <span class="keyword">and</span> args.DBName <span class="keyword">and</span> args.User <span class="keyword">and</span> args.PassWord:</span><br><span class="line">        sql_str = <span class="built_in">open</span>(args.InFile, <span class="string">&#x27;r&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>).read().replace(<span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;&#x27;</span>)</span><br><span class="line">        params = &#123;</span><br><span class="line">            <span class="string">&quot;sql_str&quot;</span>: sql_str,</span><br><span class="line">            <span class="string">&quot;out_file&quot;</span>: args.OutFile,</span><br><span class="line">            <span class="string">&quot;host&quot;</span>: args.Host,</span><br><span class="line">            <span class="string">&quot;port&quot;</span>: args.Port,</span><br><span class="line">            <span class="string">&quot;dbname&quot;</span>: args.DBName,</span><br><span class="line">            <span class="string">&quot;user&quot;</span>: args.User,</span><br><span class="line">            <span class="string">&quot;password&quot;</span>: args.PassWord</span><br><span class="line">        &#125;</span><br><span class="line">        result = start_up(**params)</span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(args.OutFile, <span class="string">&#x27;w&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">            f.write(result)</span><br></pre></td></tr></table></figure><h2 id="å½’æ¡£"><a href="#å½’æ¡£" class="headerlink" title="å½’æ¡£"></a>å½’æ¡£</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pt-archiver  --<span class="built_in">source</span> h=<span class="variable">$&#123;host&#125;</span>,P=3306,u=<span class="variable">$&#123;user&#125;</span>,p=<span class="variable">$&#123;password&#125;</span>,D=<span class="variable">$&#123;database&#125;</span>,t=<span class="variable">$&#123;table&#125;</span> --dest h=<span class="variable">$&#123;host&#125;</span>,P=3306,u=<span class="variable">$&#123;user&#125;</span>,p=<span class="variable">$&#123;password&#125;</span>,D=<span class="variable">$&#123;database&#125;</span>,t=<span class="variable">$&#123;table&#125;</span>  --no-check-charset --<span class="built_in">where</span> <span class="string">&quot;use_time &lt; &#x27;2020-01-01&#x27;&quot;</span> --progress 5000 --<span class="built_in">limit</span>=1000 --txn-size=1000 --statistics --bulk-insert --bulk-delete --charset <span class="string">&#x27;utf8&#x27;</span> --noversion-check</span><br></pre></td></tr></table></figure><p>å‚æ•°è¯´æ˜ï¼š</p><p><code>--source</code>: æºç«¯<br><code>--dest</code>: ç›®æ ‡ç«¯<br><code>--dry-run</code>: debugæ¨¡å¼ï¼Œå°è¯•è¿è¡Œã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;æ•°æ®åº“ç‰ˆæœ¬å’Œå·¥å…·ç‰ˆæœ¬è¦æ±‚&quot;&gt;&lt;a href=&quot;#æ•°æ®åº“ç‰ˆæœ¬å’Œå·¥å…·ç‰ˆæœ¬è¦æ±‚&quot; class=&quot;headerlink&quot; title=&quot;æ•°æ®åº“ç‰ˆæœ¬å’Œå·¥å…·ç‰ˆæœ¬è¦æ±‚&quot;&gt;&lt;/a&gt;æ•°æ®åº“ç‰ˆæœ¬å’Œå·¥å…·ç‰ˆæœ¬è¦æ±‚&lt;/h1&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;æ•°æ®åº“&lt;/th&gt;</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>MySQL 8.0 Root å¯†ç åœ¨çº¿ç ´è§£</title>
    <link href="http://www.toberoot.com/news/2020/09/24/tec-mysql/"/>
    <id>http://www.toberoot.com/news/2020/09/24/tec-mysql/</id>
    <published>2020-09-24T00:00:00.000Z</published>
    <updated>2025-10-22T14:33:10.764Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æµ‹è¯•ç”¨æˆ·boobooçš„è´¦å·å¯†ç æƒ…å†µ</span></span><br><span class="line">mysql&gt; <span class="keyword">select</span> user,host,authentication_string from mysql.user;</span><br><span class="line">+------------------+-----------+------------------------------------------------------------------------+</span><br><span class="line">| user             | host      | authentication_string                                                  |</span><br><span class="line">+------------------+-----------+------------------------------------------------------------------------+</span><br><span class="line">| booboo           | %         | $A$005<span class="variable">$z1</span>;I4T4DFutFGI2Bx8I44RVy7oa0lY6paOoRofbbNcnFKUVJ3ojJkDvCw8 |</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç³»ç»Ÿåº“mysql</span></span><br><span class="line">[root@foundation0 tmp]# ll /var/lib/mysql/mysql*</span><br><span class="line">-rw-r-----. 1 mysql mysql 25165824 9æœˆ  24 17:44 /var/lib/mysql/mysql.ibd</span><br><span class="line">srwxrwxrwx. 1 mysql mysql        0 6æœˆ   1 17:46 /var/lib/mysql/mysql.sock</span><br><span class="line">-rw-------. 1 mysql mysql        6 6æœˆ   1 17:46 /var/lib/mysql/mysql.sock.lock</span><br><span class="line"></span><br><span class="line">/var/lib/mysql/mysql:</span><br><span class="line">æ€»ç”¨é‡ 28</span><br><span class="line">-rw-r-----. 1 mysql mysql  5594 6æœˆ   1 17:46 general_log_202.sdi</span><br><span class="line">-rw-r-----. 1 mysql mysql    35 6æœˆ   1 17:46 general_log.CSM</span><br><span class="line">-rw-r-----. 1 mysql mysql     0 6æœˆ   1 17:46 general_log.CSV</span><br><span class="line">-rw-r-----. 1 mysql mysql 11803 6æœˆ   1 17:46 slow_log_203.sdi</span><br><span class="line">-rw-r-----. 1 mysql mysql    35 6æœˆ   1 17:46 slow_log.CSM</span><br><span class="line">-rw-r-----. 1 mysql mysql     0 6æœˆ   1 17:46 slow_log.CSV</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤åˆ¶ä¸€ä»½ mysql.ibd</span></span><br><span class="line"><span class="built_in">cp</span> /var/lib/mysql/mysql.ibd /tmp/mysql.ibd.bac</span><br><span class="line"></span><br><span class="line"><span class="comment"># hexdump åˆ†æ</span></span><br><span class="line"></span><br><span class="line">hexdump -C mysql.ibd.bac  &gt; /tmp/mysql.ibd.hexdump.txt</span><br><span class="line"></span><br><span class="line">*</span><br><span class="line">006912f0  20 20 20 20 20 20 20 20  20 20 71 69 6e 78 69 20  |          qinxi |</span><br><span class="line">00691300  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |</span><br><span class="line">00691310  20 20 20 20 20 20 20 20  20 20 00 00 00 00 14 d7  |          ......|</span><br><span class="line">00691320  02 00 00 01 1e 14 56 02  02 02 02 02 02 02 02 02  |......V.........|</span><br><span class="line">00691330  02 01 02 02 02 02 02 02  02 02 02 02 02 02 02 02  |................|</span><br><span class="line">00691340  02 02 02 02 01 00 00 00  00 00 00 00 00 00 00 00  |................|</span><br><span class="line">00691350  00 00 00 00 00 63 61 63  68 69 6e 67 5f 73 68 61  |.....caching_sha|</span><br><span class="line">00691360  32 5f 70 61 73 73 77 6f  72 64 20 20 20 20 20 20  |2_password      |</span><br><span class="line">00691370  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |</span><br><span class="line">*</span><br><span class="line">00691390  20 20 20 20 20 24 41 24  30 30 35 24 21 3e 13 58  |     $A$005$!&gt;.X|</span><br><span class="line">006913a0  6c 74 5d 39 62 42 2d 25  10 75 06 57 68 46 79 52  |lt]9bB-%.u.WhFyR|</span><br><span class="line">006913b0  53 4d 4e 38 39 54 42 68  4a 53 35 67 5a 6c 72 53  |SMN89TBhJS5gZlrS|</span><br><span class="line">006913c0  32 4d 55 59 2f 4c 77 4c  38 4c 37 4f 4e 68 47 72  |2MUY/LwL8L7ONhGr|</span><br><span class="line">006913d0  67 4a 68 65 36 37 65 39  4c 79 36 01 5f 6a b1 2c  |gJhe67e9Ly6._j.,|</span><br><span class="line">006913e0  01 02 02 46 40 00 00 00  20 7c 00 00 60 fe 0c 25  |...F@... |..`..%|</span><br><span class="line">006913f0  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |</span><br><span class="line">*</span><br><span class="line">006914e0  20 20 20 20 20 20 20 20  20 20 20 20 20 20 62 6f  |              bo|</span><br><span class="line">006914f0  6f 62 6f 6f 20 20 20 20  20 20 20 20 20 20 20 20  |oboo            |</span><br><span class="line">00691500  20 20 20 20 20 20 20 20  20 20 20 20 20 20 00 00  |              ..|</span><br><span class="line">00691510  00 00 14 e1 82 00 00 00  9f 01 10 01 01 01 01 01  |................|</span><br><span class="line">00691520  01 01 01 01 01 01 01 01  01 01 01 01 01 01 01 01  |................|</span><br><span class="line">00691530  01 01 01 01 01 01 01 01  01 00 00 00 00 00 00 00  |................|</span><br><span class="line">00691540  00 00 00 00 00 00 00 00  00 63 61 63 68 69 6e 67  |.........caching|</span><br><span class="line">00691550  5f 73 68 61 32 5f 70 61  73 73 77 6f 72 64 20 20  |_sha2_password  |</span><br><span class="line">00691560  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |</span><br><span class="line">*</span><br><span class="line">00691580  20 20 20 20 20 20 20 20  20 24 41 24 30 30 35 24  |         $A$005$|</span><br><span class="line">00691590  7a 31 03 3b 1b 71 49 34  1f 54 0e 34 44 46 75 74  |z1.;.qI4.T.4DFut|</span><br><span class="line">006915a0  46 47 49 32 42 78 38 49  34 34 52 56 79 37 6f 61  |FGI2Bx8I44RVy7oa|</span><br><span class="line">006915b0  30 6c 59 36 70 61 4f 6f  52 6f 66 62 62 4e 63 6e  |0lY6paOoRofbbNcn|</span><br><span class="line">006915c0  46 4b 55 56 4a 33 6f 6a  4a 6b 44 76 43 77 38 01  |FKUVJ3ojJkDvCw8.|</span><br><span class="line">006915d0  5f 6c 6a 26 01 01 01 00  00 00 00 00 00 00 00 00  |_lj&amp;............|</span><br><span class="line">006915e0  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|</span><br><span class="line">*</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">00691580  20 20 20 20 20 24 41 24  30 30 35 24 21 3e 13 58  |     $A$005$!&gt;.X|</span><br><span class="line">00691590  6c 74 5d 39 62 42 2d 25  10 75 06 57 68 46 79 52  |lt]9bB-%.u.WhFyR|</span><br><span class="line">006915a0  53 4d 4e 38 39 54 42 68  4a 53 35 67 5a 6c 72 53  |SMN89TBhJS5gZlrS|</span><br><span class="line">006915b0  32 4d 55 59 2f 4c 77 4c  38 4c 37 4f 4e 68 47 72  |2MUY/LwL8L7ONhGr|</span><br><span class="line">006915c0  67 4a 68 65 36 37 65 39  4c 79 36 01 5f 6a b1 2c  |gJhe67e9Ly6._j.,|</span><br><span class="line">006915d0  01 02 02 46 40 00 00 00  20 7c 00 00 60 fe 0c 25  |...F@... |..`..%|</span><br><span class="line">006915e0  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">æµ‹è¯•å‘ç°å¤±è´¥ï¼Œæ¨æµ‹8.0çš„åŠ å¯†ç®—æ³•å·²ä¸å†æ˜¯ä»…ä»…ä½¿ç”¨å¯†ç è¿›è¡ŒåŠ å¯†ã€‚</span><br><span class="line"></span><br><span class="line">è¿›ä¸€æ­¥å°è¯•ä¿®æ”¹æƒé™æ¥å®ç°ã€‚</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# æµ‹è¯•ç”¨æˆ·boobooçš„è´¦å·å¯†ç æƒ…å†µ&lt;/span&gt;&lt;/span&gt;&lt;b</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>MySQL ä½¿ç”¨æ€§èƒ½æ¨¡å¼è¿›è¡ŒæŸ¥è¯¢åˆ†æ</title>
    <link href="http://www.toberoot.com/news/2020/09/22/tec-mysql/"/>
    <id>http://www.toberoot.com/news/2020/09/22/tec-mysql/</id>
    <published>2020-09-22T00:00:00.000Z</published>
    <updated>2025-10-22T14:33:10.763Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ä½¿ç”¨-Profiles-åˆ†æ-SQL-è¯­å¥æ‰§è¡Œæ—¶é—´å’Œæ¶ˆè€—èµ„æº"><a href="#ä½¿ç”¨-Profiles-åˆ†æ-SQL-è¯­å¥æ‰§è¡Œæ—¶é—´å’Œæ¶ˆè€—èµ„æº" class="headerlink" title="ä½¿ç”¨ Profiles åˆ†æ SQL è¯­å¥æ‰§è¡Œæ—¶é—´å’Œæ¶ˆè€—èµ„æº"></a><a href="https://dev.mysql.com/doc/refman/8.0/en/show-profile.html">ä½¿ç”¨ Profiles åˆ†æ SQL è¯­å¥æ‰§è¡Œæ—¶é—´å’Œæ¶ˆè€—èµ„æº</a></h1><blockquote><p>SHOW PROFILE å’ŒÂ SHOW PROFILES è¯­å¥å°†åœ¨æœªæ¥çš„MySQLç‰ˆæœ¬ä¸­åˆ é™¤ã€‚</p></blockquote><ul><li>typeå¯ä»¥æŒ‡å®šÂ å¯é€‰å€¼ä»¥æ˜¾ç¤ºç‰¹å®šçš„å…¶ä»–ä¿¡æ¯ç±»å‹ï¼š</li><li>ALLÂ æ˜¾ç¤ºæ‰€æœ‰ä¿¡æ¯</li><li>BLOCK IOÂ æ˜¾ç¤ºå—è¾“å…¥å’Œè¾“å‡ºæ“ä½œçš„è®¡æ•°</li><li>CONTEXT SWITCHESÂ æ˜¾ç¤ºè‡ªæ„¿å’Œéè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢çš„è®¡æ•°</li><li>CPUÂ æ˜¾ç¤ºç”¨æˆ·å’Œç³»ç»Ÿçš„CPUä½¿ç”¨æ—¶é—´</li><li>IPCÂ æ˜¾ç¤ºå·²å‘é€å’Œå·²æ¥æ”¶é‚®ä»¶çš„è®¡æ•°</li><li>MEMORYÂ ç›®å‰å°šæœªå®æ–½</li><li>PAGE FAULTSÂ æ˜¾ç¤ºä¸»è¦å’Œæ¬¡è¦é¡µé¢é”™è¯¯çš„è®¡æ•°</li><li>SOURCEÂ æ˜¾ç¤ºæºä»£ç ä¸­çš„å‡½æ•°åç§°ä»¥åŠè¯¥å‡½æ•°æ‰€åœ¨æ–‡ä»¶çš„åç§°å’Œè¡Œå·</li><li>SWAPSÂ æ˜¾ç¤ºæ‰æœŸè®¡æ•°</li></ul><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SELECT</span> @<span class="variable">@profiling</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------------+</span></span><br><span class="line"><span class="operator">|</span> @<span class="variable">@profiling</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------------+</span></span><br><span class="line"><span class="operator">|</span>           <span class="number">0</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SET</span> profiling <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> t1;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected, <span class="number">1</span> warning (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">CREATE TABLE</span> T1 (id <span class="type">INT</span>);</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SHOW</span> PROFILES;</span><br><span class="line"><span class="operator">+</span><span class="comment">----------+----------+--------------------------+</span></span><br><span class="line"><span class="operator">|</span> Query_ID <span class="operator">|</span> Duration <span class="operator">|</span> Query                    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------+----------+--------------------------+</span></span><br><span class="line"><span class="operator">|</span>        <span class="number">0</span> <span class="operator">|</span> <span class="number">0.000088</span> <span class="operator">|</span> <span class="keyword">SET</span> PROFILING <span class="operator">=</span> <span class="number">1</span>        <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>        <span class="number">1</span> <span class="operator">|</span> <span class="number">0.000136</span> <span class="operator">|</span> <span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> t1  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>        <span class="number">2</span> <span class="operator">|</span> <span class="number">0.011947</span> <span class="operator">|</span> <span class="keyword">CREATE TABLE</span> t1 (id <span class="type">INT</span>) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------+----------+--------------------------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SHOW</span> PROFILE;</span><br><span class="line"><span class="operator">+</span><span class="comment">----------------------+----------+</span></span><br><span class="line"><span class="operator">|</span> Status               <span class="operator">|</span> Duration <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------------------+----------+</span></span><br><span class="line"><span class="operator">|</span> checking permissions <span class="operator">|</span> <span class="number">0.000040</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> creating <span class="keyword">table</span>       <span class="operator">|</span> <span class="number">0.000056</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> After <span class="keyword">create</span>         <span class="operator">|</span> <span class="number">0.011363</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> query <span class="keyword">end</span>            <span class="operator">|</span> <span class="number">0.000375</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> freeing items        <span class="operator">|</span> <span class="number">0.000089</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> logging slow query   <span class="operator">|</span> <span class="number">0.000019</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> cleaning up          <span class="operator">|</span> <span class="number">0.000005</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------------------+----------+</span></span><br><span class="line"><span class="number">7</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SHOW</span> PROFILE <span class="keyword">FOR</span> QUERY <span class="number">1</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+----------+</span></span><br><span class="line"><span class="operator">|</span> Status             <span class="operator">|</span> Duration <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+----------+</span></span><br><span class="line"><span class="operator">|</span> query <span class="keyword">end</span>          <span class="operator">|</span> <span class="number">0.000107</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> freeing items      <span class="operator">|</span> <span class="number">0.000008</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> logging slow query <span class="operator">|</span> <span class="number">0.000015</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> cleaning up        <span class="operator">|</span> <span class="number">0.000006</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+----------+</span></span><br><span class="line"><span class="number">4</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SHOW</span> PROFILE CPU <span class="keyword">FOR</span> QUERY <span class="number">2</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">----------------------+----------+----------+------------+</span></span><br><span class="line"><span class="operator">|</span> Status               <span class="operator">|</span> Duration <span class="operator">|</span> CPU_user <span class="operator">|</span> CPU_system <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------------------+----------+----------+------------+</span></span><br><span class="line"><span class="operator">|</span> checking permissions <span class="operator">|</span> <span class="number">0.000040</span> <span class="operator">|</span> <span class="number">0.000038</span> <span class="operator">|</span>   <span class="number">0.000002</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> creating <span class="keyword">table</span>       <span class="operator">|</span> <span class="number">0.000056</span> <span class="operator">|</span> <span class="number">0.000028</span> <span class="operator">|</span>   <span class="number">0.000028</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> After <span class="keyword">create</span>         <span class="operator">|</span> <span class="number">0.011363</span> <span class="operator">|</span> <span class="number">0.000217</span> <span class="operator">|</span>   <span class="number">0.001571</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> query <span class="keyword">end</span>            <span class="operator">|</span> <span class="number">0.000375</span> <span class="operator">|</span> <span class="number">0.000013</span> <span class="operator">|</span>   <span class="number">0.000028</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> freeing items        <span class="operator">|</span> <span class="number">0.000089</span> <span class="operator">|</span> <span class="number">0.000010</span> <span class="operator">|</span>   <span class="number">0.000014</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> logging slow query   <span class="operator">|</span> <span class="number">0.000019</span> <span class="operator">|</span> <span class="number">0.000009</span> <span class="operator">|</span>   <span class="number">0.000010</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> cleaning up          <span class="operator">|</span> <span class="number">0.000005</span> <span class="operator">|</span> <span class="number">0.000003</span> <span class="operator">|</span>   <span class="number">0.000002</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------------------+----------+----------+------------+</span></span><br><span class="line"><span class="number">7</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="ä½¿ç”¨æ€§èƒ½æ¨¡å¼è¿›è¡ŒæŸ¥è¯¢åˆ†æ"><a href="#ä½¿ç”¨æ€§èƒ½æ¨¡å¼è¿›è¡ŒæŸ¥è¯¢åˆ†æ" class="headerlink" title="ä½¿ç”¨æ€§èƒ½æ¨¡å¼è¿›è¡ŒæŸ¥è¯¢åˆ†æ"></a><a href="https://dev.mysql.com/doc/refman/8.0/en/performance-schema-query-profiling.html">ä½¿ç”¨æ€§èƒ½æ¨¡å¼è¿›è¡ŒæŸ¥è¯¢åˆ†æ</a></h1><p>ä»¥ä¸‹ç¤ºä¾‹æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨Performance Schemaè¯­å¥äº‹ä»¶å’Œé˜¶æ®µäº‹ä»¶æ¥æ£€ç´¢ä¸SHOW PROFILESå’ŒSHOW PROFILEè¯­å¥æä¾›çš„æ¦‚è¦åˆ†æä¿¡æ¯ç›¸å½“çš„æ•°æ®ã€‚<br>è¯¥setup_actorsè¡¨å¯ç”¨äºé™åˆ¶ä¸»æœºï¼Œç”¨æˆ·æˆ–å¸æˆ·å¯¹å†å²äº‹ä»¶çš„æ”¶é›†ï¼Œä»¥å‡å°‘è¿è¡Œæ—¶å¼€é”€å’Œå†å²è¡¨ä¸­æ”¶é›†çš„æ•°æ®é‡ã€‚è¯¥ç¤ºä¾‹çš„ç¬¬ä¸€æ­¥æ˜¾ç¤ºäº†å¦‚ä½•å°†å†å²äº‹ä»¶çš„æ”¶é›†é™åˆ¶ä¸ºç‰¹å®šç”¨æˆ·ã€‚<br>æ€§èƒ½æ¶æ„ä»¥çš®ç§’ï¼ˆä¸‡äº¿åˆ†ä¹‹ä¸€ç§’ï¼‰ä¸ºå•ä½æ˜¾ç¤ºäº‹ä»¶è®¡æ—¶å™¨ä¿¡æ¯ï¼Œä»¥å°†è®¡æ—¶æ•°æ®æ ‡å‡†åŒ–ä¸ºæ ‡å‡†å•ä½ã€‚åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œå°†Â TIMER_WAITå€¼é™¤ä»¥1000000000000ï¼Œä»¥ç§’ä¸ºå•ä½æ˜¾ç¤ºæ•°æ®ã€‚å€¼ä¹Ÿå°†è¢«æˆªæ–­ä¸ºå°æ•°ç‚¹å6ä½ï¼Œä»¥ä¸SHOW PROFILESandÂ SHOW PROFILEè¯­å¥ç›¸åŒçš„æ ¼å¼æ˜¾ç¤ºæ•°æ®ã€‚</p><p>ä½¿ç”¨Performance Schemaè¯­å¥äº‹ä»¶å’Œé˜¶æ®µäº‹ä»¶æ¥æ£€ç´¢ä¸ SHOW PROFILES å’Œ SHOW PROFILE è¯­å¥æä¾›çš„æ¦‚è¦åˆ†æä¿¡æ¯ç›¸å½“çš„æ•°æ®ã€‚</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> performance_schema.setup_actors;</span><br><span class="line"># é€šè¿‡æ›´æ–°setup_instrumentsè¡¨ç¡®ä¿å·²å¯ç”¨è¯­å¥å’Œé˜¶æ®µæ£€æµ‹ ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå¯èƒ½å·²å¯ç”¨ã€‚</span><br><span class="line"><span class="keyword">UPDATE</span> performance_schema.setup_instruments <span class="keyword">SET</span> ENABLED <span class="operator">=</span> <span class="string">&#x27;YES&#x27;</span>, TIMED <span class="operator">=</span> <span class="string">&#x27;YES&#x27;</span> <span class="keyword">WHERE</span> NAME <span class="keyword">LIKE</span> <span class="string">&#x27;%statement/%&#x27;</span>;</span><br><span class="line"><span class="keyword">UPDATE</span> performance_schema.setup_instruments <span class="keyword">SET</span> ENABLED <span class="operator">=</span> <span class="string">&#x27;YES&#x27;</span>, TIMED <span class="operator">=</span> <span class="string">&#x27;YES&#x27;</span> <span class="keyword">WHERE</span> NAME <span class="keyword">LIKE</span> <span class="string">&#x27;%stage/%&#x27;</span>;</span><br><span class="line"># ç¡®ä¿å·²å¯ç”¨events_statements_<span class="operator">*</span>å’Œ events_stages_<span class="operator">*</span>ä½¿ç”¨è€…ã€‚</span><br><span class="line"><span class="keyword">UPDATE</span> performance_schema.setup_consumers <span class="keyword">SET</span> ENABLED <span class="operator">=</span> <span class="string">&#x27;YES&#x27;</span> <span class="keyword">WHERE</span> NAME <span class="keyword">LIKE</span> <span class="string">&#x27;%events_statements_%&#x27;</span>;</span><br><span class="line"><span class="keyword">UPDATE</span> performance_schema.setup_consumers <span class="keyword">SET</span> ENABLED <span class="operator">=</span> <span class="string">&#x27;YES&#x27;</span> <span class="keyword">WHERE</span> NAME <span class="keyword">LIKE</span> <span class="string">&#x27;%events_stages_%&#x27;</span>;</span><br><span class="line"># è¿è¡Œè¦åˆ†æçš„è¯­å¥</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> x2_user;</span><br><span class="line"># EVENT_IDé€šè¿‡æŸ¥è¯¢events_statements_history_long è¡¨æ¥ æ ‡è¯†è¯­å¥ ã€‚æ­¤æ­¥éª¤ç±»ä¼¼äºè¿è¡Œ <span class="keyword">SHOW</span> PROFILESä»¥æ ‡è¯† Query_IDã€‚ä»¥ä¸‹æŸ¥è¯¢äº§ç”Ÿç±»ä¼¼äºä»¥ä¸‹å†…å®¹çš„è¾“å‡º<span class="keyword">SHOW</span> PROFILESï¼š</span><br><span class="line"><span class="keyword">SELECT</span> EVENT_ID, <span class="keyword">TRUNCATE</span>(TIMER_WAIT<span class="operator">/</span><span class="number">1000000000000</span>,<span class="number">6</span>) <span class="keyword">as</span> Duration, SQL_TEXT <span class="keyword">FROM</span> performance_schema.events_statements_history_long <span class="keyword">WHERE</span> SQL_TEXT <span class="keyword">like</span> <span class="string">&#x27;%user%&#x27;</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">----------+----------+-----------------------+</span></span><br><span class="line"><span class="operator">|</span> EVENT_ID <span class="operator">|</span> Duration <span class="operator">|</span> SQL_TEXT              <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------+----------+-----------------------+</span></span><br><span class="line"><span class="operator">|</span>       <span class="number">84</span> <span class="operator">|</span> <span class="number">0.020524</span> <span class="operator">|</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> x2_user <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------+----------+-----------------------+</span></span><br><span class="line"># æŸ¥è¯¢ events_stages_history_long è¡¨ä»¥æ£€ç´¢è¯­å¥çš„é˜¶æ®µäº‹ä»¶ã€‚é˜¶æ®µä½¿ç”¨äº‹ä»¶åµŒå¥—é“¾æ¥åˆ°è¯­å¥ã€‚æ¯ä¸ªé˜¶æ®µäº‹ä»¶è®°å½•éƒ½æœ‰ä¸€ä¸ªNESTING_EVENT_IDåŒ…å«EVENT_IDçˆ¶è¯­å¥çš„çš„åˆ—ã€‚</span><br><span class="line"><span class="keyword">SELECT</span> event_name <span class="keyword">AS</span> Stage, <span class="keyword">TRUNCATE</span>(TIMER_WAIT<span class="operator">/</span><span class="number">1000000000000</span>,<span class="number">6</span>) <span class="keyword">AS</span> Duration <span class="keyword">FROM</span> performance_schema.events_stages_history_long <span class="keyword">WHERE</span> NESTING_EVENT_ID<span class="operator">=</span><span class="number">84</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------------------+----------+</span></span><br><span class="line"><span class="operator">|</span> Stage                          <span class="operator">|</span> Duration <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------------------+----------+</span></span><br><span class="line"><span class="operator">|</span> stage<span class="operator">/</span><span class="keyword">sql</span><span class="operator">/</span>starting             <span class="operator">|</span> <span class="number">0.000031</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> stage<span class="operator">/</span><span class="keyword">sql</span><span class="operator">/</span>checking permissions <span class="operator">|</span> <span class="number">0.000003</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> stage<span class="operator">/</span><span class="keyword">sql</span><span class="operator">/</span>Opening tables       <span class="operator">|</span> <span class="number">0.000769</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> stage<span class="operator">/</span><span class="keyword">sql</span><span class="operator">/</span>init                 <span class="operator">|</span> <span class="number">0.000065</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> stage<span class="operator">/</span><span class="keyword">sql</span><span class="operator">/</span><span class="keyword">System</span> lock          <span class="operator">|</span> <span class="number">0.000011</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> stage<span class="operator">/</span><span class="keyword">sql</span><span class="operator">/</span>optimizing           <span class="operator">|</span> <span class="number">0.000001</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> stage<span class="operator">/</span><span class="keyword">sql</span><span class="operator">/</span>statistics           <span class="operator">|</span> <span class="number">0.000007</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> stage<span class="operator">/</span><span class="keyword">sql</span><span class="operator">/</span>preparing            <span class="operator">|</span> <span class="number">0.000006</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> stage<span class="operator">/</span><span class="keyword">sql</span><span class="operator">/</span>executing            <span class="operator">|</span> <span class="number">0.000212</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> stage<span class="operator">/</span><span class="keyword">sql</span><span class="operator">/</span>Sending data         <span class="operator">|</span> <span class="number">0.019388</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> stage<span class="operator">/</span><span class="keyword">sql</span><span class="operator">/</span><span class="keyword">end</span>                  <span class="operator">|</span> <span class="number">0.000001</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> stage<span class="operator">/</span><span class="keyword">sql</span><span class="operator">/</span>query <span class="keyword">end</span>            <span class="operator">|</span> <span class="number">0.000003</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> stage<span class="operator">/</span><span class="keyword">sql</span><span class="operator">/</span>closing tables       <span class="operator">|</span> <span class="number">0.000006</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> stage<span class="operator">/</span><span class="keyword">sql</span><span class="operator">/</span>freeing items        <span class="operator">|</span> <span class="number">0.000014</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> stage<span class="operator">/</span><span class="keyword">sql</span><span class="operator">/</span>cleaning up          <span class="operator">|</span> <span class="number">0.000001</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------------------+----------+</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;ä½¿ç”¨-Profiles-åˆ†æ-SQL-è¯­å¥æ‰§è¡Œæ—¶é—´å’Œæ¶ˆè€—èµ„æº&quot;&gt;&lt;a href=&quot;#ä½¿ç”¨-Profiles-åˆ†æ-SQL-è¯­å¥æ‰§è¡Œæ—¶é—´å’Œæ¶ˆè€—èµ„æº&quot; class=&quot;headerlink&quot; title=&quot;ä½¿ç”¨ Profiles åˆ†æ SQL è¯­å¥æ‰§è¡Œæ—¶é—´å’Œæ¶ˆè€—èµ„æº&quot;&gt;</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>CodeSample å…¨æ°‘èµ›ç </title>
    <link href="http://www.toberoot.com/news/2020/09/05/aliyun-game/"/>
    <id>http://www.toberoot.com/news/2020/09/05/aliyun-game/</id>
    <published>2020-09-05T00:00:00.000Z</published>
    <updated>2025-10-22T14:33:10.763Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ¬¡å¤§èµ›ç”±é˜¿é‡Œäº‘å¼€æ”¾å¹³å°&amp;é˜¿é‡Œäº‘å¼€å‘è€…ç¤¾åŒº&amp;é˜¿é‡Œäº‘å†…å®¹è®¾è®¡éƒ¨è”åˆä¸¾åŠã€‚</p><h2 id="å¤§èµ›ç®€ä»‹"><a href="#å¤§èµ›ç®€ä»‹" class="headerlink" title="å¤§èµ›ç®€ä»‹"></a>å¤§èµ›ç®€ä»‹</h2><p>é˜¿é‡Œäº‘å¼€æ”¾å¹³å°æºæ‰‹å¼€å‘è€…ç¤¾åŒºã€å†…å®¹è®¾è®¡éƒ¨ï¼Œè”åˆä¸¾åŠâ€œOpenAPI å¼€å‘è€…æŒ‘æˆ˜èµ›ç¬¬ä¸‰æœŸâ€”â€” CodeSample å…¨æ°‘èµ›ç  â€ï¼Œé¢å‘æ•°ä¸‡å¼€å‘è€…ï¼Œæ‹›å‹Ÿé˜¿é‡Œäº‘ OpenAPI ç¤ºä¾‹ä»£ç ï¼ˆCodeSampleï¼‰ã€‚æ— è®ºæ‚¨æ˜¯å…¥é—¨å¼€å‘ï¼Œæˆ–æ˜¯è¿ç»´å¤§ç¥ï¼Œæ— è®ºæ˜¯åˆ©ç”¨ OpenAPI è§£å†³ä¸€ä¸ªè½»é‡åœºæ™¯ï¼Œæˆ–æ˜¯æ»¡è¶³ä¸€ä¸ªå°åŠŸèƒ½ï¼Œé€šé€šåˆ°ç¢—é‡Œæ¥ï¼ç°æŠ¥åé€šé“ç«çƒ­å¼€å¯ï¼Œæ¬¢è¿æŠ¢å…ˆæŠ¥åï¼</p><h3 id="å¤§èµ›è¯¦æƒ…"><a href="#å¤§èµ›è¯¦æƒ…" class="headerlink" title="å¤§èµ›è¯¦æƒ…"></a><a href="https://developer.aliyun.com/topic/codesample/active1">å¤§èµ›è¯¦æƒ…</a></h3><h2 id="èµ›äº‹å®‰æ’"><a href="#èµ›äº‹å®‰æ’" class="headerlink" title="èµ›äº‹å®‰æ’"></a>èµ›äº‹å®‰æ’</h2><p>å¤§èµ›æŠ¥åï¼š 2020.08.12â€”2020.09.11<br>ä½œå“æäº¤æˆªæ­¢æ—¥ï¼š2020.09.13<br>ä½œå“è¯„å®¡ï¼š2020.09.17<br>è·å¥–å…¬å¸ƒï¼š2020.09.18</p><h2 id="å¥–é¡¹è®¾ç½®"><a href="#å¥–é¡¹è®¾ç½®" class="headerlink" title="å¥–é¡¹è®¾ç½®"></a>å¥–é¡¹è®¾ç½®</h2><p>**ä¸€ç­‰å¥–ï¼š**1 åï¼Œæ¨±æ¡ƒæœºæ¢°é”®ç›˜ + å†…æ¨èµ„æ ¼ + å¼€æ”¾å¹³å°å¤©ä½¿ç”¨æˆ·èµ„æ ¼ + å‚èµ›å¥–ç‰Œï¼›<br>**äºŒç­‰å¥–ï¼š**3 åï¼Œå¤§ç–†ç‰¹æ´›ï¼ˆTelloï¼‰èˆªæ‹æ— äººæœº + å†…æ¨èµ„æ ¼ + å‚èµ›å¥–ç‰Œï¼›<br>**ä¸‰ç­‰å¥–ï¼š**5 åï¼ŒAlibabaåŒè‚©èƒŒåŒ… + å‚èµ›å¥–ç‰Œï¼›<br>**å‚ä¸å¥–ï¼š**20 åï¼Œå¤§èµ›ä¸“å±å¥–ç‰Œã€‚</p><h2 id="å‚èµ›è§„åˆ™"><a href="#å‚èµ›è§„åˆ™" class="headerlink" title="å‚èµ›è§„åˆ™"></a>å‚èµ›è§„åˆ™</h2><p>1ã€å¤§èµ›æŠ¥åï¼šæäº¤å‚èµ›ä½œå“å‰ï¼Œè¯·å…ˆè¿›è¡Œ <strong><a href="https://survey.aliyun.com/apps/zhiliao/YScU_6Lty?spm=a2c6h.17640777.J_1935739830.1.7b0b54e1ceHGoF">å¤§èµ›æŠ¥å</a></strong>ï¼Œæœªå®Œæˆå¤§èµ›æŠ¥åçš„é€‰æ‰‹ï¼Œæäº¤çš„å‚èµ›ä½œå“è§†ä¸ºæ— æ•ˆï¼›</p><p>2ã€ä½œå“æäº¤ï¼š<strong><a href="https://api.aliyun.com/?spm=a2c6h.17640777.J_6252052100.1.7b0b54e1CI5grf#/codesample">è¿›å…¥ä½œå“æäº¤é¡µé¢</a></strong>ï¼Œç‚¹å‡»â€œå¼€å§‹ç¼–è¾‘â€å³å¯ç¼–è¾‘å’Œé¢„è§ˆ CodeSampleï¼ŒåŒæ—¶å¯ç›´æ¥æäº¤ä½œå“ï¼ˆæœ¬æ¬¡æ´»åŠ¨å”¯ä¸€ä½œå“æäº¤å…¥å£ï¼‰ï¼Œè¯·æŒ‰ç…§é¡µé¢ä¸Šçš„æŒ‡å—æ“ä½œã€‚</p><h2 id="ä½œå“é€‰é¢˜å‚è€ƒ"><a href="#ä½œå“é€‰é¢˜å‚è€ƒ" class="headerlink" title="ä½œå“é€‰é¢˜å‚è€ƒ"></a>ä½œå“é€‰é¢˜å‚è€ƒ</h2><p><img src="https://tianchi-public.oss-cn-hangzhou.aliyuncs.com/public/files/forum/159887018616816301598870183654.jpeg" alt="enter image description here"></p><h2 id="å®ä¾‹-demo-å‚è€ƒ"><a href="#å®ä¾‹-demo-å‚è€ƒ" class="headerlink" title="å®ä¾‹ demo å‚è€ƒ"></a>å®ä¾‹ demo å‚è€ƒ</h2><ul><li><strong><a href="https://developer.aliyun.com/codesample/9?spm=a2c6h.17640777.J_7225173660.1.7b0b54e1wmvdkP">è·å– ECS å®ä¾‹é…ç½®</a></strong></li><li><strong><a href="https://developer.aliyun.com/codesample/6?spm=a2c6h.17640777.J_7225173660.2.7b0b54e1wmvdkP">åˆ›å»º HTTP ç›‘å¬</a></strong></li><li><strong><a href="https://developer.aliyun.com/codesample/111?spm=a2c6h.17640777.J_7225173660.3.7b0b54e1wmvdkP">åˆ›å»º NAT ç½‘å…³</a></strong></li></ul><h2 id="é¢å‘å¯¹è±¡"><a href="#é¢å‘å¯¹è±¡" class="headerlink" title="é¢å‘å¯¹è±¡"></a>é¢å‘å¯¹è±¡</h2><p>æœ¬æ¬¡å¤§èµ›é¢å‘æ‰€æœ‰çš„å¼€å‘è€…ï¼Œæ‹›å‹Ÿé˜¿é‡Œäº‘ OpenAPI ç¤ºä¾‹ä»£ç ï¼ˆCodeSampleï¼‰ï¼Œæ— è®ºæ‚¨æ˜¯å…¥é—¨å¼€å‘ï¼Œæˆ–æ˜¯è¿ç»´å¤§ç¥ï¼Œåªè¦æ‚¨å¯¹é˜¿é‡Œäº‘OpenAPI æ„Ÿå…´è¶£ï¼Œå°±å¯æŠ¥åå‚èµ›å¹¶ä¸”æäº¤ä½œå“ã€‚</p><p>1ã€æŠ¥åæ–¹å¼ï¼šç™»å½•æ¯”èµ›å®˜ç½‘ï¼Œç‚¹å‡»æŠ¥åé“¾æ¥ï¼Œå®Œæˆä¸ªäººä¿¡æ¯ç™»è®°åæŠ¥åæˆåŠŸï¼›</p><p>2ã€é€‰æ‰‹ä»¥ä¸ªäººå½¢å¼å‚ä¸ï¼Œå¹¶ç¡®ä¿æŠ¥åä¿¡æ¯å‡†ç¡®æœ‰æ•ˆï¼›</p><p>3ã€é€‰æ‰‹äº¤æµå®˜æ–¹é’‰é’‰ç¾¤ï¼š</p><p><img src="https://tianchi-public.oss-cn-hangzhou.aliyuncs.com/public/files/forum/159886906170617151598869059092.jpeg" alt="enter image description here"></p><h2 id="å¤§èµ›ç»„ç»‡"><a href="#å¤§èµ›ç»„ç»‡" class="headerlink" title="å¤§èµ›ç»„ç»‡"></a>å¤§èµ›ç»„ç»‡</h2><p>ä¸»åŠæ–¹ï¼šé˜¿é‡Œäº‘å¼€æ”¾å¹³å° | é˜¿é‡Œäº‘å¼€å‘è€…ç¤¾åŒº | é˜¿é‡Œäº‘å†…å®¹è®¾è®¡éƒ¨</p><hr><h1 id="å¤§å®æŠ¥å"><a href="#å¤§å®æŠ¥å" class="headerlink" title="å¤§å®æŠ¥å"></a>å¤§å®æŠ¥å</h1><p><img src="001.png"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æœ¬æ¬¡å¤§èµ›ç”±é˜¿é‡Œäº‘å¼€æ”¾å¹³å°&amp;amp;é˜¿é‡Œäº‘å¼€å‘è€…ç¤¾åŒº&amp;amp;é˜¿é‡Œäº‘å†…å®¹è®¾è®¡éƒ¨è”åˆä¸¾åŠã€‚&lt;/p&gt;
&lt;h2 id=&quot;å¤§èµ›ç®€ä»‹&quot;&gt;&lt;a href=&quot;#å¤§èµ›ç®€ä»‹&quot; class=&quot;headerlink&quot; title=&quot;å¤§èµ›ç®€ä»‹&quot;&gt;&lt;/a&gt;å¤§èµ›ç®€ä»‹&lt;/h2&gt;&lt;p&gt;é˜¿é‡Œäº‘å¼€æ”¾å¹³å°æºæ‰‹å¼€å‘</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>MySQLå‚æ•°-sql_auto_is_null</title>
    <link href="http://www.toberoot.com/news/2020/07/14/tec-mysql/"/>
    <id>http://www.toberoot.com/news/2020/07/14/tec-mysql/</id>
    <published>2020-07-14T00:00:00.000Z</published>
    <updated>2025-10-22T14:33:10.763Z</updated>
    
    <content type="html"><![CDATA[<h1 id="sql-auto-is-null"><a href="#sql-auto-is-null" class="headerlink" title="sql_auto_is_null"></a>sql_auto_is_null</h1><p><a href="https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_sql_auto_is_null">sql_auto_is_null</a></p><ul><li><table><thead><tr><th>å±æ€§</th><th>å€¼</th></tr></thead><tbody><tr><td>ç³»ç»Ÿå˜é‡</td><td><code>sql_auto_is_null</code></td></tr><tr><td>èŒƒå›´</td><td>å…¨çƒä¼šè®®</td></tr><tr><td>åŠ¨æ€</td><td>æ˜¯</td></tr><tr><td><a href="https://dev.mysql.com/doc/refman/8.0/en/optimizer-hints.html#optimizer-hints-set-var"><code>SET_VAR</code></a> æç¤ºé€‚ç”¨</td><td>æ˜¯</td></tr><tr><td>ç±»å‹</td><td>å¸ƒå°”å‹</td></tr><tr><td>é»˜è®¤å€¼</td><td><code>OFF</code></td></tr></tbody></table><p>å¦‚æœå¯ç”¨äº†æ­¤å˜é‡ï¼Œåˆ™åœ¨æˆåŠŸæ’å…¥è‡ªåŠ¨ç”Ÿæˆçš„<code>AUTO_INCREMENT</code>å€¼çš„è¯­å¥ä¹‹å ï¼Œå¯ä»¥é€šè¿‡å‘å‡ºä»¥ä¸‹å½¢å¼çš„è¯­å¥æ¥æ‰¾åˆ°è¯¥å€¼ï¼š</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> tbl_name <span class="keyword">WHERE</span> auto_col <span class="keyword">IS</span> <span class="keyword">NULL</span></span><br></pre></td></tr></table></figure><p>å¦‚æœè¯¥è¯­å¥è¿”å›ä¸€è¡Œï¼Œåˆ™è¿”å›çš„å€¼ä¸è°ƒç”¨è¯¥<a href="https://dev.mysql.com/doc/refman/8.0/en/information-functions.html#function_last-insert-id"><code>LAST_INSERT_ID()</code></a>å‡½æ•°çš„å€¼ç›¸åŒã€‚<br>æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬åœ¨å¤šè¡Œæ’å…¥ä¹‹åçš„è¿”å›å€¼ï¼Œè¯·å‚è§<a href="https://dev.mysql.com/doc/refman/8.0/en/information-functions.html">ç¬¬12.15èŠ‚â€œä¿¡æ¯å‡½æ•°â€</a>ã€‚å¦‚æœæ²¡æœ‰<code>AUTO_INCREMENT</code>æˆåŠŸæ’å…¥ä»»ä½•<br>å€¼ï¼Œåˆ™è¯¥<a href="https://dev.mysql.com/doc/refman/8.0/en/select.html"><code>SELECT</code></a>è¯­å¥ä¸è¿”å›ä»»ä½•è¡Œã€‚</p><p>æŸäº›ODBCç¨‹åºï¼ˆä¾‹å¦‚Accessï¼‰ä½¿ç”¨é€šè¿‡æ¯”è¾ƒæ¥ æ£€ç´¢<code>AUTO_INCREMENT</code>å€¼<br>çš„è¡Œä¸º <a href="https://dev.mysql.com/doc/refman/8.0/en/comparison-operators.html#operator_is-null"><code>IS NULL</code></a>ã€‚è¯·å‚é˜… <a href="https://dev.mysql.com/doc/connector-odbc/en/connector-odbc-usagenotes-functionality-last-insert-id.html">è·å–è‡ªåŠ¨å¢é‡å€¼</a>ã€‚å¯ä»¥é€šè¿‡è®¾ç½®<a href="https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_sql_auto_is_null"><code>sql_auto_is_null</code></a>ä¸º ç¦ç”¨æ­¤è¡Œä¸º <code>OFF</code>ã€‚</p><p>åœ¨æ­¤ä¹‹å‰çš„MySQL 8.0.16ï¼Œæ”¹é€ ï¼Œä»¥ æ‰§è¡Œè¯¥è¯­å¥æ—¶ï¼Œæ‰è¢«æ‰§è¡Œï¼Œè¿™æ ·çš„å€¼<br>æ‰§è¡ŒæœŸé—´ç¡®å®šæŸ¥è¯¢æ˜¯å¦è½¬åŒ–ã€‚åœ¨MySQL 8.0.16åŠæ›´é«˜ç‰ˆæœ¬ä¸­ï¼Œè½¬æ¢æ˜¯åœ¨è¯­å¥å‡†å¤‡æœŸé—´æ‰§è¡Œçš„ã€‚ <code>WHERE *</code>auto_col<code>* IS NULL``WHERE *</code>auto_col<code>* = LAST_INSERT_ID()``sql_auto_is_null</code></p><p>é»˜è®¤å€¼ <a href="https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_sql_auto_is_null"><code>sql_auto_is_null</code></a>æ˜¯ <code>OFF</code>ã€‚</p></li></ul><h1 id="å®è·µ"><a href="#å®è·µ" class="headerlink" title="å®è·µ"></a>å®è·µ</h1><ol><li>æŸ¥çœ‹å½“å‰å‚æ•°å€¼<code>select @@sql_auto_is_null;</code></li><li>è®¾ç½®å‚æ•°ä¸ºå¼€å¯<code>set @@sql_auto_is_null=1;</code><br>2.1 åˆ›å»ºå¸¦è‡ªå¢é•¿ä¸»é”®çš„è¡¨test1 <code>create table test1 (id int primary key auto_increment, name varchar(255));</code><br>2.2 æ’å…¥æ•°æ® <code>insert into test1 set name=&#39;booboo&#39;;</code><br>2.3 æŸ¥çœ‹idä¸ä¸ºnullçš„åˆ— <code>SELECT * FROM fms.test1 WHERE id IS NULL;</code></li><li>è®¾ç½®å‚æ•°ä¸ºå…³é—­<code>set @@sql_auto_is_null=0;</code><br>3.1 æ’å…¥æ•°æ® <code>insert into test1 set name=&#39;tom&#39;;</code><br>3.2 æŸ¥çœ‹idä¸ä¸ºnullçš„åˆ— <code>SELECT * FROM fms.test1 WHERE id IS NULL;</code></li></ol><blockquote class="note warn"><strong class="note-title">æ€»ç»“</strong><p>sql_auto_is_null å‚æ•°é»˜è®¤å€¼ä¸ºOFF å…³é—­ 0<br>æŸäº›ODBCç¨‹åºï¼ˆä¾‹å¦‚Accessï¼‰ä½¿ç”¨é€šè¿‡æ¯”è¾ƒæ¥ æ£€ç´¢<code>AUTO_INCREMENT</code>å€¼ çš„è¡Œä¸º [<code>IS NULL</code>]<br>åœ¨å‚æ•°å€¼ä¸ºONçš„æƒ…å†µä¸‹ï¼Œå¯æ‰§è¡Œ<code>select * from table where id is null;</code><br>ä¸å»ºè®®å¼€å¯ã€‚</p></blockquote><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mysql&gt;<span class="keyword">select</span> @@sql_auto_is_null;</span><br><span class="line">+------------------------------+</span><br><span class="line">| @@sql_auto_is_null           |</span><br><span class="line">+------------------------------+</span><br><span class="line">| 0                            |</span><br><span class="line">+------------------------------+</span><br><span class="line">è¿”å›è¡Œæ•°ï¼š[1]ï¼Œè€—æ—¶ï¼š5 ms.</span><br><span class="line">mysql&gt;<span class="built_in">set</span> @@sql_auto_is_null=1;</span><br><span class="line">æ‰§è¡ŒæˆåŠŸï¼Œè€—æ—¶ï¼š7 ms.</span><br><span class="line">mysql&gt;create table test1 (<span class="built_in">id</span> int primary key auto_increment, name varchar(255));</span><br><span class="line">æ‰§è¡ŒæˆåŠŸï¼Œè€—æ—¶ï¼š113 ms.</span><br><span class="line">mysql&gt;insert into test1 <span class="built_in">set</span> name=<span class="string">&#x27;booboo&#x27;</span></span><br><span class="line">å½±å“è¡Œæ•°ï¼š[1]ï¼Œè€—æ—¶ï¼š86 ms.</span><br><span class="line">mysql&gt;<span class="keyword">select</span> * from test1;</span><br><span class="line">+--------------+----------------+</span><br><span class="line">| <span class="built_in">id</span>           | name           |</span><br><span class="line">+--------------+----------------+</span><br><span class="line">|            1 | booboo         |</span><br><span class="line">+--------------+----------------+</span><br><span class="line">è¿”å›è¡Œæ•°ï¼š[1]ï¼Œè€—æ—¶ï¼š6 ms.</span><br><span class="line">mysql&gt;<span class="keyword">select</span> @@sql_auto_is_null;</span><br><span class="line">+------------------------------+</span><br><span class="line">| @@sql_auto_is_null           |</span><br><span class="line">+------------------------------+</span><br><span class="line">| 1                            |</span><br><span class="line">+------------------------------+</span><br><span class="line">è¿”å›è¡Œæ•°ï¼š[1]ï¼Œè€—æ—¶ï¼š4 ms.</span><br><span class="line">mysql&gt;SELECT * FROM fms.test1 WHERE <span class="built_in">id</span> IS NULL</span><br><span class="line">+--------------+----------------+</span><br><span class="line">| <span class="built_in">id</span>           | name           |</span><br><span class="line">+--------------+----------------+</span><br><span class="line">|            1 | booboo         |</span><br><span class="line">+--------------+----------------+</span><br><span class="line">è¿”å›è¡Œæ•°ï¼š[1]ï¼Œè€—æ—¶ï¼š16 ms.</span><br><span class="line">mysql&gt;<span class="built_in">set</span> @@sql_auto_is_null=0;</span><br><span class="line">æ‰§è¡ŒæˆåŠŸï¼Œè€—æ—¶ï¼š5 ms.</span><br><span class="line">mysql&gt;insert into test1 <span class="built_in">set</span> name=<span class="string">&#x27;tom&#x27;</span></span><br><span class="line">å½±å“è¡Œæ•°ï¼š[1]ï¼Œè€—æ—¶ï¼š11 ms.</span><br><span class="line">mysql&gt;SELECT * FROM fms.test1 WHERE <span class="built_in">id</span> IS NULL</span><br><span class="line">+--------------+----------------+</span><br><span class="line">| <span class="built_in">id</span>           | name           |</span><br><span class="line">+--------------+----------------+</span><br><span class="line">è¿”å›è¡Œæ•°ï¼š[0]ï¼Œè€—æ—¶ï¼š4 ms.</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;sql-auto-is-null&quot;&gt;&lt;a href=&quot;#sql-auto-is-null&quot; class=&quot;headerlink&quot; title=&quot;sql_auto_is_null&quot;&gt;&lt;/a&gt;sql_auto_is_null&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;https</summary>
      
    
    
    
    <category term="æŠ€æœ¯å¹¿è§’" scheme="http://www.toberoot.com/categories/%E6%8A%80%E6%9C%AF%E5%B9%BF%E8%A7%92/"/>
    
    <category term="MySQL" scheme="http://www.toberoot.com/categories/%E6%8A%80%E6%9C%AF%E5%B9%BF%E8%A7%92/MySQL/"/>
    
    
    <category term="MySQL" scheme="http://www.toberoot.com/tags/MySQL/"/>
    
    <category term="å‚æ•°" scheme="http://www.toberoot.com/tags/%E5%8F%82%E6%95%B0/"/>
    
  </entry>
  
  <entry>
    <title>MySQLæ…¢æŸ¥è¯¢ä½¿ç”¨Tableæ–¹å¼è®°å½•</title>
    <link href="http://www.toberoot.com/news/2020/06/03/tec-mysql/"/>
    <id>http://www.toberoot.com/news/2020/06/03/tec-mysql/</id>
    <published>2020-06-03T10:47:33.000Z</published>
    <updated>2025-10-22T14:33:10.762Z</updated>
    
    <content type="html"><![CDATA[<p>é»˜è®¤MySQLæ…¢æŸ¥è¯¢ä½¿ç”¨FILEè®°å½•ï¼Œä¸ºæ–¹ä¾¿æ•°æ®åˆ†æï¼Œæ”¹ä¸ºä½¿ç”¨Tableçš„æ–¹å¼ä¿å­˜ï¼Œæ–¹ä¾¿æ‹‰å–åè¿‡æ»¤åˆ†æã€‚</p><blockquote class="note info"><strong class="note-title">MySQLæ…¢æŸ¥è¯¢ä½¿ç”¨Tableæ–¹å¼è®°å½•</strong><ol><li>å¼€å¯æ…¢æŸ¥è¯¢</li><li>è®¾ç½®å¿…è¦å‚æ•°</li><li>è®¾ç½®é‡‡é›†å™¨</li><li>è®¾ç½®è½®è¯¢</li></ol></blockquote><h2 id="æŸ¥çœ‹æ…¢æŸ¥è¯¢ç›¸å…³å‚æ•°"><a href="#æŸ¥çœ‹æ…¢æŸ¥è¯¢ç›¸å…³å‚æ•°" class="headerlink" title="æŸ¥çœ‹æ…¢æŸ¥è¯¢ç›¸å…³å‚æ•°"></a>æŸ¥çœ‹æ…¢æŸ¥è¯¢ç›¸å…³å‚æ•°</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">  <span class="string">&#x27;slow_query_log&#x27;</span> <span class="keyword">as</span>  <span class="keyword">parameter</span>,</span><br><span class="line">  @<span class="variable">@slow_query_log</span>  <span class="keyword">as</span>  <span class="keyword">value</span>, <span class="string">&#x27;æ…¢æŸ¥è¯¢æ—¥å¿—å¼€å¯çŠ¶æ€&#x27;</span> <span class="keyword">as</span>  info</span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">  <span class="string">&#x27;long_query_time&#x27;</span>,</span><br><span class="line">  @<span class="variable">@long_query_time</span>, <span class="string">&#x27;æ…¢æŸ¥è¯¢é˜ˆå€¼&#x27;</span></span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">  <span class="string">&#x27;log_output&#x27;</span>,</span><br><span class="line">  @<span class="variable">@log_output</span>,</span><br><span class="line">  <span class="string">&#x27;æ…¢æŸ¥è¯¢ä¿å­˜æ–¹å¼&#x27;</span></span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">  <span class="string">&#x27;slow_query_log_file&#x27;</span>,</span><br><span class="line">  @<span class="variable">@slow_query_log_file</span>, <span class="string">&#x27;æ…¢æŸ¥è¯¢æ—¥å¿—æ–‡ä»¶&#x27;</span></span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">  <span class="string">&#x27;log_queries_not_using_indexes&#x27;</span>,</span><br><span class="line">  @<span class="variable">@log_queries_not_using_indexes</span>,</span><br><span class="line">  <span class="string">&#x27;æœªä½¿ç”¨ç´¢å¼•æŸ¥è¯¢æ˜¯å¦è®°å½•&#x27;</span></span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">  <span class="string">&#x27;log_slow_admin_statements&#x27;</span>,</span><br><span class="line">  @<span class="variable">@log_slow_admin_statements</span>,</span><br><span class="line">  <span class="string">&#x27;æ˜¯å¦å°†æ…¢ç®¡ç†è¯­å¥åŒ…å«ä¾‹å¦‚analyze&#x27;</span>;</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œç»“æœ</p><table><thead><tr><th>parameter</th><th>value</th><th>info</th></tr></thead><tbody><tr><td>slow_query_log</td><td>1</td><td>æ…¢æŸ¥è¯¢æ—¥å¿—å¼€å¯çŠ¶æ€</td></tr><tr><td>long_query_time</td><td>0.1</td><td>æ…¢æŸ¥è¯¢é˜ˆå€¼</td></tr><tr><td>log_output</td><td>TABLE</td><td>æ…¢æŸ¥è¯¢ä¿å­˜æ–¹å¼</td></tr><tr><td>slow_query_log_file</td><td>dataslow.log</td><td>æ…¢æŸ¥è¯¢æ—¥å¿—æ–‡ä»¶</td></tr><tr><td>log_queries_not_using_indexes</td><td>1</td><td>æœªä½¿ç”¨ç´¢å¼•æŸ¥è¯¢æ˜¯å¦è®°å½•</td></tr><tr><td>log_slow_admin_statements</td><td>1</td><td>æ˜¯å¦å°†æ…¢ç®¡ç†è¯­å¥åŒ…å«ä¾‹å¦‚analyze</td></tr></tbody></table><h2 id="å¼€å¯æ…¢æŸ¥è¯¢Tableæ–¹å¼"><a href="#å¼€å¯æ…¢æŸ¥è¯¢Tableæ–¹å¼" class="headerlink" title="å¼€å¯æ…¢æŸ¥è¯¢Tableæ–¹å¼"></a>å¼€å¯æ…¢æŸ¥è¯¢Tableæ–¹å¼</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">show</span> variables <span class="keyword">like</span> <span class="string">&#x27;%log%&#x27;</span>;</span><br><span class="line"><span class="keyword">set</span> <span class="keyword">global</span> log_output<span class="operator">=</span><span class="string">&#x27;TABLE&#x27;</span>;</span><br><span class="line"><span class="keyword">desc</span> slow_log;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@MySQL-01 11:43:  [(none)]&gt; show variables like <span class="string">&#x27;log_output&#x27;</span>;</span><br><span class="line">+---------------+-------+</span><br><span class="line">| Variable_name | Value |</span><br><span class="line">+---------------+-------+</span><br><span class="line">| log_output    | FILE  |</span><br><span class="line">+---------------+-------+</span><br><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br><span class="line"></span><br><span class="line">root@MySQL-01 11:43:  [(none)]&gt; <span class="built_in">set</span> global log_output=<span class="string">&#x27;TABLE&#x27;</span>;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">root@MySQL-01 11:44:  [(none)]&gt; show variables like <span class="string">&#x27;log_output&#x27;</span>;</span><br><span class="line">+---------------+-------+</span><br><span class="line">| Variable_name | Value |</span><br><span class="line">+---------------+-------+</span><br><span class="line">| log_output    | TABLE |</span><br><span class="line">+---------------+-------+</span><br><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span> (0.01 sec)</span><br><span class="line"></span><br><span class="line">root@MySQL-01 11:44:  [(none)]&gt; use mysql;</span><br><span class="line">Database changed</span><br><span class="line">root@MySQL-01 11:44:  [mysql]&gt; show tables;</span><br><span class="line">+---------------------------+</span><br><span class="line">| Tables_in_mysql           |</span><br><span class="line">+---------------------------+</span><br><span class="line">| columns_priv              |</span><br><span class="line">| db                        |</span><br><span class="line">| engine_cost               |</span><br><span class="line">| event                     |</span><br><span class="line">| func                      |</span><br><span class="line">| general_log               |</span><br><span class="line">| gtid_executed             |</span><br><span class="line">| help_category             |</span><br><span class="line">| help_keyword              |</span><br><span class="line">| help_relation             |</span><br><span class="line">| help_topic                |</span><br><span class="line">| innodb_index_stats        |</span><br><span class="line">| innodb_table_stats        |</span><br><span class="line">| ndb_binlog_index          |</span><br><span class="line">| plugin                    |</span><br><span class="line">| proc                      |</span><br><span class="line">| procs_priv                |</span><br><span class="line">| proxies_priv              |</span><br><span class="line">| server_cost               |</span><br><span class="line">| servers                   |</span><br><span class="line">| slave_master_info         |</span><br><span class="line">| slave_relay_log_info      |</span><br><span class="line">| slave_worker_info         |</span><br><span class="line">| slow_log                  |</span><br><span class="line">| tables_priv               |</span><br><span class="line">| time_zone                 |</span><br><span class="line">| time_zone_leap_second     |</span><br><span class="line">| time_zone_name            |</span><br><span class="line">| time_zone_transition      |</span><br><span class="line">| time_zone_transition_type |</span><br><span class="line">| user                      |</span><br><span class="line">+---------------------------+</span><br><span class="line">31 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br><span class="line"></span><br><span class="line">root@MySQL-01 11:44:  [mysql]&gt; seledct * from slow_log <span class="built_in">limit</span> 1\G;</span><br><span class="line">ERROR 1064 (42000): You have an error <span class="keyword">in</span> your SQL syntax; check the manual that corresponds to your MySQL server version <span class="keyword">for</span> the right syntax to use near <span class="string">&#x27;seledct * from slow_log limit 1&#x27;</span> at line 1</span><br><span class="line">ERROR:</span><br><span class="line">No query specified</span><br><span class="line"></span><br><span class="line">root@MySQL-01 11:44:  [mysql]&gt; <span class="keyword">select</span> * from slow_log <span class="built_in">limit</span> 1\G;</span><br><span class="line">Empty <span class="built_in">set</span> (0.00 sec)</span><br><span class="line"></span><br><span class="line">ERROR:</span><br><span class="line">No query specified</span><br><span class="line"></span><br><span class="line">root@MySQL-01 11:44:  [mysql]&gt; desc slow_log</span><br><span class="line">    -&gt; ;</span><br><span class="line">+----------------+---------------------+------+-----+----------------------+--------------------------------+</span><br><span class="line">| Field          | Type                | Null | Key | Default              | Extra                          |</span><br><span class="line">+----------------+---------------------+------+-----+----------------------+--------------------------------+</span><br><span class="line">| start_time     | timestamp(6)        | NO   |     | CURRENT_TIMESTAMP(6) | on update CURRENT_TIMESTAMP(6) |</span><br><span class="line">| user_host      | mediumtext          | NO   |     | NULL                 |                                |</span><br><span class="line">| query_time     | <span class="keyword">time</span>(6)             | NO   |     | NULL                 |                                |</span><br><span class="line">| lock_time      | <span class="keyword">time</span>(6)             | NO   |     | NULL                 |                                |</span><br><span class="line">| rows_sent      | int(11)             | NO   |     | NULL                 |                                |</span><br><span class="line">| rows_examined  | int(11)             | NO   |     | NULL                 |                                |</span><br><span class="line">| db             | varchar(512)        | NO   |     | NULL                 |                                |</span><br><span class="line">| last_insert_id | int(11)             | NO   |     | NULL                 |                                |</span><br><span class="line">| insert_id      | int(11)             | NO   |     | NULL                 |                                |</span><br><span class="line">| server_id      | int(10) unsigned    | NO   |     | NULL                 |                                |</span><br><span class="line">| sql_text       | mediumblob          | NO   |     | NULL                 |                                |</span><br><span class="line">| thread_id      | bigint(21) unsigned | NO   |     | NULL                 |                                |</span><br><span class="line">+----------------+---------------------+------+-----+----------------------+--------------------------------+</span><br><span class="line">12 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure><h2 id="è®¾ç½®è½®è¯¢"><a href="#è®¾ç½®è½®è¯¢" class="headerlink" title="è®¾ç½®è½®è¯¢"></a>è®¾ç½®è½®è¯¢</h2><p>å› <code>mysql.slow_log</code>ä½¿ç”¨çš„æ˜¯CSV å­˜å‚¨å¼•æ“ï¼Œä¸åˆ©äºæŸ¥è¯¢åˆ†æï¼Œå› æ­¤æˆ‘ä»¬æ¯æ—¥åˆ›å»ºinnodbå¼•æ“çš„è¡¨å¹¶å°†æ•°æ®å¯¼å…¥æ–°è¡¨ï¼Œå¹¶æ¸…ç©ºæ—¥å¿—è¡¨ã€‚</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> database booboo;</span><br><span class="line"><span class="keyword">CREATE TABLE</span> booboo.`slow_log` (</span><br><span class="line">  `start_time` <span class="type">timestamp</span>(<span class="number">6</span>) <span class="keyword">NOT NULL</span> <span class="keyword">DEFAULT</span> <span class="built_in">CURRENT_TIMESTAMP</span>(<span class="number">6</span>) <span class="keyword">ON</span> <span class="keyword">UPDATE</span> <span class="built_in">CURRENT_TIMESTAMP</span>(<span class="number">6</span>),</span><br><span class="line">  `user_host` mediumtext <span class="keyword">NOT NULL</span>,</span><br><span class="line">  `query_time` <span class="type">time</span>(<span class="number">6</span>) <span class="keyword">NOT NULL</span>,</span><br><span class="line">  `lock_time` <span class="type">time</span>(<span class="number">6</span>) <span class="keyword">NOT NULL</span>,</span><br><span class="line">  `rows_sent` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT NULL</span>,</span><br><span class="line">  `rows_examined` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT NULL</span>,</span><br><span class="line">  `db` <span class="type">varchar</span>(<span class="number">512</span>) <span class="keyword">NOT NULL</span>,</span><br><span class="line">  `last_insert_id` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT NULL</span>,</span><br><span class="line">  `insert_id` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT NULL</span>,</span><br><span class="line">  `server_id` <span class="type">int</span>(<span class="number">10</span>) unsigned <span class="keyword">NOT NULL</span>,</span><br><span class="line">  `sql_text` mediumblob <span class="keyword">NOT NULL</span>,</span><br><span class="line">  `thread_id` <span class="type">bigint</span>(<span class="number">21</span>) unsigned <span class="keyword">NOT NULL</span></span><br><span class="line">) ENGINE<span class="operator">=</span>innodb <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8 COMMENT<span class="operator">=</span><span class="string">&#x27;Slow log&#x27;</span>;</span><br><span class="line"><span class="keyword">insert into</span> booboo.slow_log  <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> mysql.slow_log;</span><br><span class="line"><span class="keyword">alter table</span> booboo.slow_log <span class="keyword">add</span> index idx_dba(start_time,db,query_time);</span><br><span class="line"><span class="keyword">truncate</span> <span class="keyword">table</span> mysql.slow_log;</span><br></pre></td></tr></table></figure><p>å¸¸ç”¨çš„æŸ¥è¯¢</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> slow_log <span class="keyword">where</span> start_time <span class="operator">&gt;</span> &quot;2020-06-01&quot; <span class="keyword">and</span> db<span class="operator">=</span><span class="string">&#x27;test&#x27;</span> <span class="keyword">order</span> <span class="keyword">by</span> query_time <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure><h2 id="ç”Ÿäº§æ¡ˆä¾‹"><a href="#ç”Ÿäº§æ¡ˆä¾‹" class="headerlink" title="ç”Ÿäº§æ¡ˆä¾‹"></a>ç”Ÿäº§æ¡ˆä¾‹</h2><blockquote class="note warn"><strong class="note-title">RDS For MySQL æ…¢æŸ¥è¯¢æ—¥å¿—æ¸…ç†</strong><ol><li>ç›®å‰mysql.slow_logä¿å­˜äº†ä»2017-4æœˆå¼€å§‹åˆ°ç°åœ¨çš„æ‰€æœ‰æ…¢æ—¥å¿—ï¼Œæ•°æ®é‡å¤§</li><li>è¯¥è¡¨ç›®å‰æ— ç´¢å¼•</li><li>æŒ‰ç…§ <code>query_time</code> æŸ¥è¯¢æ…¢æŸ¥è¯¢éå¸¸æ…¢ï¼Œç›´æ¥æŠ¥é”™</li></ol><p>è§£å†³å»ºè®®ï¼š</p><ol><li>é˜¿é‡Œå·¥å•è¯¢é—®RDS5.7æ˜¯å¦æœ‰å‚æ•°æ§åˆ¶è¯¥è¡¨çš„å®šæœŸåˆ é™¤ï¼Œä¾‹å¦‚åªä¿ç•™7å¤©çš„æ…¢æŸ¥è¯¢(<code>truncate mysql.slow_log;</code>)</li><li>é˜¿é‡Œäº§å“æ²¡æœ‰ç°æˆçš„é…ç½®ï¼Œåˆ™è‡ªå·±å†™ä¸€ä¸ªå®šæ—¶ä»»åŠ¡å®šæœŸæ¸…ç†å³å¯</li></ol></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;é»˜è®¤MySQLæ…¢æŸ¥è¯¢ä½¿ç”¨FILEè®°å½•ï¼Œä¸ºæ–¹ä¾¿æ•°æ®åˆ†æï¼Œæ”¹ä¸ºä½¿ç”¨Tableçš„æ–¹å¼ä¿å­˜ï¼Œæ–¹ä¾¿æ‹‰å–åè¿‡æ»¤åˆ†æã€‚&lt;/p&gt;
&lt;blockquote class=&quot;note info&quot;&gt;&lt;strong class=&quot;note-title&quot;&gt;MySQLæ…¢æŸ¥è¯¢ä½¿ç”¨Tableæ–¹å¼è®°å½•&lt;/st</summary>
      
    
    
    
    <category term="æŠ€æœ¯å¹¿è§’" scheme="http://www.toberoot.com/categories/%E6%8A%80%E6%9C%AF%E5%B9%BF%E8%A7%92/"/>
    
    <category term="MySQL" scheme="http://www.toberoot.com/categories/%E6%8A%80%E6%9C%AF%E5%B9%BF%E8%A7%92/MySQL/"/>
    
    
    <category term="MySQL" scheme="http://www.toberoot.com/tags/MySQL/"/>
    
    <category term="æ…¢æŸ¥è¯¢" scheme="http://www.toberoot.com/tags/%E6%85%A2%E6%9F%A5%E8%AF%A2/"/>
    
  </entry>
  
  <entry>
    <title>MySQLæ…¢æŸ¥è¯¢ä½¿ç”¨FILEæ–¹å¼è®°å½•</title>
    <link href="http://www.toberoot.com/news/2020/06/03/tec-mysql/"/>
    <id>http://www.toberoot.com/news/2020/06/03/tec-mysql/</id>
    <published>2020-06-02T17:47:33.000Z</published>
    <updated>2025-10-22T14:33:10.762Z</updated>
    
    <content type="html"><![CDATA[<p>mysql æ•°æ®åº“æ…¢æŸ¥è¯¢æ—¥å¿—åˆ†ææ˜¯ä¼˜åŒ–æ•°æ®åº“æ€§èƒ½çš„é‡è¦æ–¹å¼ä¹‹ä¸€ï¼Œéšç€æ—¶é—´ç§¯ç´¯ï¼Œæ…¢æŸ¥è¯¢æ—¥å¿—ä¼šå˜å¾—è¶Šæ¥è¶Šå¤§ï¼Œä½œä¸€ä¸ªæ¯å¤©è‡ªåŠ¨åˆ‡å‰²çš„ä»»åŠ¡ï¼Œå°†è„šæœ¬æ”¾åœ¨&#x2F;etc&#x2F;logrotate.d&#x2F;ä¸‹ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š</p><blockquote class="note info"><strong class="note-title">åˆ·æ–°æ…¢æŸ¥è¯¢æ—¥å¿—çš„ä¸€èˆ¬æ­¥éª¤</strong><ol><li>æŸ¥çœ‹æ…¢æŸ¥è¯¢æ—¥å¿—è·¯å¾„<code>select @@datadir;</code>ï¼›</li><li>é‡å‘½åæ…¢æŸ¥è¯¢æ—¥å¿—<code>mv a b</code>ï¼›</li><li>ç™»é™†æ•°æ®åº“<code>flush slow logs;</code></li></ol></blockquote><h2 id="logrotateå®ç°"><a href="#logrotateå®ç°" class="headerlink" title="logrotateå®ç°"></a>logrotateå®ç°</h2><p>ä¿®æ”¹<code>my.cnf</code>,æ–¹ä¾¿è‡ªåŠ¨è½®è¯¢æ—¥å¿—æ—¶å€™è‡ªåŠ¨åŠ è½½ç”¨æˆ·åå¯†ç </p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">[client]</span><br><span class="line"><span class="keyword">user</span><span class="operator">=</span>root</span><br><span class="line">password<span class="operator">=</span><span class="number">123456</span></span><br><span class="line">socket<span class="operator">=</span><span class="operator">/</span>var<span class="operator">/</span>lib<span class="operator">/</span>mysql<span class="operator">/</span>mysql.sock</span><br></pre></td></tr></table></figure><p>åœ¨&#x2F;etc&#x2F;logrotate.d&#x2F;ä¸‹æ–°å»ºä»»åŠ¡</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># vim /etc/logrotate.d/mysql</span></span><br></pre></td></tr></table></figure><p>è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/var/log/mysql/*<span class="built_in">log</span> &#123;</span><br><span class="line">    daily</span><br><span class="line">    rotate 7</span><br><span class="line">    missingok</span><br><span class="line">    notifempty</span><br><span class="line">    delaycompress</span><br><span class="line">    create 644 mysql mysql</span><br><span class="line">    postrotate</span><br><span class="line">        MYCNF_FILE=/root/.my.cnf</span><br><span class="line">        MYSQLADMIN=/usr/bin/mysqladmin</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">test</span> -x <span class="variable">$MYSQLADMIN</span> &amp;&amp; <span class="variable">$MYSQLADMIN</span> --defaults-file=<span class="string">&quot;<span class="variable">$MYCNF_FILE</span>&quot;</span> ping &gt;/dev/null</span><br><span class="line">        <span class="keyword">then</span></span><br><span class="line">            <span class="variable">$MYSQLADMIN</span> --defaults-file=<span class="string">&quot;<span class="variable">$MYCNF_FILE</span>&quot;</span> flush-logs</span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">    endscript</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é‡æ–°åŠ è½½croné…ç½®</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># service crond reload</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·å­å°±æ–°å»ºå¥½äº†æ…¢æŸ¥è¯¢æ—¥å¿—æ¯å¤©åˆ†å‰²ï¼Œä¿ç•™7å¤©</p><h2 id="crontabå®ç°"><a href="#crontabå®ç°" class="headerlink" title="crontabå®ç°"></a>crontabå®ç°</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">mysql=<span class="string">&#x27;&#x27;</span></span><br><span class="line">user=<span class="string">&#x27;&#x27;</span></span><br><span class="line">password=<span class="string">&#x27;&#x27;</span></span><br><span class="line">ip=<span class="string">&#x27;&#x27;</span></span><br><span class="line">archived_log=slow.`<span class="built_in">date</span> +%Y%m%d%H`.<span class="built_in">log</span></span><br><span class="line">slowlog=`<span class="variable">$mysql</span> -u<span class="variable">$user</span> -p<span class="variable">$password</span> -h<span class="variable">$ip</span> -e<span class="string">&quot;show global variables like &#x27;slow%&#x27;;&quot;</span> 2&gt; /dev/null | grep <span class="string">&#x27;slow_query_log_file&#x27;</span> | awk -F <span class="string">&#x27; &#x27;</span> &#123;<span class="string">&#x27;print $2&#x27;</span>&#125;`</span><br><span class="line">datadir=`mysql -u<span class="variable">$user</span> -p<span class="variable">$password</span>  -e<span class="string">&quot;show global variables like &#x27;data%&#x27;;&quot;</span> 2&gt; /dev/null | grep datadir |  awk -F <span class="string">&#x27; &#x27;</span> &#123;<span class="string">&#x27;print $2&#x27;</span>&#125;`</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$slowlog</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$datadir</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;datadir&#125;</span>/<span class="variable">$&#123;slowlog&#125;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;datadir&#125;</span>/<span class="variable">$&#123;archived_log&#125;</span></span><br><span class="line"><span class="built_in">mv</span> <span class="variable">$&#123;datadir&#125;</span>/<span class="variable">$&#123;slowlog&#125;</span> <span class="variable">$&#123;datadir&#125;</span>/<span class="variable">$&#123;archived_log&#125;</span></span><br><span class="line"><span class="variable">$mysql</span> -u<span class="variable">$user</span> -p<span class="variable">$password</span> -h<span class="variable">$ip</span> -e<span class="string">&quot;flush slow logs&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;å½’æ¡£æˆåŠŸï¼Œè·¯å¾„ä¸º&quot;</span>&#123;archived_log&#125;</span><br></pre></td></tr></table></figure><p><strong>æµ‹è¯•</strong></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@NB-flexgw1:/root]# bash -x auto_cut_mysqlslowlog.sh</span><br><span class="line">+ mysql=mysql</span><br><span class="line">+ user=root</span><br><span class="line">+ password=root</span><br><span class="line">+ ip=localhost</span><br><span class="line">++ <span class="built_in">date</span> +%Y%m%d%H</span><br><span class="line">+ archived_log=slow.2020060211.log</span><br><span class="line">++ mysql -uroot -proot -hlocalhost <span class="string">&#x27;-eshow global variables like &#x27;</span>\&#x27;<span class="string">&#x27;slow%&#x27;</span>\&#x27;<span class="string">&#x27;;&#x27;</span></span><br><span class="line">++ grep slow_query_log_file</span><br><span class="line">++ awk -F <span class="string">&#x27; &#x27;</span> <span class="string">&#x27;&#123;print $2&#125;&#x27;</span></span><br><span class="line">+ slowlog=dataslow.log</span><br><span class="line">++ mysql -uroot -proot <span class="string">&#x27;-eshow global variables like &#x27;</span>\&#x27;<span class="string">&#x27;data%&#x27;</span>\&#x27;<span class="string">&#x27;;&#x27;</span></span><br><span class="line">++ grep datadir</span><br><span class="line">++ awk -F <span class="string">&#x27; &#x27;</span> <span class="string">&#x27;&#123;print $2&#125;&#x27;</span></span><br><span class="line">+ datadir=/alidata/mysql/data/</span><br><span class="line">+ <span class="built_in">echo</span> dataslow.log</span><br><span class="line">dataslow.log</span><br><span class="line">+ <span class="built_in">echo</span> /alidata/mysql/data/</span><br><span class="line">/alidata/mysql/data/</span><br><span class="line">+ <span class="built_in">echo</span> /alidata/mysql/data//dataslow.log</span><br><span class="line">/alidata/mysql/data//dataslow.log</span><br><span class="line">+ <span class="built_in">echo</span> /alidata/mysql/data//slow.2020060211.<span class="built_in">log</span></span><br><span class="line">/alidata/mysql/data//slow.2020060211.<span class="built_in">log</span></span><br><span class="line">+ <span class="built_in">mv</span> /alidata/mysql/data//dataslow.log /alidata/mysql/data//slow.2020060211.<span class="built_in">log</span></span><br><span class="line">+ mysql -uroot -proot -hlocalhost <span class="string">&#x27;-eflush slow logs&#x27;</span></span><br><span class="line">mysql: [Warning] Using a password on the <span class="built_in">command</span> line interface can be insecure.</span><br><span class="line">+ <span class="built_in">echo</span> <span class="string">&#x27;å½’æ¡£æˆåŠŸï¼Œè·¯å¾„ä¸º&#123;archived_log&#125;&#x27;</span></span><br><span class="line">å½’æ¡£æˆåŠŸï¼Œè·¯å¾„ä¸º&#123;archived_log&#125;</span><br></pre></td></tr></table></figure><p>æ–°çš„æ…¢æ—¥å¿—äº§ç”Ÿï¼Œå¯¹ç³»ç»Ÿä¸ä¼šé€ æˆå½±å“,æŸ¥çœ‹å½’æ¡£åçš„æ—¥å¿—</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@NB-flexgw1:/root]# ll /alidata/mysql/data/slow*</span><br><span class="line">-rw-r----- 1 mysql mysql 162702214 6æœˆ   2 11:40 /alidata/mysql/data/slow.2020060211.<span class="built_in">log</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;mysql æ•°æ®åº“æ…¢æŸ¥è¯¢æ—¥å¿—åˆ†ææ˜¯ä¼˜åŒ–æ•°æ®åº“æ€§èƒ½çš„é‡è¦æ–¹å¼ä¹‹ä¸€ï¼Œéšç€æ—¶é—´ç§¯ç´¯ï¼Œæ…¢æŸ¥è¯¢æ—¥å¿—ä¼šå˜å¾—è¶Šæ¥è¶Šå¤§ï¼Œä½œä¸€ä¸ªæ¯å¤©è‡ªåŠ¨åˆ‡å‰²çš„ä»»åŠ¡ï¼Œå°†è„šæœ¬æ”¾åœ¨&amp;#x2F;etc&amp;#x2F;logrotate.d&amp;#x2F;ä¸‹ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;blockquote class=&quot;note</summary>
      
    
    
    
    <category term="æŠ€æœ¯å¹¿è§’" scheme="http://www.toberoot.com/categories/%E6%8A%80%E6%9C%AF%E5%B9%BF%E8%A7%92/"/>
    
    <category term="MySQL" scheme="http://www.toberoot.com/categories/%E6%8A%80%E6%9C%AF%E5%B9%BF%E8%A7%92/MySQL/"/>
    
    
    <category term="MySQL" scheme="http://www.toberoot.com/tags/MySQL/"/>
    
    <category term="æ…¢æŸ¥è¯¢" scheme="http://www.toberoot.com/tags/%E6%85%A2%E6%9F%A5%E8%AF%A2/"/>
    
  </entry>
  
  <entry>
    <title>Oracle11gå¸¸ç”¨è§†å›¾</title>
    <link href="http://www.toberoot.com/news/2020/05/29/tec-oracle/"/>
    <id>http://www.toberoot.com/news/2020/05/29/tec-oracle/</id>
    <published>2020-05-28T16:11:33.000Z</published>
    <updated>2025-10-22T14:51:38.392Z</updated>
    
    <content type="html"><![CDATA[<table><thead><tr><th>Oracleå¸¸ç”¨è§†å›¾</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><a href="https://docs.oracle.com/cd/E11882_01/server.112/e40402/statviews_4045.htm#REFRN23442">dba_hist_snapshot</a></td><td>åœ¨å·¥ä½œè´Ÿè½½å­˜å‚¨åº“ä¸­æ˜¾ç¤ºæœ‰å…³å¿«ç…§çš„ä¿¡æ¯ã€‚</td></tr><tr><td><a href="https://docs.oracle.com/cd/E11882_01/server.112/e40402/dynviews_2085.htm">v$osstat</a></td><td>æ˜¾ç¤ºæ¥è‡ªæ“ä½œç³»ç»Ÿçš„ç³»ç»Ÿåˆ©ç”¨ç‡ç»Ÿè®¡ä¿¡æ¯ã€‚æ¯ä¸ªç³»ç»Ÿç»Ÿè®¡ä¿¡æ¯è¿”å›ä¸€è¡Œ _ PHYSICAL_MEMORY_BYTES:Total number of bytes of physical memory _ NUM_CPUS:Number of CPUs or processors available</td></tr><tr><td><a href="https://docs.oracle.com/cd/E11882_01/server.112/e40402/dynviews_1097.htm#REFRN30047">v$database</a></td><td>æ˜¾ç¤ºæ§åˆ¶æ–‡ä»¶ä¸­æœ‰å…³æ•°æ®åº“çš„ä¿¡æ¯ã€‚</td></tr><tr><td><a href="https://docs.oracle.com/cd/E11882_01/server.112/e40402/dynviews_2002.htm">v$instance</a></td><td>æ˜¾ç¤ºå½“å‰å®ä¾‹çš„çŠ¶æ€ã€‚</td></tr><tr><td><a href="https://docs.oracle.com/cd/E11882_01/server.112/e40402/statviews_4212.htm">DBA_REGISTRY_HISTORY</a></td><td>æä¾›æœ‰å…³åœ¨æ•°æ®åº“ä¸Šæ‰§è¡Œçš„å‡çº§ï¼Œé™çº§å’Œé‡è¦è¡¥ä¸æ›´æ–°çš„ä¿¡æ¯ã€‚</td></tr><tr><td><a href="https://docs.oracle.com/cd/E11882_01/server.112/e40402/dynviews_2087.htm#REFRN30176">v$parameter</a> <a href="https://docs.oracle.com/cd/E11882_01/server.112/e40402/initparams017.htm#REFRN10006">AUDIT_TRAIL</a> <a href="https://docs.oracle.com/cd/E11882_01/server.112/e40402/initparams234.htm">SESSIONS</a> <a href="https://docs.oracle.com/cd/E11882_01/server.112/e40402/initparams202.htm#REFRN10175">PROCESSES</a></td><td>æ˜¾ç¤ºæœ‰å…³è¯¥ä¼šè¯å½“å‰æœ‰æ•ˆçš„åˆå§‹åŒ–å‚æ•°çš„ä¿¡æ¯ã€‚ <br/> _ audit_trail:å¯ç”¨æˆ–ç¦ç”¨æ•°æ®åº“å®¡æ ¸ <br/>_ sessions:æŒ‡å®šç³»ç»Ÿä¸­å¯ä»¥åˆ›å»ºçš„æœ€å¤§ä¼šè¯æ•°ã€‚ <br/>* processes:æŒ‡å®šå¯ä»¥åŒæ—¶è¿æ¥åˆ°Oracleçš„æœ€å¤§æ“ä½œç³»ç»Ÿç”¨æˆ·è¿›ç¨‹æ•°ã€‚å®ƒçš„å€¼åº”å…è®¸æ‰€æœ‰åå°è¿›ç¨‹ï¼Œä¾‹å¦‚é”ï¼Œä½œä¸šé˜Ÿåˆ—è¿›ç¨‹å’Œå¹¶è¡Œæ‰§è¡Œè¿›ç¨‹ã€‚</td></tr><tr><td><a href="https://docs.oracle.com/cd/E11882_01/server.112/e40402/dynviews_1016.htm#REFRN30011">V$ARCHIVED_LOG</a></td><td><code>V$ARCHIVED_LOG</code>æ˜¾ç¤ºæ§åˆ¶æ–‡ä»¶ä¸­çš„å­˜æ¡£æ—¥å¿—ä¿¡æ¯ï¼ŒåŒ…æ‹¬å­˜æ¡£æ—¥å¿—åç§°ã€‚æˆåŠŸå½’æ¡£æˆ–æ¸…é™¤è”æœºé‡åšæ—¥å¿—åï¼Œå°†æ’å…¥å½’æ¡£æ—¥å¿—è®°å½•ï¼ˆ<code>NULL</code>å¦‚æœæ¸…é™¤äº†æ—¥å¿—ï¼Œåˆ™åç§°åˆ—ï¼‰ã€‚å¦‚æœæ—¥å¿—è¢«å½’æ¡£ä¸¤æ¬¡ï¼Œå°±ä¼šå‡ºç°å¸¦æœ‰ä¸¤ä¸ªç›¸åŒçš„å½’æ¡£æ—¥å¿—è®°å½•<code>THREAD#</code>ï¼Œ<code>SEQUENCE#</code>å’Œ<code>FIRST_CHANGE#</code>ï¼Œä½†ä½¿ç”¨ä¸åŒçš„åç§°ã€‚ä»å¤‡ä»½é›†æˆ–å‰¯æœ¬è¿˜åŸå­˜æ¡£æ—¥å¿—æ—¶ï¼Œä»¥åŠä½¿ç”¨RMAN <code>COPY</code>å‘½ä»¤åˆ›å»ºæ—¥å¿—å‰¯æœ¬æ—¶ï¼Œä¹Ÿä¼šæ’å…¥å­˜æ¡£æ—¥å¿—è®°å½•ã€‚</td></tr><tr><td><a href="https://docs.oracle.com/cd/E11882_01/server.112/e40402/dynviews_2096.htm#REFRN30180">V$PGASTAT</a></td><td></td></tr><tr><td><a href="https://docs.oracle.com/cd/E11882_01/server.112/e40402/statviews_5081.htm#REFRN23302">dba_users</a></td><td><code>DBA_USERS</code> æè¿°æ•°æ®åº“çš„æ‰€æœ‰ç”¨æˆ·ã€‚</td></tr><tr><td><a href="https://docs.oracle.com/cd/E11882_01/server.112/e40402/statviews_1158.htm#i1583352">DBA_OBJECTS</a></td><td><code>DBA_OBJECTS</code>æè¿°æ•°æ®åº“ä¸­çš„æ‰€æœ‰å¯¹è±¡ã€‚ <code>V$LOCKED_OBJECT</code>åˆ—å‡ºç³»ç»Ÿä¸Šæ¯ä¸ªäº‹åŠ¡è·å–çš„æ‰€æœ‰é”ã€‚å®ƒæ˜¾ç¤ºå“ªäº›ä¼šè¯åœ¨ä»€ä¹ˆå¯¹è±¡å’Œä»€ä¹ˆæ¨¡å¼ä¸‹æŒæœ‰DMLé”ï¼ˆå³TMç±»å‹çš„é˜Ÿåˆ—ï¼‰ã€‚</td></tr><tr><td><a href="https://docs.oracle.com/cd/E11882_01/server.112/e40402/dynviews_3016.htm">v$session</a></td><td>æ˜¾ç¤ºæ¯ä¸ªå½“å‰ä¼šè¯çš„ä¼šè¯ä¿¡æ¯ã€‚</td></tr><tr><td><a href="https://docs.oracle.com/cd/E11882_01/server.112/e40402/dynviews_2030.htm#REFRN30125">v$locked_object</a></td><td></td></tr><tr><td><a href="https://docs.oracle.com/cd/E11882_01/server.112/e40402/dynviews_3118.htm#REFRN30295">v$undostat</a></td><td>æ˜¾ç¤ºç»Ÿè®¡æ•°æ®çš„ç›´æ–¹å›¾ä»¥æ˜¾ç¤ºç³»ç»Ÿçš„è¿è¡ŒçŠ¶å†µã€‚å¯ç”¨çš„ç»Ÿè®¡ä¿¡æ¯åŒ…æ‹¬æ’¤æ¶ˆç©ºé—´æ¶ˆè€—ï¼Œäº‹åŠ¡å¹¶å‘ä»¥åŠåœ¨å®ä¾‹ä¸­æ‰§è¡Œçš„æŸ¥è¯¢çš„é•¿åº¦ã€‚æ‚¨å¯ä»¥ä½¿ç”¨æ­¤è§†å›¾æ¥ä¼°è®¡å½“å‰å·¥ä½œè´Ÿè½½æ‰€éœ€çš„æ’¤æ¶ˆç©ºé—´é‡ã€‚Oracleä½¿ç”¨æ­¤è§†å›¾æ¥è°ƒæ•´ç³»ç»Ÿä¸­çš„æ’¤æ¶ˆä½¿ç”¨æƒ…å†µã€‚å¦‚æœç³»ç»Ÿå¤„äºæ‰‹åŠ¨æ’¤æ¶ˆç®¡ç†æ¨¡å¼ï¼Œåˆ™è¯¥è§†å›¾è¿”å›NULLå€¼ã€‚</td></tr><tr><td><a href="https://docs.oracle.com/cd/E11882_01/server.112/e40402/dynviews_2031.htm">v$log</a></td><td>æ˜¾ç¤ºæ§åˆ¶æ–‡ä»¶ä¸­çš„æ—¥å¿—æ–‡ä»¶ä¿¡æ¯ã€‚ <strong>STATUS</strong>æ—¥å¿—çŠ¶æ€ï¼š - <code>UNUSED</code>-åœ¨çº¿é‡åšæ—¥å¿—ä»æœªå†™å…¥è¿‡ã€‚è¿™æ˜¯åˆšåˆšæ·»åŠ çš„é‡åšæ—¥å¿—çš„çŠ¶æ€ï¼Œæˆ–è€…<code>RESETLOGS</code>ä¸æ˜¯å½“å‰é‡åšæ—¥å¿—æ—¶åœ¨ä¹‹åçš„çŠ¶æ€ã€‚ - <code>CURRENT</code>-å½“å‰é‡åšæ—¥å¿—ã€‚è¿™æ„å‘³ç€é‡åšæ—¥å¿—å¤„äºæ´»åŠ¨çŠ¶æ€ã€‚é‡åšæ—¥å¿—å¯ä»¥æ‰“å¼€æˆ–å…³é—­ã€‚ - <code>ACTIVE</code>-æ—¥å¿—å¤„äºæ´»åŠ¨çŠ¶æ€ï¼Œä½†ä¸æ˜¯å½“å‰æ—¥å¿—ã€‚å´©æºƒæ¢å¤éœ€è¦å®ƒã€‚å®ƒå¯èƒ½æ­£åœ¨ç”¨äºå—æ¢å¤ã€‚å®ƒå¯èƒ½å·²å­˜æ¡£ï¼Œä¹Ÿå¯èƒ½æœªå­˜æ¡£ã€‚ - <code>CLEARING</code>- <code>ALTER DATABASE CLEAR LOGFILE</code>è¯­å¥åï¼Œæ—¥å¿—å°†é‡æ–°åˆ›å»ºä¸ºç©ºæ—¥å¿—ã€‚æ¸…é™¤æ—¥å¿—åï¼ŒçŠ¶æ€å˜ä¸º<code>UNUSED</code>ã€‚ - <code>CLEARING_CURRENT</code>-å½“å‰æ—¥å¿—æ­£åœ¨æ¸…é™¤å…³é—­çš„çº¿ç¨‹ã€‚å¦‚æœäº¤æ¢æœºå‡ºç°æ•…éšœï¼Œä¾‹å¦‚I &#x2F; Oé”™è¯¯å†™å…¥æ–°çš„æ—¥å¿—å¤´ï¼Œåˆ™æ—¥å¿—å¯ä»¥ä¿æŒæ­¤çŠ¶æ€ã€‚ - <code>INACTIVE</code>-å®ä¾‹æ¢å¤ä¸å†éœ€è¦æ—¥å¿—ã€‚å®ƒå¯èƒ½æ­£åœ¨ç”¨äºä»‹è´¨æ¢å¤ã€‚å®ƒå¯èƒ½å·²å­˜æ¡£ï¼Œä¹Ÿå¯èƒ½æœªå­˜æ¡£ã€‚</td></tr><tr><td><a href="https://docs.oracle.com/cd/E11882_01/server.112/e40402/dynviews_1105.htm">v$dataguard_status</a></td><td>æ˜¾ç¤ºæœ€è¿‘å†™å…¥è­¦æŠ¥æ—¥å¿—æˆ–æœåŠ¡å™¨è¿›ç¨‹è·Ÿè¸ªæ–‡ä»¶çš„æ¶ˆæ¯ï¼Œè¿™äº›æ¶ˆæ¯ä¸ç‰©ç†å¤‡ç”¨æ•°æ®åº“æˆ–æ‰€æœ‰å¤‡ç”¨æ•°æ®åº“ç±»å‹çš„é‡åšä¼ è¾“æœåŠ¡æœ‰å…³ã€‚</td></tr><tr><td><a href="https://docs.oracle.com/cd/E11882_01/server.112/e40402/dynviews_2050.htm">V$MANAGED_STANDBY</a></td><td>æ˜¾ç¤ºä¸Data Guardç¯å¢ƒä¸­çš„ç‰©ç†å¤‡ç”¨æ•°æ®åº“æœ‰å…³çš„æŸäº›Oracle Databaseè¿›ç¨‹çš„å½“å‰çŠ¶æ€ä¿¡æ¯ã€‚å®ä¾‹å…³é—­åï¼Œè¯¥è§†å›¾ä¸ä¼šç»§ç»­å­˜åœ¨ã€‚</td></tr><tr><td><a href="https://docs.oracle.com/cd/E11882_01/server.112/e40402/dynviews_1027.htm#REFRN30171">V$ASM_DISKGROUP</a></td><td>V$ASM_DISKGROUP ä¸ºèŠ‚ç‚¹ä¸Šçš„ASMå®ä¾‹å‘ç°çš„æ¯ä¸ªASMç£ç›˜ç»„æ˜¾ç¤ºä¸€è¡Œã€‚</td></tr><tr><td><a href="https://docs.oracle.com/cd/E11882_01/server.112/e40402/dynviews_2125.htm">v$recovery_file_dest</a></td><td>åœ¨å¿«é€Ÿæ¢å¤åŒºåŸŸä¸­æ˜¾ç¤ºæœ‰å…³ç£ç›˜é…é¢å’Œå½“å‰ç£ç›˜ä½¿ç”¨æƒ…å†µçš„ä¿¡æ¯ã€‚</td></tr><tr><td><a href="https://docs.oracle.com/cd/E11882_01/server.112/e40402/statviews_3194.htm#REFRN23076">DBA_FREE_SPACE</a></td><td>æè¿°æ•°æ®åº“ä¸­æ‰€æœ‰è¡¨ç©ºé—´çš„ä½¿ç”¨æƒ…å†µã€‚</td></tr><tr><td><a href="https://docs.oracle.com/cd/E11882_01/server.112/e40402/statviews_5061.htm">dba_temp_files</a></td><td>DBA_TEMP_FILES æè¿°æ•°æ®åº“ä¸­çš„æ‰€æœ‰ä¸´æ—¶æ–‡ä»¶ï¼ˆä¸´æ—¶æ–‡ä»¶ï¼‰ã€‚</td></tr><tr><td><a href="https://docs.oracle.com/cd/E11882_01/server.112/e40402/statviews_5060.htm#REFRN23287">dba_tablespaces</a></td><td>DBA_TABLESPACES æè¿°æ•°æ®åº“ä¸­çš„æ‰€æœ‰è¡¨ç©ºé—´ã€‚</td></tr><tr><td><a href="https://docs.oracle.com/cd/E11882_01/server.112/e40402/dynviews_3041.htm">gv$sort_segment</a></td><td>V$SORT_SEGMENTæ˜¾ç¤ºæœ‰å…³ç»™å®šå®ä¾‹ä¸­æ¯ä¸ªæ’åºæ®µçš„ä¿¡æ¯ã€‚ä»…åœ¨è¡¨ç©ºé—´æ˜¯TEMPORARYç±»å‹æ—¶æ›´æ–°è§†å›¾ã€‚</td></tr><tr><td><a href="https://docs.oracle.com/cd/E11882_01/server.112/e40402/dynviews_3114.htm">v$transaction</a></td><td>V$TRANSACTION åˆ—å‡ºç³»ç»Ÿä¸­çš„æ´»åŠ¨äº‹åŠ¡ã€‚</td></tr><tr><td><a href="https://docs.oracle.com/cd/E11882_01/server.112/e40402/dynviews_1062.htm#REFRN30371">v$backup_set_details</a></td><td>å¤‡ä»½ä¿¡æ¯10g 11g 12c</td></tr></tbody></table>]]></content>
    
    
      
      
    <summary type="html">&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Oracleå¸¸ç”¨è§†å›¾&lt;/th&gt;
&lt;th&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;https://docs.oracle.com/cd/E11882_01/server.112</summary>
      
    
    
    
    <category term="æŠ€æœ¯å¹¿è§’" scheme="http://www.toberoot.com/categories/%E6%8A%80%E6%9C%AF%E5%B9%BF%E8%A7%92/"/>
    
    <category term="Oracle" scheme="http://www.toberoot.com/categories/%E6%8A%80%E6%9C%AF%E5%B9%BF%E8%A7%92/Oracle/"/>
    
    
    <category term="oracle11g" scheme="http://www.toberoot.com/tags/oracle11g/"/>
    
  </entry>
  
  <entry>
    <title>å¦‚ä½•å°†æ•°æ®åº“æŠ€æœ¯çŸ­è§†é¢‘åŒ–ï¼Ÿ</title>
    <link href="http://www.toberoot.com/news/2020/05/24/tec-mysql/"/>
    <id>http://www.toberoot.com/news/2020/05/24/tec-mysql/</id>
    <published>2020-05-23T17:47:33.000Z</published>
    <updated>2025-10-22T14:33:10.761Z</updated>
    
    
    
    
    <category term="æŠ€æœ¯å¹¿è§’" scheme="http://www.toberoot.com/categories/%E6%8A%80%E6%9C%AF%E5%B9%BF%E8%A7%92/"/>
    
    <category term="æŠ€æœ¯æ€è€ƒ" scheme="http://www.toberoot.com/categories/%E6%8A%80%E6%9C%AF%E5%B9%BF%E8%A7%92/%E6%8A%80%E6%9C%AF%E6%80%9D%E8%80%83/"/>
    
    
    <category term="ç´§æ€¥æ•‘æ´" scheme="http://www.toberoot.com/tags/%E7%B4%A7%E6%80%A5%E6%95%91%E6%8F%B4/"/>
    
    <category term="mysqlbinlog" scheme="http://www.toberoot.com/tags/mysqlbinlog/"/>
    
  </entry>
  
  <entry>
    <title>mysqlbinlogè¿œç¨‹æ‹‰æ—¥å¿—</title>
    <link href="http://www.toberoot.com/news/2020/05/22/tec-mysql/"/>
    <id>http://www.toberoot.com/news/2020/05/22/tec-mysql/</id>
    <published>2020-05-21T17:47:33.000Z</published>
    <updated>2025-10-22T14:33:10.761Z</updated>
    
    <content type="html"><![CDATA[<h2 id="è·å–è¿œç¨‹MySQLæœåŠ¡å™¨çš„binlogæ—¥å¿—"><a href="#è·å–è¿œç¨‹MySQLæœåŠ¡å™¨çš„binlogæ—¥å¿—" class="headerlink" title="è·å–è¿œç¨‹MySQLæœåŠ¡å™¨çš„binlogæ—¥å¿—"></a>è·å–è¿œç¨‹MySQLæœåŠ¡å™¨çš„binlogæ—¥å¿—</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">--rowæ ¼å¼çš„æ—¥å¿—</span><br><span class="line">mysqlbinlog -vv -P 3306 -uxxxx -pxxxx -hxxxx.mysql.rds.aliyuncs.com --read-from-remote-server --start-datetime=&#x27;2020-05-20 09:00:00&#x27; --stop-datetime=&#x27;2020-05-20 11:00:00&#x27; --base64-output=DECODE-ROWS mysql-bin.000xxx &gt; xxxlog.sql</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;è·å–è¿œç¨‹MySQLæœåŠ¡å™¨çš„binlogæ—¥å¿—&quot;&gt;&lt;a href=&quot;#è·å–è¿œç¨‹MySQLæœåŠ¡å™¨çš„binlogæ—¥å¿—&quot; class=&quot;headerlink&quot; title=&quot;è·å–è¿œç¨‹MySQLæœåŠ¡å™¨çš„binlogæ—¥å¿—&quot;&gt;&lt;/a&gt;è·å–è¿œç¨‹MySQLæœåŠ¡å™¨çš„binlogæ—¥å¿—&lt;/</summary>
      
    
    
    
    <category term="æŠ€æœ¯å¹¿è§’" scheme="http://www.toberoot.com/categories/%E6%8A%80%E6%9C%AF%E5%B9%BF%E8%A7%92/"/>
    
    <category term="MySQL" scheme="http://www.toberoot.com/categories/%E6%8A%80%E6%9C%AF%E5%B9%BF%E8%A7%92/MySQL/"/>
    
    
    <category term="ç´§æ€¥æ•‘æ´" scheme="http://www.toberoot.com/tags/%E7%B4%A7%E6%80%A5%E6%95%91%E6%8F%B4/"/>
    
    <category term="mysqlbinlog" scheme="http://www.toberoot.com/tags/mysqlbinlog/"/>
    
  </entry>
  
  <entry>
    <title>rsync + inotify å®ç°å®æ—¶åŒæ­¥</title>
    <link href="http://www.toberoot.com/news/2020/05/20/tec-linux/"/>
    <id>http://www.toberoot.com/news/2020/05/20/tec-linux/</id>
    <published>2020-05-20T11:03:00.000Z</published>
    <updated>2025-10-22T14:33:10.761Z</updated>
    
    <content type="html"><![CDATA[<!-- MDTOC maxdepth:6 firsth1:1 numbering:0 flatten:0 bullets:1 updateOnSave:1 --><ul><li><a href="#rsync%E4%BB%8B%E7%BB%8D">rsyncä»‹ç»</a><ul><li><a href="#rsync%E5%85%AD%E7%A7%8D%E5%91%BD%E4%BB%A4%E6%A0%BC%E5%BC%8F">RSYNCå…­ç§å‘½ä»¤æ ¼å¼</a></li><li><a href="#rsync%E5%AE%89%E8%A3%85">RSYNCå®‰è£…</a></li><li><a href="#rsync%E6%A1%88%E4%BE%8B">RSYNCæ¡ˆä¾‹</a></li><li><a href="#rsync%E5%8F%82%E6%95%B0">RSYNCå‚æ•°</a></li></ul></li><li><a href="#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-linux%E7%B3%BB%E7%BB%9F%E4%B8%8B%E5%AE%9E%E7%8E%B0%E6%96%87%E4%BB%B6%E5%AE%9E%E6%97%B6%E5%90%8C%E6%AD%A5">åº”ç”¨åœºæ™¯-Linuxç³»ç»Ÿä¸‹å®ç°æ–‡ä»¶å®æ—¶åŒæ­¥</a><ul><li><a href="#server%E7%AB%AF%E9%85%8D%E7%BD%AE">Serverç«¯é…ç½®</a><ul><li><a href="#%E7%8E%AF%E5%A2%83%E4%BB%8B%E7%BB%8D">ç¯å¢ƒä»‹ç»</a></li><li><a href="#%E5%AE%89%E8%A3%85%E6%96%B9%E5%BC%8F">å®‰è£…æ–¹å¼</a></li><li><a href="#%E9%85%8D%E7%BD%AE">é…ç½®</a></li><li><a href="#%E7%BC%96%E5%86%99%E4%B8%BB%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-rsyncdconf">ç¼–å†™ä¸»é…ç½®æ–‡ä»¶ rsyncd.conf</a></li><li><a href="#%E7%BC%96%E5%86%99%E7%94%A8%E6%88%B7%E8%AE%A4%E8%AF%81%E6%96%87%E4%BB%B6">ç¼–å†™ç”¨æˆ·è®¤è¯æ–‡ä»¶</a></li><li><a href="#%E5%90%AF%E5%8A%A8%E6%9C%8D%E5%8A%A1">å¯åŠ¨æœåŠ¡</a></li></ul></li><li><a href="#rsync%E5%AE%A2%E6%88%B7%E7%AB%AF">rsyncå®¢æˆ·ç«¯</a><ul><li><a href="#%E5%AE%89%E8%A3%85%E6%96%B9%E5%BC%8F">å®‰è£…æ–¹å¼</a></li><li><a href="#%E9%AA%8C%E8%AF%81">éªŒè¯</a></li></ul></li><li><a href="#%E4%BD%BF%E7%94%A8">ä½¿ç”¨</a><ul><li><a href="#%E6%A3%80%E6%B5%8B%E5%88%9B%E5%BB%BA%E4%BA%8B%E4%BB%B6">æ£€æµ‹åˆ›å»ºäº‹ä»¶</a></li><li><a href="#%E6%A3%80%E6%B5%8B%E5%88%A0%E9%99%A4%E4%BA%8B%E4%BB%B6">æ£€æµ‹åˆ é™¤äº‹ä»¶</a></li><li><a href="#%E7%BC%96%E5%86%99%E5%AE%9E%E6%97%B6%E5%90%8C%E6%AD%A5%E8%84%9A%E6%9C%AC">ç¼–å†™å®æ—¶åŒæ­¥è„šæœ¬</a></li></ul></li><li><a href="#%E9%AA%8C%E8%AF%81">éªŒè¯</a></li></ul></li></ul><!-- /MDTOC --><h2 id="rsyncä»‹ç»"><a href="#rsyncä»‹ç»" class="headerlink" title="rsyncä»‹ç»"></a>rsyncä»‹ç»</h2><p>rsyncï¼Œremote synchronizeé¡¾åæ€æ„å°±çŸ¥é“å®ƒæ˜¯ä¸€æ¬¾å®ç°è¿œç¨‹åŒæ­¥åŠŸèƒ½çš„è½¯ä»¶ï¼Œå®ƒåœ¨åŒæ­¥æ–‡ä»¶çš„åŒæ—¶ï¼Œå¯ä»¥ä¿æŒåŸæ¥æ–‡ä»¶çš„æƒé™ã€æ—¶é—´ã€è½¯ç¡¬é“¾æ¥ç­‰é™„åŠ ä¿¡æ¯ã€‚ rsyncæ˜¯ç”¨ â€œrsync ç®—æ³•â€æä¾›äº†ä¸€ä¸ªå®¢æˆ·æœºå’Œè¿œç¨‹æ–‡ä»¶æœåŠ¡å™¨çš„æ–‡ä»¶åŒæ­¥çš„å¿«é€Ÿæ–¹æ³•ï¼Œè€Œä¸”å¯ä»¥é€šè¿‡sshæ–¹å¼æ¥ä¼ è¾“æ–‡ä»¶ï¼Œè¿™æ ·å…¶ä¿å¯†æ€§ä¹Ÿéå¸¸å¥½ï¼Œå¦å¤–å®ƒè¿˜æ˜¯å…è´¹çš„è½¯ä»¶ã€‚</p><h3 id="RSYNCå…­ç§å‘½ä»¤æ ¼å¼"><a href="#RSYNCå…­ç§å‘½ä»¤æ ¼å¼" class="headerlink" title="RSYNCå…­ç§å‘½ä»¤æ ¼å¼"></a>RSYNCå…­ç§å‘½ä»¤æ ¼å¼</h3><p>Rsyncçš„å‘½ä»¤æ ¼å¼å¯ä»¥ä¸ºä»¥ä¸‹å…­ç§ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rsync [OPTION]... SRC DEST</span><br><span class="line">ã€€ã€€rsync [OPTION]... SRC [USER@]HOST:DEST</span><br><span class="line">ã€€ã€€rsync [OPTION]... [USER@]HOST:SRC DEST</span><br><span class="line">ã€€ã€€rsync [OPTION]... [USER@]HOST::SRC DEST</span><br><span class="line">ã€€ã€€rsync [OPTION]... SRC [USER@]HOST::DEST</span><br><span class="line">ã€€ã€€rsync [OPTION]... rsync://[USER@]HOST[:PORT]/SRC [DEST]</span><br></pre></td></tr></table></figure><p>å¯¹åº”äºä»¥ä¸Šå…­ç§å‘½ä»¤æ ¼å¼ï¼Œrsyncæœ‰å…­ç§ä¸åŒçš„å·¥ä½œæ¨¡å¼ï¼š</p><ul><li>æ‹·è´æœ¬åœ°æ–‡ä»¶ã€‚å½“SRCå’ŒDESè·¯å¾„ä¿¡æ¯éƒ½ä¸åŒ…å«æœ‰å•ä¸ªå†’å·â€:â€åˆ†éš”ç¬¦æ—¶å°±å¯åŠ¨è¿™ç§å·¥ä½œæ¨¡å¼ã€‚å¦‚ï¼šrsync -a &#x2F;data &#x2F;backup</li><li>ä½¿ç”¨ä¸€ä¸ªè¿œç¨‹shellç¨‹åº(å¦‚rshã€ssh)æ¥å®ç°å°†æœ¬åœ°æœºå™¨çš„å†…å®¹æ‹·è´åˆ°è¿œç¨‹æœºå™¨ã€‚å½“DSTè·¯å¾„åœ°å€åŒ…å«å•ä¸ªå†’å·â€:â€åˆ†éš”ç¬¦æ—¶å¯åŠ¨è¯¥æ¨¡å¼ã€‚å¦‚ï¼šrsync -avz *.c foo:src</li><li>ä½¿ç”¨ä¸€ä¸ªè¿œç¨‹shellç¨‹åº(å¦‚rshã€ssh)æ¥å®ç°å°†è¿œç¨‹æœºå™¨çš„å†…å®¹æ‹·è´åˆ°æœ¬åœ°æœºå™¨ã€‚å½“SRCåœ°å€è·¯å¾„åŒ…å«å•ä¸ªå†’å·â€:â€åˆ†éš”ç¬¦æ—¶å¯åŠ¨è¯¥æ¨¡å¼ã€‚å¦‚ï¼šrsync -avz foo:src&#x2F;bar &#x2F;data</li><li>ä»è¿œç¨‹rsyncæœåŠ¡å™¨ä¸­æ‹·è´æ–‡ä»¶åˆ°æœ¬åœ°æœºã€‚å½“SRCè·¯å¾„ä¿¡æ¯åŒ…å«â€::â€åˆ†éš”ç¬¦æ—¶å¯åŠ¨è¯¥æ¨¡å¼ã€‚å¦‚ï¼šrsync -av <a href="mailto:&#x72;&#x6f;&#111;&#x74;&#x40;&#x31;&#x37;&#50;&#x2e;&#x31;&#54;&#46;&#55;&#x38;&#46;&#49;&#57;&#50;">root@172.16.78.192</a>::www &#x2F;databack</li><li>ä»æœ¬åœ°æœºå™¨æ‹·è´æ–‡ä»¶åˆ°è¿œç¨‹rsyncæœåŠ¡å™¨ä¸­ã€‚å½“DSTè·¯å¾„ä¿¡æ¯åŒ…å«â€::â€åˆ†éš”ç¬¦æ—¶å¯åŠ¨è¯¥æ¨¡å¼ã€‚å¦‚ï¼šrsync -av &#x2F;databack <a href="mailto:&#x72;&#111;&#x6f;&#x74;&#x40;&#49;&#55;&#x32;&#x2e;&#x31;&#x36;&#x2e;&#55;&#56;&#x2e;&#49;&#57;&#x32;">root@172.16.78.192</a>::www</li><li>åˆ—è¿œç¨‹æœºçš„æ–‡ä»¶åˆ—è¡¨ã€‚è¿™ç±»ä¼¼äºrsyncä¼ è¾“ï¼Œä¸è¿‡åªè¦åœ¨å‘½ä»¤ä¸­çœç•¥æ‰æœ¬åœ°æœºä¿¡æ¯å³å¯ã€‚å¦‚ï¼šrsync -v rsync:&#x2F;&#x2F;172.16.78.192&#x2F;www</li></ul><h3 id="RSYNCå®‰è£…"><a href="#RSYNCå®‰è£…" class="headerlink" title="RSYNCå®‰è£…"></a>RSYNCå®‰è£…</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#æ³¨ï¼šåœ¨debianã€ubuntu ç­‰åœ¨çº¿å®‰è£…æ–¹æ³•ï¼›</span></span><br><span class="line"><span class="built_in">sudo</span> apt-get install rsync</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ³¨ï¼šFedoraã€Redhat ç­‰åœ¨çº¿å®‰è£…æ–¹æ³•ï¼›</span></span><br><span class="line">yum install rsync</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ³¨ï¼šFedoraã€Redhat ç­‰rpmåŒ…å®‰è£…æ–¹æ³•ï¼›</span></span><br><span class="line">rpm -ivh rsync</span><br></pre></td></tr></table></figure><h3 id="RSYNCæ¡ˆä¾‹"><a href="#RSYNCæ¡ˆä¾‹" class="headerlink" title="RSYNCæ¡ˆä¾‹"></a>RSYNCæ¡ˆä¾‹</h3><p>åœ¨æˆ‘ä»¬å†…éƒ¨è·³æ¿æœº1ï¼šæ­å·èŠ‚ç‚¹ï¼ˆä¸»ï¼‰ä¸­ï¼Œå¯¹åº”åœ¨â€œ&#x2F;etc&#x2F;ssh&#x2F;ssh_config.dâ€ä¸­é…ç½®äº†æ¯ä¸ªé¡¹ç›®çš„sshå¿«æ·ç™»é™†ï¼Œæ‰€ä»¥åç»­æˆ‘ä»¬åªéœ€è¦â€œssh &lt;ä¸»æœºå&gt;â€ä¾¿èƒ½ç™»é™†åˆ°å¯¹åº”çš„ç›®æ ‡æœåŠ¡å™¨ä¸­ã€‚<br>ä½†è¿™é‡Œæœ‰ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬åœ¨æ­å·èŠ‚ç‚¹ï¼ˆä¸»ï¼‰ä¸­ï¼Œå¯¹åº”å˜æ›´äº†â€œ&#x2F;etc&#x2F;ssh&#x2F;ssh_config.dâ€çš„é…ç½®ï¼Œé‚£å…¶ä»–è·³æ¿æœºæ€ä¹ˆæ ·åŒæ­¥æ›´æ–°å‘¢ï¼Ÿå…¶å®è¿™é‡Œæˆ‘ä»¬é‡‡ç”¨äº†rsyncçš„æ–¹å¼æ¥åŒæ­¥é…ç½®æ–‡ä»¶ã€‚</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># rsync serveré…ç½®</span></span><br><span class="line"><span class="comment"># 1.åœ¨å†…éƒ¨è·³æ¿æœº1ï¼šæ­å·èŠ‚ç‚¹ï¼ˆä¸»ï¼šsrv-zy-ssh1ï¼‰ä¸Šï¼Œç¼–è¾‘é…ç½®æ–‡ä»¶/etc/rsyncd.conf</span></span><br><span class="line">uid=root</span><br><span class="line">git=root</span><br><span class="line">use <span class="built_in">chroot</span>=no</span><br><span class="line">max connection=0</span><br><span class="line">port=873</span><br><span class="line">pid file=/var/log/rsync/rsyncd.pid</span><br><span class="line">lock file=/var/log/rsync/rsync.lock</span><br><span class="line"><span class="built_in">log</span> file=/var/log/rsync/rsyncd.log</span><br><span class="line">motd file=/var/log/rsync/rsyncd.motd</span><br><span class="line">strict modes=<span class="built_in">yes</span></span><br><span class="line">[sshconfig]</span><br><span class="line">uid=root</span><br><span class="line">git=root</span><br><span class="line">path=/etc/ssh/ssh_config.d/</span><br><span class="line">comment=rsync ssh_config</span><br><span class="line"><span class="built_in">read</span> only=<span class="literal">false</span></span><br><span class="line">list=<span class="literal">false</span></span><br><span class="line">host allow=ip1 ip2 ip3</span><br><span class="line"><span class="comment">#hosts deny=172.25.0.0/24</span></span><br><span class="line">auth <span class="built_in">users</span>=sshconfig</span><br><span class="line">secrets file=/etc/rsyncd.passwd</span><br><span class="line"></span><br><span class="line"><span class="comment">#2.ç¼–è¾‘/etc/rsyncd.passwd æ–‡ä»¶åŠ å…¥ä»¥ä¸‹å†…å®¹</span></span><br><span class="line">sshconfig:rsync20150128</span><br><span class="line"></span><br><span class="line"><span class="comment">#3.èµ‹æƒï¼ˆå¿…é¡»600æƒé™ï¼Œå¦åˆ™æŠ¥é”™ï¼‰</span></span><br><span class="line"><span class="built_in">chmod</span> 600 /etc/rsyncd.passwd</span><br><span class="line"></span><br><span class="line"><span class="comment">#4.å¯åŠ¨rsync</span></span><br><span class="line">rsync --daemon /etc/rsyncd.conf</span><br><span class="line"></span><br><span class="line"><span class="comment"># rsync cilenté…ç½®</span></span><br><span class="line">åˆ†åˆ«åœ¨å…¶ä»–è·³æ¿æœºä¸Šé¢ï¼š</span><br><span class="line">å†…éƒ¨è·³æ¿æœº2ï¼šé’å²›èŠ‚ç‚¹ï¼ˆå¤‡ï¼šsrv-zy-ssh2ï¼‰</span><br><span class="line">å®¢æˆ·è·³æ¿æœº1ï¼šæ­å·èŠ‚ç‚¹ï¼ˆä¸»ï¼šsrv-zy-ssh3ï¼‰</span><br><span class="line">å®¢æˆ·è·³æ¿æœº2ï¼šé’å²›èŠ‚ç‚¹ï¼ˆå¤‡ï¼šsrv-zy-ssh4ï¼‰</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¼–è¾‘/etc/rsyncd.passwd æ–‡ä»¶åŠ å…¥ä»¥ä¸‹å†…å®¹ï¼š</span></span><br><span class="line">sshconfig:rsync20150128</span><br><span class="line"></span><br><span class="line"><span class="comment"># èµ‹æƒï¼ˆå¿…é¡»600æƒé™ï¼Œå¦åˆ™æŠ¥é”™ï¼‰:</span></span><br><span class="line"><span class="built_in">chmod</span> 600 /etc/rsyncd.passwd</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰§è¡ŒåŒæ­¥å‘½ä»¤ï¼š</span></span><br><span class="line">rsync -vzrtopg --delete --progress sshconfig@115.29.244.224::sshconfig /etc/ssh/ssh_config.d/ --password-file=/etc/rsyncd.passwd</span><br><span class="line">æˆ–è€…ï¼š</span><br><span class="line">rsync -avz --delete --progress sshconfig@115.29.244.224::sshconfig /etc/ssh/ssh_config.d/ --password-file=/etc/rsyncd.passwd</span><br></pre></td></tr></table></figure><h3 id="RSYNCå‚æ•°"><a href="#RSYNCå‚æ•°" class="headerlink" title="RSYNCå‚æ•°"></a>RSYNCå‚æ•°</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rsyncå‚æ•°çš„å…·ä½“è§£é‡Šå¦‚ä¸‹ï¼š</span><br><span class="line">-v, --verbose è¯¦ç»†æ¨¡å¼è¾“å‡º</span><br><span class="line">-q, --quiet ç²¾ç®€è¾“å‡ºæ¨¡å¼</span><br><span class="line">-c, --checksum æ‰“å¼€æ ¡éªŒå¼€å…³ï¼Œå¼ºåˆ¶å¯¹æ–‡ä»¶ä¼ è¾“è¿›è¡Œæ ¡éªŒ</span><br><span class="line">-a, --archive å½’æ¡£æ¨¡å¼ï¼Œè¡¨ç¤ºä»¥é€’å½’æ–¹å¼ä¼ è¾“æ–‡ä»¶ï¼Œå¹¶ä¿æŒæ‰€æœ‰æ–‡ä»¶å±æ€§ï¼Œç­‰äº-rlptgoD</span><br><span class="line">-r, --recursive å¯¹å­ç›®å½•ä»¥é€’å½’æ¨¡å¼å¤„ç†</span><br><span class="line">-R, --relative ä½¿ç”¨ç›¸å¯¹è·¯å¾„ä¿¡æ¯</span><br><span class="line">-b, --backup åˆ›å»ºå¤‡ä»½ï¼Œä¹Ÿå°±æ˜¯å¯¹äºç›®çš„å·²ç»å­˜åœ¨æœ‰åŒæ ·çš„æ–‡ä»¶åæ—¶ï¼Œå°†è€çš„æ–‡ä»¶é‡æ–°å‘½åä¸º~filenameã€‚å¯ä»¥ä½¿ç”¨--suffixé€‰é¡¹æ¥æŒ‡å®šä¸åŒçš„å¤‡ä»½æ–‡ä»¶å‰ç¼€ã€‚</span><br><span class="line">--backup-dir å°†å¤‡ä»½æ–‡ä»¶(å¦‚~filename)å­˜æ”¾åœ¨åœ¨ç›®å½•ä¸‹ã€‚</span><br><span class="line">-suffix=SUFFIX å®šä¹‰å¤‡ä»½æ–‡ä»¶å‰ç¼€</span><br><span class="line">-u, --update ä»…ä»…è¿›è¡Œæ›´æ–°ï¼Œä¹Ÿå°±æ˜¯è·³è¿‡æ‰€æœ‰å·²ç»å­˜åœ¨äºDSTï¼Œå¹¶ä¸”æ–‡ä»¶æ—¶é—´æ™šäºè¦å¤‡ä»½çš„æ–‡ä»¶ã€‚(ä¸è¦†ç›–æ›´æ–°çš„æ–‡ä»¶)</span><br><span class="line">-l, --links ä¿ç•™è½¯é“¾ç»“</span><br><span class="line">-L, --copy-links æƒ³å¯¹å¾…å¸¸è§„æ–‡ä»¶ä¸€æ ·å¤„ç†è½¯é“¾ç»“</span><br><span class="line">--copy-unsafe-links ä»…ä»…æ‹·è´æŒ‡å‘SRCè·¯å¾„ç›®å½•æ ‘ä»¥å¤–çš„é“¾ç»“</span><br><span class="line">--safe-links å¿½ç•¥æŒ‡å‘SRCè·¯å¾„ç›®å½•æ ‘ä»¥å¤–çš„é“¾ç»“</span><br><span class="line">-H, --hard-links ä¿ç•™ç¡¬é“¾ç»“ -p, --perms ä¿æŒæ–‡ä»¶æƒé™</span><br><span class="line">-o, --owner ä¿æŒæ–‡ä»¶å±ä¸»ä¿¡æ¯ -g, --group ä¿æŒæ–‡ä»¶å±ç»„ä¿¡æ¯</span><br><span class="line">-D, --devices ä¿æŒè®¾å¤‡æ–‡ä»¶ä¿¡æ¯ -t, --<span class="built_in">times</span> ä¿æŒæ–‡ä»¶æ—¶é—´ä¿¡æ¯</span><br><span class="line">-S, --sparse å¯¹ç¨€ç–æ–‡ä»¶è¿›è¡Œç‰¹æ®Šå¤„ç†ä»¥èŠ‚çœDSTçš„ç©ºé—´</span><br><span class="line">-n, --dry-runç°å®å“ªäº›æ–‡ä»¶å°†è¢«ä¼ è¾“</span><br><span class="line">-W, --whole-file æ‹·è´æ–‡ä»¶ï¼Œä¸è¿›è¡Œå¢é‡æ£€æµ‹</span><br><span class="line">-x, --one-file-system ä¸è¦è·¨è¶Šæ–‡ä»¶ç³»ç»Ÿè¾¹ç•Œ</span><br><span class="line">-B, --block-size=SIZE æ£€éªŒç®—æ³•ä½¿ç”¨çš„å—å°ºå¯¸ï¼Œé»˜è®¤æ˜¯700å­—èŠ‚</span><br><span class="line">-e, --rsh=COMMAND æŒ‡å®šä½¿ç”¨rshã€sshæ–¹å¼è¿›è¡Œæ•°æ®åŒæ­¥</span><br><span class="line">--rsync-path=PATH æŒ‡å®šè¿œç¨‹æœåŠ¡å™¨ä¸Šçš„rsyncå‘½ä»¤æ‰€åœ¨è·¯å¾„ä¿¡æ¯</span><br><span class="line">-C, --cvs-exclude ä½¿ç”¨å’ŒCVSä¸€æ ·çš„æ–¹æ³•è‡ªåŠ¨å¿½ç•¥æ–‡ä»¶ï¼Œç”¨æ¥æ’é™¤é‚£äº›ä¸å¸Œæœ›ä¼ è¾“çš„æ–‡ä»¶</span><br><span class="line">--existing ä»…ä»…æ›´æ–°é‚£äº›å·²ç»å­˜åœ¨äºDSTçš„æ–‡ä»¶ï¼Œè€Œä¸å¤‡ä»½é‚£äº›æ–°åˆ›å»ºçš„æ–‡ä»¶</span><br><span class="line">--delete åˆ é™¤é‚£äº›DSTä¸­SRCæ²¡æœ‰çš„æ–‡ä»¶</span><br><span class="line">--delete-excluded åŒæ ·åˆ é™¤æ¥æ”¶ç«¯é‚£äº›è¢«è¯¥é€‰é¡¹æŒ‡å®šæ’é™¤çš„æ–‡ä»¶</span><br><span class="line">--delete-after ä¼ è¾“ç»“æŸä»¥åå†åˆ é™¤</span><br><span class="line">--ignore-errors åŠæ—¶å‡ºç°IOé”™è¯¯ä¹Ÿè¿›è¡Œåˆ é™¤</span><br><span class="line">--max-delete=NUM æœ€å¤šåˆ é™¤NUMä¸ªæ–‡ä»¶</span><br><span class="line">--partial ä¿ç•™é‚£äº›å› æ•…æ²¡æœ‰å®Œå…¨ä¼ è¾“çš„æ–‡ä»¶ï¼Œä»¥æ˜¯åŠ å¿«éšåçš„å†æ¬¡ä¼ è¾“</span><br><span class="line">--force å¼ºåˆ¶åˆ é™¤ç›®å½•ï¼Œå³ä½¿ä¸ä¸ºç©º</span><br><span class="line">--numeric-ids ä¸å°†æ•°å­—çš„ç”¨æˆ·å’Œç»„IDåŒ¹é…ä¸ºç”¨æˆ·åå’Œç»„å</span><br><span class="line">--<span class="built_in">timeout</span>=TIME IPè¶…æ—¶æ—¶é—´ï¼Œå•ä½ä¸ºç§’</span><br><span class="line">-I, --ignore-times ä¸è·³è¿‡é‚£äº›æœ‰åŒæ ·çš„æ—¶é—´å’Œé•¿åº¦çš„æ–‡ä»¶</span><br><span class="line">--size-only å½“å†³å®šæ˜¯å¦è¦å¤‡ä»½æ–‡ä»¶æ—¶ï¼Œä»…ä»…å¯Ÿçœ‹æ–‡ä»¶å¤§å°è€Œä¸è€ƒè™‘æ–‡ä»¶æ—¶é—´</span><br><span class="line">--modify-window=NUM å†³å®šæ–‡ä»¶æ˜¯å¦æ—¶é—´ç›¸åŒæ—¶ä½¿ç”¨çš„æ—¶é—´æˆ³çª—å£ï¼Œé»˜è®¤ä¸º0</span><br><span class="line">-T --temp-dir=DIR åœ¨DIRä¸­åˆ›å»ºä¸´æ—¶æ–‡ä»¶</span><br><span class="line">--compare-dest=DIR åŒæ ·æ¯”è¾ƒDIRä¸­çš„æ–‡ä»¶æ¥å†³å®šæ˜¯å¦éœ€è¦å¤‡ä»½</span><br><span class="line">-P ç­‰åŒäº --partial</span><br><span class="line">--progress æ˜¾ç¤ºå¤‡ä»½è¿‡ç¨‹</span><br><span class="line">-z, --compress å¯¹å¤‡ä»½çš„æ–‡ä»¶åœ¨ä¼ è¾“æ—¶è¿›è¡Œå‹ç¼©å¤„ç†</span><br><span class="line">--exclude=PATTERN æŒ‡å®šæ’é™¤ä¸éœ€è¦ä¼ è¾“çš„æ–‡ä»¶æ¨¡å¼</span><br><span class="line">--include=PATTERN æŒ‡å®šä¸æ’é™¤è€Œéœ€è¦ä¼ è¾“çš„æ–‡ä»¶æ¨¡å¼</span><br><span class="line">--exclude-from=FILE æ’é™¤FILEä¸­æŒ‡å®šæ¨¡å¼çš„æ–‡ä»¶</span><br><span class="line">--include-from=FILE ä¸æ’é™¤FILEæŒ‡å®šæ¨¡å¼åŒ¹é…çš„æ–‡ä»¶</span><br><span class="line">--version æ‰“å°ç‰ˆæœ¬ä¿¡æ¯</span><br><span class="line">--address ç»‘å®šåˆ°ç‰¹å®šçš„åœ°å€</span><br><span class="line">--config=FILE æŒ‡å®šå…¶ä»–çš„é…ç½®æ–‡ä»¶ï¼Œä¸ä½¿ç”¨é»˜è®¤çš„rsyncd.confæ–‡ä»¶</span><br><span class="line">--port=PORT æŒ‡å®šå…¶ä»–çš„rsyncæœåŠ¡ç«¯å£</span><br><span class="line">--blocking-io å¯¹è¿œç¨‹shellä½¿ç”¨é˜»å¡IO</span><br><span class="line">-stats ç»™å‡ºæŸäº›æ–‡ä»¶çš„ä¼ è¾“çŠ¶æ€</span><br><span class="line">--progress åœ¨ä¼ è¾“æ—¶ç°å®ä¼ è¾“è¿‡ç¨‹</span><br><span class="line">--log-format=formAT æŒ‡å®šæ—¥å¿—æ–‡ä»¶æ ¼å¼</span><br><span class="line">--password-file=FILE ä»FILEä¸­å¾—åˆ°å¯†ç </span><br><span class="line">--bwlimit=KBPS é™åˆ¶I/Oå¸¦å®½ï¼ŒKBytes per second</span><br><span class="line">-h, --<span class="built_in">help</span> æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯</span><br></pre></td></tr></table></figure><h2 id="åº”ç”¨åœºæ™¯-Linuxç³»ç»Ÿä¸‹å®ç°æ–‡ä»¶å®æ—¶åŒæ­¥"><a href="#åº”ç”¨åœºæ™¯-Linuxç³»ç»Ÿä¸‹å®ç°æ–‡ä»¶å®æ—¶åŒæ­¥" class="headerlink" title="åº”ç”¨åœºæ™¯-Linuxç³»ç»Ÿä¸‹å®ç°æ–‡ä»¶å®æ—¶åŒæ­¥"></a>åº”ç”¨åœºæ™¯-Linuxç³»ç»Ÿä¸‹å®ç°æ–‡ä»¶å®æ—¶åŒæ­¥</h2><p>åœ¨æˆ‘ä»¬çš„æ—¥å¸¸åœºæ™¯ä¸­ç»å¸¸ä¼šç»å¸¸ç¢°åˆ°æ–‡ä»¶å…±äº«åŒæ­¥çš„é—®é¢˜ï¼Œæ¯”å¦‚ï¼š</p><ul><li>é›†ç¾¤ï¼Œæä¾›é«˜å¯ç”¨æœåŠ¡ï¼ˆéœ€è¦ç½‘ç«™ä»£ç æˆ–è€…ç›®å½•å®æ—¶åŒæ­¥ï¼Œä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ï¼‰</li><li>è¿ç§»æ•°æ® (å®æ—¶å¢é‡ä¼ è¾“)</li><li>æ–‡ä»¶å¤‡ä»½ï¼ˆå®æ—¶å°†æ•°æ®å¤‡ä»½åˆ°å…¶ä»–è®¾å¤‡ï¼Œé˜²æ­¢æ•°æ®ä¸¢å¤±ï¼‰</li></ul><p>æˆ‘ä»¬é’ˆå¯¹ä»¥ä¸Šåœºæ™¯åœ¨ Linux ç³»ç»Ÿä¸‹å®ç°æ–‡ä»¶å®æ—¶åŒæ­¥</p><h3 id="Serverç«¯é…ç½®"><a href="#Serverç«¯é…ç½®" class="headerlink" title="Serverç«¯é…ç½®"></a>Serverç«¯é…ç½®</h3><h4 id="ç¯å¢ƒä»‹ç»"><a href="#ç¯å¢ƒä»‹ç»" class="headerlink" title="ç¯å¢ƒä»‹ç»"></a>ç¯å¢ƒä»‹ç»</h4><p>ä¿®æ”¹ï¼šè°ƒæ•´äº†ç›®å½•é¡ºåº</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ“ä½œç³»ç»Ÿï¼šCentOS 6.8 rsync: rsync-3.0.6 (yum æºé»˜è®¤å®‰è£…)</span><br></pre></td></tr></table></figure><p><img src="01.png"></p><h4 id="å®‰è£…æ–¹å¼"><a href="#å®‰è£…æ–¹å¼" class="headerlink" title="å®‰è£…æ–¹å¼"></a>å®‰è£…æ–¹å¼</h4><p>å®‰è£…æ–¹å¼</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudoapt-get ``installrsync#debianã€ubuntu ç­‰åœ¨çº¿å®‰è£…æ–¹æ³•ï¼›``yum ``installrsync#Fedoraã€Redhat ç­‰åœ¨çº¿å®‰è£…æ–¹æ³•ï¼›``rpm -ivh ``rsync# Fedoraã€Redhat ç­‰rpmåŒ…å®‰è£…æ–¹æ³•ï¼›``rpm -qa | ``greprsync# æŸ¥çœ‹å®‰è£…çš„ç‰ˆæœ¬</span><br></pre></td></tr></table></figure><h4 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h4><p>ä¿®æ”¹ï¼š æ–‡ä»¶åç¼ºå°‘â€œdâ€ å­—ç¬¦</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">chmod 600 /etc/rsync.d/rsyncd.conf</span><br><span class="line">chmod 600 /etc/rsync.d/rsyncd.pass</span><br></pre></td></tr></table></figure><p>åˆ›å»ºç›¸å…³é…ç½®ç›®å½•å’Œæ–‡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mkdir-p ``/etc/rsync``.d  ``# rsync é…ç½®æ–‡ä»¶ç›®å½•ï¼Œé»˜è®¤æ²¡æœ‰touch/etc/rsync``.d``/rsyncd``.conf ``# rsyncæœåŠ¡ç«¯é…ç½®æ–‡ä»¶touch/etc/rsync``.d``/rsyncd``.pass ``# å®¢æˆ·ç«¯æ‹‰å–æ–‡ä»¶æ—¶ä½¿ç”¨çš„ç”¨æˆ·å¯†ç chmod600 ``/etc/rsync``.d``/rsyncd``.confchmod600 ``/etc/rsync``.d``/rsyncd``.pass</span><br></pre></td></tr></table></figure><h4 id="ç¼–å†™ä¸»é…ç½®æ–‡ä»¶-rsyncd-conf"><a href="#ç¼–å†™ä¸»é…ç½®æ–‡ä»¶-rsyncd-conf" class="headerlink" title="ç¼–å†™ä¸»é…ç½®æ–‡ä»¶ rsyncd.conf"></a>ç¼–å†™ä¸»é…ç½®æ–‡ä»¶ rsyncd.conf</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim ``/etc/rsync``.d``/rsyncd``.conf</span><br></pre></td></tr></table></figure><p>ï¼ˆä»¥ä¸‹æ˜¯é…ç½®æ–‡ä»¶ï¼‰</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">log</span> file=/var/log/rsyncd.log</span><br><span class="line"></span><br><span class="line">pid file=/var/run/rsyncd.pid</span><br><span class="line"></span><br><span class="line">lock file=/var/run/rsyncd.lock</span><br><span class="line"></span><br><span class="line">motd file = /etc/rsyncd/rsyncd.motd</span><br><span class="line"></span><br><span class="line">uid=root</span><br><span class="line"></span><br><span class="line">gid=root</span><br><span class="line"></span><br><span class="line">max connections=5</span><br><span class="line"></span><br><span class="line">hosts allow=192.168.1.167 <span class="comment"># å…è®¸è®¿é—®çš„IPåœ°å€ï¼Œæˆ‘è¿™é‡Œå¡«å†™çš„æ˜¯æµ‹è¯•çš„å®¢æˆ·ç«¯åœ°å€</span></span><br><span class="line"></span><br><span class="line">hosts deny=*</span><br><span class="line"></span><br><span class="line">secrets file = /etc/rsync.d/rsyncd.pass</span><br><span class="line"></span><br><span class="line"><span class="built_in">log</span> = /var/log/rsyncd.log l</span><br><span class="line"></span><br><span class="line">og format = %t %a %m %f %b</span><br><span class="line"></span><br><span class="line">syslog facility = local3 <span class="built_in">timeout</span> = 300</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[handbook]</span><br><span class="line"></span><br><span class="line">path=/handbook/</span><br><span class="line"></span><br><span class="line">comment= handbook</span><br><span class="line"></span><br><span class="line"><span class="built_in">test</span> auth <span class="built_in">users</span>=rsync</span><br></pre></td></tr></table></figure><p><img src="02.png"></p><p>è¯¦ç»†å‚æ•°å¯å‚è€ƒå®˜ç½‘ <a href="https://download.samba.org/pub/rsync/rsyncd.conf.html">rsyncd.conf ä»‹ç» </a></p><h4 id="ç¼–å†™ç”¨æˆ·è®¤è¯æ–‡ä»¶"><a href="#ç¼–å†™ç”¨æˆ·è®¤è¯æ–‡ä»¶" class="headerlink" title="ç¼–å†™ç”¨æˆ·è®¤è¯æ–‡ä»¶"></a>ç¼–å†™ç”¨æˆ·è®¤è¯æ–‡ä»¶</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim /etc/rsync.d/rsyncd.pass</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ï¼šå°†ä»£ç æ¨¡å¼å»é™¤ï¼Œå¹¶æ·»åŠ æ–‡å­—æè¿°</p><p>è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rsync:cloudcare</span><br></pre></td></tr></table></figure><p><img src="03.png"></p><h4 id="å¯åŠ¨æœåŠ¡"><a href="#å¯åŠ¨æœåŠ¡" class="headerlink" title="å¯åŠ¨æœåŠ¡"></a>å¯åŠ¨æœåŠ¡</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rsync --daemon --config=/etc/rsync.d/rsyncd.conf</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ï¼š æ·»åŠ äº†â€œç¡®è®¤æœåŠ¡å¯åŠ¨â€ æ ‡é¢˜ï¼Œä»¥åŠç›¸å…³å‘½ä»¤; å°† â€œæ³¨ï¼šrsync æœåŠ¡é»˜è®¤ç«¯å£æ˜¯ 873â€ å‰ç§» ç¡®è®¤æœåŠ¡å¯åŠ¨</p><p>æ³¨ï¼šrsync æœåŠ¡é»˜è®¤ç«¯å£æ˜¯ 873</p><p>ç¡®è®¤æœåŠ¡å¯åŠ¨</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ps -ef | greprsyncnetstat-nltp | grep7589</span><br></pre></td></tr></table></figure><p><img src="04.png"></p><h3 id="rsyncå®¢æˆ·ç«¯"><a href="#rsyncå®¢æˆ·ç«¯" class="headerlink" title="rsyncå®¢æˆ·ç«¯"></a>rsyncå®¢æˆ·ç«¯</h3><p>å®¢æˆ·ç«¯é…ç½®å¾ˆç®€å•ï¼Œåªéœ€è¦å®‰è£… <code>rsync</code> å·¥å…·å³å¯</p><h4 id="å®‰è£…æ–¹å¼-1"><a href="#å®‰è£…æ–¹å¼-1" class="headerlink" title="å®‰è£…æ–¹å¼"></a>å®‰è£…æ–¹å¼</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># debianã€ubuntu ç­‰åœ¨çº¿å®‰è£…æ–¹æ³•ï¼›</span></span><br><span class="line"><span class="built_in">sudo</span> apt-get install rsync</span><br><span class="line"><span class="comment"># Fedoraã€Redhat ç­‰åœ¨çº¿å®‰è£…æ–¹æ³•ï¼›</span></span><br><span class="line">yum install rsync</span><br><span class="line"><span class="comment"># Fedoraã€Redhat ç­‰rpmåŒ…å®‰è£…æ–¹æ³•ï¼›</span></span><br><span class="line">rpm -ivh rsync</span><br><span class="line"><span class="comment"># æŸ¥çœ‹å®‰è£…çš„ç‰ˆæœ¬</span></span><br><span class="line">rpm -qa | greprsync</span><br></pre></td></tr></table></figure><h4 id="éªŒè¯"><a href="#éªŒè¯" class="headerlink" title="éªŒè¯"></a>éªŒè¯</h4><p>ä¿®æ”¹ï¼šæ·»åŠ äº†â€œç¤ºä¾‹å†…å®¹â€</p><p>ç¤ºä¾‹ï¼š å°†192.168.1.176 æœåŠ¡å™¨ä¸Šçš„ handbook ï¼ˆè¿™é‡Œæ˜¯å®šä¹‰çš„é¡¹ç›®åç§°ï¼Œå¯ä»¥å‚è€ƒrsync server ç«¯çš„é…ç½®ï¼‰é¡¹ç›®åŒæ­¥åˆ° 192.168.1.167 çš„ &#x2F;tmp ä¸‹</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rsync -avzP ``rsync``@192.168.1.176::handbook ``/tmp</span><br></pre></td></tr></table></figure><p>è¯´æ˜ï¼š<br>-a å‚æ•°ï¼Œç›¸å½“äº-rlptgoDï¼Œ<br>-r æ˜¯é€’å½’ -l æ˜¯é“¾æ¥æ–‡ä»¶ï¼Œæ„æ€æ˜¯æ‹·è´é“¾æ¥æ–‡ä»¶ï¼›<br>-p è¡¨ç¤ºä¿æŒæ–‡ä»¶åŸæœ‰æƒé™ï¼›<br>-t ä¿æŒæ–‡ä»¶åŸæœ‰æ—¶é—´ï¼›<br>-g ä¿æŒæ–‡ä»¶åŸæœ‰ç”¨æˆ·ç»„ï¼›<br>-o ä¿æŒæ–‡ä»¶åŸæœ‰å±ä¸»ï¼›<br>-D ç›¸å½“äºå—è®¾å¤‡æ–‡ä»¶ï¼›<br>-z ä¼ è¾“æ—¶å‹ç¼©ï¼›<br>-P ä¼ è¾“è¿›åº¦ï¼›<br>-v ä¼ è¾“æ—¶çš„è¿›åº¦ç­‰ä¿¡æ¯</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">![](05.png)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">è¯¦ç»†å‚æ•°å¯ä»¥å‚è€ƒ: [RSYNC å‚æ•° ](https://confluence.jiagouyun.com/pages/viewpage.action?pageId=15503070)</span><br><span class="line"></span><br><span class="line">å¦‚æœæƒ³æ¯éš”ä¸€æ®µæ—¶é—´åŒæ­¥ä¸€æ¬¡ï¼Œå¯ä»¥é…åˆ crontab æ¥å®ç°ï¼›ä½†æ˜¯å¦‚æœæƒ³å®æ—¶åŒæ­¥ï¼Œé‚£å°±éœ€è¦ç”¨åˆ°inotify å·¥å…·äº†</span><br><span class="line"></span><br><span class="line">## inotify</span><br><span class="line"></span><br><span class="line">&gt; inotifyæ˜¯Linuxæ ¸å¿ƒå­ç³»ç»Ÿä¹‹ä¸€ï¼Œåšä¸ºæ–‡ä»¶ç³»ç»Ÿçš„é™„åŠ åŠŸèƒ½ï¼Œå®ƒå¯ç›‘æ§æ–‡ä»¶ç³»ç»Ÿå¹¶å°†å¼‚åŠ¨é€šçŸ¥åº”ç”¨ç¨‹åºã€‚æ‘˜è‡ª[ç»´åŸºç™¾ç§‘](https://zh.wikipedia.org/wiki/Inotify) å¯ä»¥é…åˆrsyncåšå®æ—¶åŒæ­¥ï¼Œinotify é€šè¿‡ç›‘æ§æ–‡ä»¶çš„å˜åŒ–ï¼Œç„¶åè§¦å‘åŒæ­¥è„šæœ¬ï¼Œå®ç°å®æ—¶åŒæ­¥ã€‚</span><br><span class="line"></span><br><span class="line">### ä¿®æ”¹æ·»åŠ äº†â€œå®éªŒç›®åœ°â€ å’Œâ€œæ‹“æ‰‘ç¯å¢ƒâ€ ä¸¤ä¸ªé¡¹ç›®</span><br><span class="line"></span><br><span class="line">### å®éªŒç›®çš„</span><br><span class="line"></span><br><span class="line">å°† 192.168.1.167 çš„ /handbook ç›®å½•ä¸‹çš„å†…å®¹å®æ—¶åŒæ­¥åˆ° 192.168.1.176 å®šä¹‰çš„ â€œhandbookâ€ ç›®å½•ä¸‹ï¼ˆå®éªŒç¯å¢ƒä¾æ—§é‡‡ç”¨ä¸Šé¢çš„è€ç¯å¢ƒï¼‰</span><br><span class="line"></span><br><span class="line">### æ‹“æ‰‘ç¯å¢ƒ</span><br><span class="line"></span><br><span class="line">![](06.png)</span><br><span class="line"></span><br><span class="line">### å®‰è£…</span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line">yum install-y inotify-tools</span><br></pre></td></tr></table></figure><p>æ³¨ï¼šinotify å…¶å®ä¸éœ€è¦ä»»ä½•çš„é…ç½®ï¼Œå®‰è£…å¥½ä¹‹åé»˜è®¤æœ‰ä¸¤ä¸ªå‘½ä»¤;</p><blockquote><p>inotifywait : åœ¨è¢«ç›‘æ§çš„æ–‡ä»¶æˆ–ç›®å½•ä¸Šç­‰å¾…ç‰¹å®šæ–‡ä»¶ç³»ç»Ÿäº‹ä»¶ï¼ˆopen close deleteç­‰ï¼‰å‘ç”Ÿ</p><p>inotifywatch :æ”¶é›†è¢«ç›‘æ§çš„æ–‡ä»¶ç³»ç»Ÿä½¿ç”¨çš„ç»Ÿè®¡æ•°æ®,æŒ‡æ–‡ä»¶ç³»ç»Ÿäº‹ä»¶å‘ç”Ÿçš„æ¬¡æ•°ç»Ÿè®¡</p></blockquote><h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><h4 id="æ£€æµ‹åˆ›å»ºäº‹ä»¶"><a href="#æ£€æµ‹åˆ›å»ºäº‹ä»¶" class="headerlink" title="æ£€æµ‹åˆ›å»ºäº‹ä»¶"></a>æ£€æµ‹åˆ›å»ºäº‹ä»¶</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">inotifywait -mrq ``/handbook/cd/handbook/touch1</span><br></pre></td></tr></table></figure><p><img src="07.png"></p><h4 id="æ£€æµ‹åˆ é™¤äº‹ä»¶"><a href="#æ£€æµ‹åˆ é™¤äº‹ä»¶" class="headerlink" title="æ£€æµ‹åˆ é™¤äº‹ä»¶"></a>æ£€æµ‹åˆ é™¤äº‹ä»¶</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">inotifywait -mrq /handbook --timefmt &quot;%d-%m-%y %H:%M&quot; --format &quot;%T %w%f äº‹ ä»¶ æ¯: %e&quot; -e delete cd /handbook/ rm -rf 1 4</span><br></pre></td></tr></table></figure><p><img src="08.png"></p><h4 id="ç¼–å†™å®æ—¶åŒæ­¥è„šæœ¬"><a href="#ç¼–å†™å®æ—¶åŒæ­¥è„šæœ¬" class="headerlink" title="ç¼–å†™å®æ—¶åŒæ­¥è„šæœ¬"></a>ç¼–å†™å®æ—¶åŒæ­¥è„šæœ¬</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">more rsync-handbook.sh</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">inotifywait -mrq /handbook/ --format &quot;%w%f&quot; -e create,delete,moved_to,close_write | while read line do rsync -az /handbook/ rsync@192.168.1.176::handbook --password-file=/root/handbook.pw done</span><br></pre></td></tr></table></figure><p><em>æ³¨ï¼š å…¶ä¸­â€“password-file æ˜¯æŒ‡å®š <code>handbook</code>æ¨¡å—è®¤ç”¨æˆ·è®¤è¯çš„å¯†ç æ–‡ä»¶</em></p><h3 id="éªŒè¯-1"><a href="#éªŒè¯-1" class="headerlink" title="éªŒè¯"></a>éªŒè¯</h3><p><img src="09.png"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;!-- MDTOC maxdepth:6 firsth1:1 numbering:0 flatten:0 bullets:1 updateOnSave:1 --&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#rsync%E4%BB%8B%E7%BB%8D&quot;&gt;rsyncä»‹ç»&lt;/a&gt;&lt;</summary>
      
    
    
    
    <category term="æŠ€æœ¯å¹¿è§’" scheme="http://www.toberoot.com/categories/%E6%8A%80%E6%9C%AF%E5%B9%BF%E8%A7%92/"/>
    
    <category term="Linux" scheme="http://www.toberoot.com/categories/%E6%8A%80%E6%9C%AF%E5%B9%BF%E8%A7%92/Linux/"/>
    
    
    <category term="Linux" scheme="http://www.toberoot.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>è®°ä¸€æ¬¡grepå‘½ä»¤å¸¸ç”¨æ–¹æ³•å¸¦æ–‡ä»¶åå’Œè¡Œæ•°</title>
    <link href="http://www.toberoot.com/news/2020/05/19/tec-linux/"/>
    <id>http://www.toberoot.com/news/2020/05/19/tec-linux/</id>
    <published>2020-05-19T10:24:00.000Z</published>
    <updated>2025-10-22T14:33:10.760Z</updated>
    
    <content type="html"><![CDATA[<h2 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h2><p>æ‰¾åˆ°æŒ‡å®šç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶ä¸­åŒ…å«å­—ç¬¦<code>nav-item dropdown</code>çš„æ–‡ä»¶å’Œè¡Œæ•°ã€‚</p><h2 id="å‘½ä»¤"><a href="#å‘½ä»¤" class="headerlink" title="å‘½ä»¤"></a>å‘½ä»¤</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">for i in $(find `pwd` -type f); do grep -H -n &quot;2020-05-19&quot; $i; done 2&gt; /dev/null</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;éœ€æ±‚&quot;&gt;&lt;a href=&quot;#éœ€æ±‚&quot; class=&quot;headerlink&quot; title=&quot;éœ€æ±‚&quot;&gt;&lt;/a&gt;éœ€æ±‚&lt;/h2&gt;&lt;p&gt;æ‰¾åˆ°æŒ‡å®šç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶ä¸­åŒ…å«å­—ç¬¦&lt;code&gt;nav-item dropdown&lt;/code&gt;çš„æ–‡ä»¶å’Œè¡Œæ•°ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å‘½ä»¤&quot;</summary>
      
    
    
    
    <category term="æŠ€æœ¯å¹¿è§’" scheme="http://www.toberoot.com/categories/%E6%8A%80%E6%9C%AF%E5%B9%BF%E8%A7%92/"/>
    
    <category term="Linux" scheme="http://www.toberoot.com/categories/%E6%8A%80%E6%9C%AF%E5%B9%BF%E8%A7%92/Linux/"/>
    
    
    <category term="Linux" scheme="http://www.toberoot.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linuxç³»ç»Ÿä¸€æ¬¡æ€§åŒæ­¥æ—¶é—´</title>
    <link href="http://www.toberoot.com/news/2020/05/14/tec-linux/"/>
    <id>http://www.toberoot.com/news/2020/05/14/tec-linux/</id>
    <published>2020-05-13T16:30:00.000Z</published>
    <updated>2025-10-22T14:33:10.759Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æµ‹è¯•æœåŠ¡å™¨ç‰©ç†æ—¶é—´å’Œç³»ç»Ÿæ—¶é—´éƒ½ä¸æ­£ç¡®ï¼Œéœ€è¦è°ƒæ•´</p></blockquote><h2 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å®‰è£… ntp</span></span><br><span class="line">yum install -y ntp</span><br><span class="line"><span class="comment"># åŒæ­¥é˜¿é‡Œäº‘æ—¶é—´åŒæ­¥æœåŠ¡å™¨</span></span><br><span class="line">ntpdate ntp1.aliyun.com</span><br><span class="line"><span class="comment"># ç‰©ç†æ—¶é—´åŒæ­¥ç³»ç»Ÿæ—¶é—´</span></span><br><span class="line">hwclock -w</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æµ‹è¯•æœåŠ¡å™¨ç‰©ç†æ—¶é—´å’Œç³»ç»Ÿæ—¶é—´éƒ½ä¸æ­£ç¡®ï¼Œéœ€è¦è°ƒæ•´&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;æ­¥éª¤&quot;&gt;&lt;a href=&quot;#æ­¥éª¤&quot; class=&quot;headerlink&quot; title=&quot;æ­¥éª¤&quot;&gt;&lt;/a&gt;æ­¥éª¤&lt;/h2&gt;&lt;figure class=&quot;</summary>
      
    
    
    
    <category term="æŠ€æœ¯å¹¿è§’" scheme="http://www.toberoot.com/categories/%E6%8A%80%E6%9C%AF%E5%B9%BF%E8%A7%92/"/>
    
    <category term="Linux" scheme="http://www.toberoot.com/categories/%E6%8A%80%E6%9C%AF%E5%B9%BF%E8%A7%92/Linux/"/>
    
    
    <category term="CentOS" scheme="http://www.toberoot.com/tags/CentOS/"/>
    
    <category term="ntp" scheme="http://www.toberoot.com/tags/ntp/"/>
    
  </entry>
  
  <entry>
    <title>åˆ¶ä½œRedHatæ•™å­¦ç³»ç»Ÿè£…æœºUç›˜</title>
    <link href="http://www.toberoot.com/news/2020/05/13/tec-redhat/"/>
    <id>http://www.toberoot.com/news/2020/05/13/tec-redhat/</id>
    <published>2020-05-13T15:33:00.000Z</published>
    <updated>2025-10-22T14:33:10.760Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>çº¢å¸½å®˜æ–¹æ•™å­¦ç³»ç»Ÿ</p></blockquote><h2 id="æ ¼å¼åŒ–uç›˜"><a href="#æ ¼å¼åŒ–uç›˜" class="headerlink" title="æ ¼å¼åŒ–uç›˜"></a>æ ¼å¼åŒ–uç›˜</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@foundation0 ~]# mount |tail -n 1</span><br><span class="line">/dev/sdb1 on /run/media/kiosk/U type vfat (rw,nosuid,nodev,relatime,uid=1000,gid=1000,fmask=0022,dmask=0077,codepage=437,iocharset=ascii,shortname=mixed,showexec,utf8,flush,errors=remount-ro,uhelper=udisks2)</span><br><span class="line">[root@foundation0 ~]# umount /dev/sdb1</span><br><span class="line">[root@foundation0 ~]# partprobe /dev/sdb1</span><br><span class="line">[root@foundation0 ~]# mkfs.ext4 /dev/sdb1</span><br><span class="line">mke2fs 1.42.9 (28-Dec-2013)</span><br><span class="line">Filesystem label=</span><br><span class="line">OS type: Linux</span><br><span class="line">Block size=4096 (log=2)</span><br><span class="line">Fragment size=4096 (log=2)</span><br><span class="line">Stride=0 blocks, Stripe width=0 blocks</span><br><span class="line">932064 inodes, 3722784 blocks</span><br><span class="line">186139 blocks (5.00%) reserved for the super user</span><br><span class="line">First data block=0</span><br><span class="line">Maximum filesystem blocks=2151677952</span><br><span class="line">114 block groups</span><br><span class="line">32768 blocks per group, 32768 fragments per group</span><br><span class="line">8176 inodes per group</span><br><span class="line">Superblock backups stored on blocks:</span><br><span class="line">32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208</span><br><span class="line"></span><br><span class="line">Allocating group tables: done</span><br><span class="line">Writing inode tables: done</span><br><span class="line">Creating journal (32768 blocks): done</span><br><span class="line">Writing superblocks and filesystem accounting information: done</span><br></pre></td></tr></table></figure><h2 id="åˆ¶ä½œuç›˜å¯åŠ¨"><a href="#åˆ¶ä½œuç›˜å¯åŠ¨" class="headerlink" title="åˆ¶ä½œuç›˜å¯åŠ¨"></a>åˆ¶ä½œuç›˜å¯åŠ¨</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@foundation0 ~]# rht-usb usbformat /dev/sdb1</span><br><span class="line">INFO     Configuration file: /root/.icrm/config.yml</span><br><span class="line">INFO     Formatting USB Device: /dev/sdb1</span><br><span class="line">Confirm reformatting /dev/sdb1 (y/N) y</span><br><span class="line">INFO     mkfs.ext4 64-bit support</span><br><span class="line">INFO     /dev/sdb1: format OK</span><br><span class="line">INFO     Appear to have properly formatted USB device.</span><br><span class="line"></span><br><span class="line">[root@foundation0 ~]# cd /home/kiosk/booboo/cache</span><br><span class="line">[root@foundation0 cache]# ll</span><br><span class="line">total 4038772</span><br><span class="line">-rw------- 1 kiosk kiosk      27967 Mar  3  2016 ClassPrep-7.x-4.r35344.txt</span><br><span class="line">-rw------- 1 kiosk kiosk      16186 Mar  3  2016 ClassroomReset-7.x-4.r35344.txt</span><br><span class="line">-rw------- 1 kiosk kiosk      38605 Mar  3  2016 ClassroomSetup-7.x-4.r35344.txt</span><br><span class="line">-rw------- 1 kiosk kiosk      27054 Mar  3  2016 ClassroomTroubleshooting-7.x-4.r35344.txt</span><br><span class="line">-rw------- 1 kiosk kiosk      75892 Mar  3  2016 foundation0-config-7.x-4.r35344.noarch.rpm</span><br><span class="line">-rw------- 1 kiosk kiosk      27568 Mar  3  2016 foundation-config-7.x-4.r35344.noarch.rpm</span><br><span class="line">-rw------- 1 kiosk kiosk     189984 Mar  3  2016 redhat-survey-7.x-55.1.noarch.rpm</span><br><span class="line">-rw------- 1 kiosk kiosk   91254784 Mar  4  2016 rhci-foundation-7.2-4.r35344.iso</span><br><span class="line">-rw------- 1 kiosk kiosk       2775 May  9 11:02 RHCIfoundation-RHEL72-4.r35344.1-ILT-7-en_US.icmf</span><br><span class="line">-rw------- 1 kiosk kiosk     621805 Oct 20  2014 RHEL7å’ŒCentOS7æ‰“å¼€å±å¹•VNC.pdf</span><br><span class="line">-rw------- 1 kiosk kiosk 4043309056 Mar  4  2016 rhel-server-7.2-x86_64-dvd.iso</span><br><span class="line">-rw------- 1 kiosk kiosk      96050 Mar  3  2016 rht-usb-7.x-4.r35344</span><br><span class="line"></span><br><span class="line">[root@foundation0 cache]# vim /root/.icrm/config.yml</span><br><span class="line">---</span><br><span class="line">repository: /root/.icrm/repository</span><br><span class="line">repository: /home/kiosk/booboo/cache</span><br><span class="line"></span><br><span class="line">[root@foundation0 cache]# rht-usb verify *.icmf</span><br><span class="line">INFO     Configuration file: /root/.icrm/config.yml</span><br><span class="line">INFO     Verifying Cache Directory: /home/kiosk/booboo/cache</span><br><span class="line"></span><br><span class="line">Verifying manifest file RHCIfoundation-RHEL72-4.r35344.1-ILT-7-en_US.icmf</span><br><span class="line">  Publish date: 2016-02-24 20:43:25</span><br><span class="line">  type        md5sum  artifact-name</span><br><span class="line">  ----------- ------- -----------------------------------------------</span><br><span class="line">  content     CORRUPT rhel-server-7.2-x86_64-dvd.iso</span><br><span class="line">  content     GOODSUM foundation-config-7.x-4.r35344.noarch.rpm</span><br><span class="line">  content     GOODSUM foundation0-config-7.x-4.r35344.noarch.rpm</span><br><span class="line">  content     GOODSUM redhat-survey-7.x-55.1.noarch.rpm</span><br><span class="line">  content     GOODSUM rhci-foundation-7.2-4.r35344.iso</span><br><span class="line">  content     GOODSUM rht-usb-7.x-4.r35344</span><br><span class="line">  content     GOODSUM ClassroomSetup-7.x-4.r35344.txt</span><br><span class="line">  content     GOODSUM ClassroomReset-7.x-4.r35344.txt</span><br><span class="line">  content     GOODSUM ClassroomTroubleshooting-7.x-4.r35344.txt</span><br><span class="line">  content     GOODSUM ClassPrep-7.x-4.r35344.txt</span><br><span class="line">  content     GOODSUM RHEL7å’ŒCentOS7æ‰“å¼€å±å¹•VNC.pdf</span><br><span class="line">=====================================================================</span><br><span class="line">WARNING  Manifest RHCIfoundation-RHEL72-4.r35344.1-ILT-7-en_US.icmf failed.</span><br><span class="line"></span><br><span class="line">WARNING  Verification FAILED - look above for problem</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@foundation0 cache]# rht-usb usbadd RHCIfoundation-RHEL72-4.r35344.1-ILT-7-en_US.icmf</span><br><span class="line">INFO     Configuration file: /root/.icrm/config.yml</span><br><span class="line">INFO     Adding to USB: RHCIfoundation-RHEL72-4.r35344.1-ILT-7-en_US.icmf</span><br><span class="line">INFO     New files needed space is 3.9G out of 3.9G</span><br><span class="line">INFO     Calculation finds we need: 4135687726 bytes (3.9G)</span><br><span class="line">INFO     USB space Total: 14.2G  Used: 35.5M  Free: 13.4G</span><br><span class="line">INFO     Starting copy of RHCIfoundation-RHEL72-4.r35344.1-ILT-7-en_US.icmf</span><br><span class="line">INFO     Copying artifact: rhel-server-7.2-x86_64-dvd.iso</span><br><span class="line">INFO     Copying /home/kiosk/booboo/cache/rhel-server-7.2-x86_64-dvd.iso (3.8G) to /tmp/tmpKRYNm9/rhel7.2/x86_64/isos/rhel-server-7.2-x86_64-dvd.iso</span><br><span class="line"></span><br><span class="line">rht-usb usbmkboot</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;çº¢å¸½å®˜æ–¹æ•™å­¦ç³»ç»Ÿ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;æ ¼å¼åŒ–uç›˜&quot;&gt;&lt;a href=&quot;#æ ¼å¼åŒ–uç›˜&quot; class=&quot;headerlink&quot; title=&quot;æ ¼å¼åŒ–uç›˜&quot;&gt;&lt;/a&gt;æ ¼å¼åŒ–uç›˜&lt;/h2&gt;&lt;figure class=&quot;hig</summary>
      
    
    
    
    <category term="æŠ€æœ¯å¹¿è§’" scheme="http://www.toberoot.com/categories/%E6%8A%80%E6%9C%AF%E5%B9%BF%E8%A7%92/"/>
    
    <category term="RedHat" scheme="http://www.toberoot.com/categories/%E6%8A%80%E6%9C%AF%E5%B9%BF%E8%A7%92/RedHat/"/>
    
    
    <category term="RedHat" scheme="http://www.toberoot.com/tags/RedHat/"/>
    
  </entry>
  
</feed>
