<!DOCTYPE html>
<html lang="en">
<head prefix="og: http://ogp.me/ns#">
  <meta charset="utf-8">
  <title>Oracle数据库12c-管理 实践8:管理空间 | BoobooWei</title>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Canonical links -->
  <link rel="canonical" href="http://www.toberoot.com/database/oracle/oracle-12c/student/1Z0-062-Oracle%E6%95%B0%E6%8D%AE%E5%BA%9312c-%E7%AE%A1%E7%90%86/08-ManagingSpace-%E7%AE%A1%E7%90%86%E7%A9%BA%E9%97%B4">
  <!-- Alternate links -->
  
    
      
    
    <link rel="alternate" hreflang="x-default" href="http://www.toberoot.com/database/oracle/oracle-12c/student/1Z0-062-Oracle%E6%95%B0%E6%8D%AE%E5%BA%9312c-%E7%AE%A1%E7%90%86/08-ManagingSpace-%E7%AE%A1%E7%90%86%E7%A9%BA%E9%97%B4" />
  
  <!-- Icon -->
  <link rel="apple-touch-icon" sizes="57x57" href="../../../../../icon/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="114x114" href="../../../../../icon/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="72x72" href="../../../../../icon/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="144x144" href="../../../../../icon/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="60x60" href="../../../../../icon/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="120x120" href="../../../../../icon/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="76x76" href="../../../../../icon/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="152x152" href="../../../../../icon/apple-touch-icon-152x152.png">
  <link rel="icon" type="image/png" href="../../../../../icon/favicon-196x196.png" sizes="196x196">
  <link rel="icon" type="image/png" href="../../../../../icon/favicon-160x160.png" sizes="160x160">
  <link rel="icon" type="image/png" href="../../../../../icon/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="../../../../../icon/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="../../../../../icon/favicon-32x32.png" sizes="32x32">
  <meta name="msapplication-TileColor" content="#2f83cd">
  <meta name="msapplication-TileImage" content="../../../../../icon/mstile-144x144.png">
  <!-- CSS -->
  <!-- build:css build/css/navy.css -->
  
<link rel="stylesheet" href="../../../../../css/navy.css">

  <!-- endbuild -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-lato@0.0.75/index.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css">
  <!-- RSS -->
  <link rel="alternate" href="../../../../../atom.xml" title="BoobooWei" type="application/atom+xml">
  <!-- Open Graph -->
  <meta name="description" content="Practices for Lesson 8: Managing Space 2020.01.29 BoobooWei    实践8:管理空间&emsp;实践8:概览&emsp;实践8-1:管理存储&emsp;&emsp;Overview&emsp;&emsp;Task&emsp;&emsp;Practice&emsp;&emsp;KnowledgePoint   实践8:概览Practices">
<meta property="og:type" content="website">
<meta property="og:title" content="Oracle数据库12c-管理 实践8:管理空间">
<meta property="og:url" content="http://www.toberoot.com/database/oracle/oracle-12c/student/1Z0-062-Oracle%E6%95%B0%E6%8D%AE%E5%BA%9312c-%E7%AE%A1%E7%90%86/08-ManagingSpace-%E7%AE%A1%E7%90%86%E7%A9%BA%E9%97%B4">
<meta property="og:site_name" content="BoobooWei">
<meta property="og:description" content="Practices for Lesson 8: Managing Space 2020.01.29 BoobooWei    实践8:管理空间&emsp;实践8:概览&emsp;实践8-1:管理存储&emsp;&emsp;Overview&emsp;&emsp;Task&emsp;&emsp;Practice&emsp;&emsp;KnowledgePoint   实践8:概览Practices">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://www.toberoot.com/icon/og-image-wide.png">
<meta property="article:published_time" content="2025-10-22T08:53:55.750Z">
<meta property="article:modified_time" content="2025-10-22T08:47:56.138Z">
<meta property="article:author" content="魏亚萍">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://www.toberoot.com/icon/twitter-summary.png">
<meta property="fb:admins" content="100000247608790">
  <!-- Google Analytics -->
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-48498357-3', 'auto');
  ga('send', 'pageview');
</script>

  <!-- Algolia -->
  <link rel="preconnect" href="https://-dsn.algolia.net" crossorigin />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3">
<meta name="generator" content="Hexo 8.0.0"></head>

<body>
  <div id="container">
    <header id="header" class="wrapper">
  <div id="header-inner" class="inner">
    <h1 id="logo-wrap">
      <a href="../../../../../" id="logo">Hexo</a>
    </h1>
    <nav id="main-nav">
      <a href="../../../../../docs/" class="main-nav-link">Hexo</a><a href="../../../../../news/" class="main-nav-link">News</a><a href="../../../../../api/" class="main-nav-link">MySQL8.0</a><a href="../../../../../database/" class="main-nav-link">Database</a><a href="../../../../../linux/" class="main-nav-link">Linux</a><a href="../../../../../cloud/" class="main-nav-link">Cloud</a><a href="../../../../../singapore/" class="main-nav-link">Singapore</a><a href="../../../../../amy/" class="main-nav-link">AMY</a><a href="../../../../../about/" class="main-nav-link">About</a>
      <a target="_blank" rel="noopener" href="https://github.com/BoobooWei" class="main-nav-link"><i class="fa fa-github-alt"></i></a>

      <div id="search-input-wrap">
        <div id="search-input-icon">
          <i class="fa fa-search"></i>
        </div>
        <input type="search" id="search-input" placeholder="Search...">
      </div>
    </nav>
    <div id="lang-select-wrap">
        <a href="/about/" class="main-nav-link"><label id="lang-select-label"><i class="fa fa-globe"></i><span>关于我</span></label></a>
    </div>
    <a id="mobile-nav-toggle">
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
    </a>
  </div>
</header>

    <div id="content-wrap">
  <div id="content" class="wrapper">
    <div id="content-inner">
      <article class="article-container" itemscope itemtype="http://schema.org/Article">
        <div class="article-inner">
          <div class="article">
            <div class="inner">
              <header class="article-header">
                <h1 class="article-title" itemprop="name">Oracle数据库12c-管理 实践8:管理空间</h1>
                <a target="_blank" rel="noopener" href="https://github.com/BoobooWei/site/edit/master/source/database/oracle/oracle-12c/student/1Z0-062-Oracle数据库12c-管理/08-ManagingSpace-管理空间.md" class="article-edit-link" title="Improve this doc"><i class="fa fa-pencil"></i></a>
              </header>
              <div class="article-content" itemprop="articleBody">
                <html><head></head><body><blockquote>
<p><strong>Practices for Lesson 8: Managing Space</strong></p>
<p>2020.01.29 BoobooWei</p>
</blockquote>
<!-- MDTOC maxdepth:6 firsth1:1 numbering:0 flatten:0 bullets:0 updateOnSave:1 -->

<p><a href="#%E5%AE%9E%E8%B7%B58%E7%AE%A1%E7%90%86%E7%A9%BA%E9%97%B4">实践8:管理空间</a><br> <a href="#%E5%AE%9E%E8%B7%B58%E6%A6%82%E8%A7%88">实践8:概览</a><br> <a href="#%E5%AE%9E%E8%B7%B58-1%E7%AE%A1%E7%90%86%E5%AD%98%E5%82%A8">实践8-1:管理存储</a><br>  <a href="#overview">Overview</a><br>  <a href="#task">Task</a><br>  <a href="#practice">Practice</a><br>  <a href="#knowledgepoint">KnowledgePoint</a></p>
<!-- /MDTOC -->

<h2 id="实践8-概览" class="article-heading"><a href="#实践8-概览" class="headerlink" title="实践8:概览"></a>实践8:概览<a class="article-anchor" href="#实践8-概览" aria-hidden="true"></a></h2><p>Practices for Lesson 8: Overview</p>
<p><strong>Background:</strong> To prepare for an upcoming merger, you want to set the warning and critical thresholds to a lower value than the default. Ensure that you receive early warnings to give you more time to react. When you finish your test case, drop the tablespace that you used.</p>
<p>背景:为了准备即将到来的合并，需要将警告和临界阈值设置为比默认值更低的值。确保你得到了早期的警告，给你更多的时间来做出反应。当您完成您的测试用例时，删除您使用的表空间。</p>
<h2 id="实践8-1-管理存储" class="article-heading"><a href="#实践8-1-管理存储" class="headerlink" title="实践8-1:管理存储"></a>实践8-1:管理存储<a class="article-anchor" href="#实践8-1-管理存储" aria-hidden="true"></a></h2><p>Practice 8-1: Managing Storage</p>
<h3 id="Overview" class="article-heading"><a href="#Overview" class="headerlink" title="Overview"></a>Overview<a class="article-anchor" href="#Overview" aria-hidden="true"></a></h3><p>In this practice you will set a tablespace fullness threshold so as to be warned when a tablespace has reached the fullness threshold tolerated.</p>
<p>在这个实践中，您将设置一个表空间的饱和阈值，以便在一个表空间达到容忍的饱和阈值时得到警告。</p>
<h3 id="Task" class="article-heading"><a href="#Task" class="headerlink" title="Task"></a>Task<a class="article-anchor" href="#Task" aria-hidden="true"></a></h3><p>Access the orcl database as the SYS user (with the oracle_4U password, connect as SYSDBA) and perform the necessary tasks through Enterprise Manager Cloud Control or through SQL*Plus. All scripts for this practice are in the $LABS/P8 directory.</p>
<ol>
<li><p>Using the DBMS_SERVER_ALERT.SET_THRESHOLD procedure, reset the database-wide threshold values for the Tablespace Space Usage metric. Connect to a SQL*Plus session and execute the following procedure.</p>
</li>
<li><p>From your SQL*Plus session, check the database-wide threshold values for the Tablespace Space Usage metric by using the following command (output formatted for clarity):</p>
</li>
<li><p>Create a new tablespace called TBSALERT with a 120 MB file called tbsalert.dbf. Make sure that this tablespace is locally managed and uses Automatic Segment Space Management. Do <em>not</em> make it auto-extensible, and do <em>not</em> specify any thresholds for this tablespace.</p>
</li>
<li><p>In Enterprise Manager Cloud Control, navigate to the orcl database home page. Then Select <strong>Administration</strong> &gt; <strong>Storage</strong> &gt; <strong>Tablespaces</strong>.</p>
</li>
<li><p>Select the <strong>New</strong> radio button. Enter <strong>SYS</strong> in the Username field, <strong>oracle_4U</strong> in the Password field, and choose <strong>SYSDBA</strong> in the Role field. Then click <strong>Login</strong>.</p>
</li>
<li><p>Change the Tablespace Space Usage thresholds of the TBSALERT tablespace. Set its warning level to 55 percent and its critical level to 70 percent.</p>
</li>
<li><p>Return to your SQLPlus session and check the new threshold values for the TBSALERT tablespace. In your SQLPlus session, enter (output formatted):</p>
</li>
<li><p>In your SQL<em>Plus session, query the REASON and RESOLUTION columns from DBA_ALERT_HISTORY for the TBSALERT tablespace. Exit from SQL</em>Plus.</p>
</li>
<li><p>Review and execute the <strong>$LABS/P8/seg_advsr_setup.sh</strong> script that creates and populates new tables in the TBSALERT tablespace.</p>
</li>
<li><p>Check the fullness level of the TBSALERT tablespace by using Enterprise Manager Cloud Control or SQL*Plus. The current level should be around 60 percent. Wait a few minutes and check that the warning level is reached for the TBSALERT tablespace. (*If you are too fast and receive errors, just use your browser’s Refresh button, or select your destination again.)*</p>
</li>
<li><p>In your SQL<em>Plus session, execute the inserts below to add more data to TBSALERT. Wait a few moments and view the critical level through a query in SQL</em>Plus and Enterprise Manager Cloud Control. Verify that TBSALERT fullness is around 75 percent.</p>
</li>
<li><p>In your SQL<em>Plus session, execute the following delete statements to delete rows from tables in TBSALERT. These statements will take several minutes to complete. Then exit your SQL</em>Plus session.</p>
</li>
<li><p>Now, run the Segment Advisor for the TBSALERT tablespace in Enterprise Manager Cloud Control. Make sure that you run the Advisor in Comprehensive mode without time limitation. Accept and implement its recommendations. After the recommendations have been implemented, check whether the fullness level of TBSALERT is below 55 percent.</p>
</li>
<li><p>Wait a few minutes and check that there are no outstanding alerts for the TBSALERT tablespace. Navigate to the <strong>Oracle Database</strong> &gt; <strong>Monitoring</strong> &gt; <strong>Incident Manager</strong> &gt; <strong>Events without incidents</strong>.</p>
</li>
<li><p>Retrieve the history of the TBSALERT Tablespace Space Usage metric for the last 24 hours.</p>
</li>
<li><p>Verify that the TBSALERT tablespace fullness has decreased below the threshold because space has been reclaimed. In Enterprise Manager Cloud Control, navigate to <strong>Administration</strong> &gt; <strong>Storage</strong> &gt; <strong>Tablespaces</strong>.</p>
</li>
<li><p>Log in to SQL<em>Plus as the SYS user. In SQL</em>Plus, reset the TBSALERT tablespace Tablespace Space Usage metric. Exit from SQL*Plus.</p>
</li>
<li><p><strong>Note: This is a mandatory cleanup step</strong>. Review, and then execute the seg_advsr_cleanup.sh script in the $LABS/P8 directory to drop your TBSALERT tablespace.</p>
</li>
</ol>
<h3 id="Practice" class="article-heading"><a href="#Practice" class="headerlink" title="Practice"></a>Practice<a class="article-anchor" href="#Practice" aria-hidden="true"></a></h3><p>作为<code>SYS</code>用户访问数据库，并通过<code>Enterprise Manager Cloud Control</code>或<code>SQL*Plus</code>执行必要的任务。这个实践的所有脚本都在<code>$LABS/P8</code>目录中。</p>
<ol>
<li><p>调用存储过程<code>DBMS_SERVER_ALERT.SET_THRESHOLD</code>，为表空间使用度量重置数据库范围的阈值。连接到一个SQL*Plus会话并执行以下过程:</p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">cd $LABS<span class="operator">/</span>P8</span><br><span class="line">sqlplus <span class="operator">/</span> <span class="keyword">as</span> sysdba</span><br><span class="line">conn sys<span class="operator">/</span>oracle<span class="variable">@booboopdb1</span> <span class="keyword">as</span> sysdba</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">DBMS_SERVER_ALERT.SET_THRESHOLD(</span><br><span class="line"> metrics_id<span class="operator">=</span><span class="operator">&gt;</span>dbms_server_alert.tablespace_pct_full,</span><br><span class="line"> warning_operator<span class="operator">=</span><span class="operator">&gt;</span><span class="keyword">NULL</span>,</span><br><span class="line"> warning_value<span class="operator">=</span><span class="operator">&gt;</span><span class="keyword">NULL</span>,</span><br><span class="line"> critical_operator<span class="operator">=</span><span class="operator">&gt;</span><span class="keyword">NULL</span>,</span><br><span class="line"> critical_value<span class="operator">=</span><span class="operator">&gt;</span><span class="keyword">NULL</span>,</span><br><span class="line"> observation_period<span class="operator">=</span><span class="operator">&gt;</span><span class="number">1</span>,</span><br><span class="line"> consecutive_occurrences<span class="operator">=</span><span class="operator">&gt;</span><span class="number">1</span>,</span><br><span class="line"> INSTANCE_NAME<span class="operator">=</span><span class="operator">&gt;</span><span class="keyword">NULL</span>,</span><br><span class="line"> object_type<span class="operator">=</span><span class="operator">&gt;</span>dbms_server_alert.object_type_tablespace,</span><br><span class="line"> object_name<span class="operator">=</span><span class="operator">&gt;</span><span class="keyword">NULL</span>);</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"><span class="operator">/</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>在SQL*Plus会话中，使用以下命令检查表空间使用度量的数据库范围阈值(为清晰起见，输出格式化):</p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> dba_thresholds <span class="keyword">where</span> object_name <span class="keyword">is</span> <span class="keyword">null</span>;</span><br></pre></td></tr></tbody></table></figure>

<p>查询结果：默认 <code>warnning：85%；critical：97%</code></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">SYS<span class="variable">@booboo</span><span class="operator">&gt;</span><span class="keyword">exec</span> print_table(<span class="string">'select * from dba_thresholds where object_name is null'</span>);</span><br><span class="line">METRICS_NAME		      : Tablespace Space Usage</span><br><span class="line">WARNING_OPERATOR	      : GE</span><br><span class="line">WARNING_VALUE		      : <span class="number">85</span></span><br><span class="line">CRITICAL_OPERATOR	      : GE</span><br><span class="line">CRITICAL_VALUE		      : <span class="number">97</span></span><br><span class="line">OBSERVATION_PERIOD	      : <span class="number">1</span></span><br><span class="line">CONSECUTIVE_OCCURRENCES       : <span class="number">1</span></span><br><span class="line">INSTANCE_NAME		      : database_wide</span><br><span class="line">OBJECT_TYPE		      : TABLESPACE</span><br><span class="line">OBJECT_NAME		      :</span><br><span class="line">STATUS			      : VALID</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>使用名为<code>tbsalert.dbf</code>的120 MB文件创建一个名为<code>TBSALERT</code>的新表空间。确保这个表空间是本地管理的，并使用自动段空间管理。不能自动扩展，不要为这个表空间指定任何阈值。</p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> TABLESPACE tbsalert</span><br><span class="line">	DATAFILE <span class="string">'/u01/app/oracle/oradata/booboo/booboopdb1/tbsalert.dbf'</span></span><br><span class="line">	SIZE <span class="number">120</span>M REUSE LOGGING EXTENT MANAGEMENT <span class="keyword">LOCAL</span></span><br><span class="line">	SEGMENT SPACE MANAGEMENT AUTO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> autoextensible <span class="keyword">FROM</span> dba_data_files</span><br><span class="line">	<span class="keyword">WHERE</span> tablespace_name<span class="operator">=</span><span class="string">'TBSALERT'</span>;</span><br></pre></td></tr></tbody></table></figure>

<p>执行结果为<code>NO</code>，说明该表空间文件不会自动增长。</p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">AUT</span><br><span class="line"><span class="comment">---</span></span><br><span class="line"><span class="keyword">NO</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>登陆企业云管理 Enterprise Manager Cloud Control,访问 booboopdb1数据库的网页，然后选择 管理&gt;存储&gt;表空间。</p>
</li>
<li><p>输入用户名密码登陆<code>sys/oracle as sysdba</code></p>
</li>
<li><p>点击表空间 TBSALERT，编辑该表空间，设置它的警告值为55%，严重级别为70%。</p>
</li>
<li><p>返回SQL*Plus，检查新的阈值配置是否已经生效:</p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">SYS<span class="variable">@booboo</span><span class="operator">&gt;</span>conn sys<span class="operator">/</span>oracle<span class="variable">@booboopdb1</span> <span class="keyword">as</span> sysdba</span><br><span class="line">Connected.</span><br><span class="line">SYS<span class="variable">@booboopdb1</span><span class="operator">&gt;</span><span class="keyword">exec</span> print_table(q<span class="string">'[select * from dba_thresholds where object_name='</span>TBSALERT<span class="string">']'</span>);</span><br><span class="line">METRICS_NAME		      : Tablespace Space Usage</span><br><span class="line">WARNING_OPERATOR	      : GE</span><br><span class="line">WARNING_VALUE		      : <span class="number">55</span></span><br><span class="line">CRITICAL_OPERATOR	      : GE</span><br><span class="line">CRITICAL_VALUE		      : <span class="number">70</span></span><br><span class="line">OBSERVATION_PERIOD	      : <span class="number">2</span></span><br><span class="line">CONSECUTIVE_OCCURRENCES       : <span class="number">1</span></span><br><span class="line">INSTANCE_NAME		      : database_wide</span><br><span class="line">OBJECT_TYPE		      : TABLESPACE</span><br><span class="line">OBJECT_NAME		      : TBSALERT</span><br><span class="line">STATUS			      : VALID</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>在SQL*Plus会话中，从<code>DBA_ALERT_HISTORY</code>中查询<code>TBSALERT</code>表空间的<code>REASON</code> 和 <code>RESOLUTION</code>列。</p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> REASON,RESOLUTION <span class="keyword">from</span> DBA_ALERT_HISTORY <span class="keyword">where</span> object_name <span class="operator">=</span> <span class="string">'TBSALERT'</span>;</span><br></pre></td></tr></tbody></table></figure>

<p>执行结果：</p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">SYS<span class="variable">@booboopdb1</span><span class="operator">&gt;</span><span class="keyword">exec</span> print_table(q<span class="string">'[select REASON,RESOLUTION from DBA_ALERT_HISTORY where object_name = '</span>TBSALERT<span class="string">']'</span>)</span><br><span class="line">REASON			      : Threshold <span class="keyword">is</span> updated <span class="keyword">on</span> metrics "Tablespace Space Usage"</span><br><span class="line">RESOLUTION		      : cleared</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>执行<code>$LABS/P8/seg_advsr_setup.sh</code>脚本，在<code>TBSALERT</code>表空间中创建和填充新表。</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">LAB=/home/oracle/labs</span><br><span class="line"><span class="comment"># 根据自己的pdb连接方式修改脚本</span></span><br><span class="line">vim <span class="variable">$LAB</span>/P8/seg_advsr_setup.sh</span><br><span class="line">sqlplus / as sysdba &lt;&lt; <span class="string">EOF</span></span><br><span class="line"><span class="string">alter system set disk_asynch_io = FALSE scope = spfile;</span></span><br><span class="line"><span class="string">shutdown immediate</span></span><br><span class="line"><span class="string">startup</span></span><br><span class="line"><span class="string">show parameter disk_asynch_io;</span></span><br><span class="line"><span class="string">exit;</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 批量建表和插入数据</span></span><br><span class="line">vim <span class="variable">$LAB</span>/P8/seg_advsr_setup02.sh</span><br><span class="line">sqlplus / as sysdba &lt;&lt; <span class="string">EOF</span></span><br><span class="line"><span class="string">connect sys/oracle@booboopdb1 as sysdba</span></span><br><span class="line"><span class="string">set echo on</span></span><br><span class="line"><span class="string">create table employees1 tablespace tbsalert as select * from hr.employees;</span></span><br><span class="line"><span class="string">create table employees2 tablespace tbsalert as select * from hr.employees;</span></span><br><span class="line"><span class="string">create table employees3 tablespace tbsalert as select * from hr.employees;</span></span><br><span class="line"><span class="string">create table employees4 tablespace tbsalert as select * from hr.employees;</span></span><br><span class="line"><span class="string">create table employees5 tablespace tbsalert as select * from hr.employees;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">alter table employees1 enable row movement;</span></span><br><span class="line"><span class="string">alter table employees2 enable row movement;</span></span><br><span class="line"><span class="string">alter table employees3 enable row movement;</span></span><br><span class="line"><span class="string">alter table employees4 enable row movement;</span></span><br><span class="line"><span class="string">alter table employees5 enable row movement;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">BEGIN</span></span><br><span class="line"><span class="string">FOR i in 1..10 LOOP</span></span><br><span class="line"><span class="string">   insert into employees1 select * from employees1;</span></span><br><span class="line"><span class="string">   insert into employees2 select * from employees2;</span></span><br><span class="line"><span class="string">   insert into employees3 select * from employees3;</span></span><br><span class="line"><span class="string">   insert into employees4 select * from employees4;</span></span><br><span class="line"><span class="string">   insert into employees5 select * from employees5;</span></span><br><span class="line"><span class="string">   commit;</span></span><br><span class="line"><span class="string"> END LOOP;</span></span><br><span class="line"><span class="string">END;</span></span><br><span class="line"><span class="string">/</span></span><br><span class="line"><span class="string">insert into employees1 select * from employees1;</span></span><br><span class="line"><span class="string">insert into employees2 select * from employees2;</span></span><br><span class="line"><span class="string">insert into employees3 select * from employees3;</span></span><br><span class="line"><span class="string">commit;</span></span><br><span class="line"><span class="string">exit;</span></span><br><span class="line"><span class="string">EOF</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>使用Enterprise Manager Cloud Control或<code>SQL*Plus</code>检查<code>TBSALERT</code>表空间的填充级别。目前的水平应该在<code>60%</code>左右。等待几分钟，检查<code>TBSALERT</code>表空间是否达到警告级别。</p>
</li>
</ol>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">--使用sql查询表空间使用占比，其中125829120 为表空间总大小</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">sum</span>(bytes) <span class="operator">*</span><span class="number">100</span> <span class="operator">/</span><span class="number">125829120</span> <span class="keyword">from</span> dba_extents <span class="keyword">where</span> tablespace_name<span class="operator">=</span><span class="string">'TBSALERT'</span>;</span><br><span class="line"><span class="comment">--查询指定表空间的总大小</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    tablespace_name, <span class="built_in">sum</span>(bytes)</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">    dba_data_files</span><br><span class="line"><span class="keyword">where</span> tablespace_name<span class="operator">=</span><span class="string">'TBSALERT'</span></span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> tablespace_name;</span><br><span class="line"><span class="comment">--查询每个表空间的总大小，使用占比，空闲占比</span></span><br><span class="line"><span class="keyword">select</span> t1.tablespace_name,t1.tablespace_total_bytes,t2.tablespace_used_bytes,</span><br><span class="line">t1.tablespace_total_bytes <span class="operator">-</span> t2.tablespace_used_bytes tablespace_free_bytes,</span><br><span class="line">t2.tablespace_used_bytes <span class="operator">/</span> t1.tablespace_total_bytes tablespace_used_ratio,</span><br><span class="line">(t1.tablespace_total_bytes <span class="operator">-</span> t2.tablespace_used_bytes) <span class="operator">/</span> t1.tablespace_total_bytes tablespace_free_ratio</span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">(<span class="keyword">SELECT</span> tablespace_name, <span class="built_in">sum</span>(bytes) tablespace_total_bytes</span><br><span class="line"><span class="keyword">FROM</span> dba_data_files <span class="keyword">group</span> <span class="keyword">by</span> tablespace_name) t1</span><br><span class="line"><span class="keyword">join</span></span><br><span class="line">(<span class="keyword">select</span> tablespace_name, <span class="built_in">sum</span>(bytes) tablespace_used_bytes <span class="keyword">from</span> dba_extents <span class="keyword">group</span> <span class="keyword">by</span> tablespace_name) t2</span><br><span class="line"><span class="keyword">on</span> t1.tablespace_name <span class="operator">=</span> t2.tablespace_name;</span><br></pre></td></tr></tbody></table></figure>

<p>执行结果</p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">SYS<span class="variable">@booboopdb1</span><span class="operator">&gt;</span><span class="keyword">select</span> <span class="built_in">sum</span>(bytes) <span class="operator">*</span><span class="number">100</span> <span class="operator">/</span><span class="number">125829120</span> <span class="keyword">from</span> dba_extents <span class="keyword">where</span> tablespace_name<span class="operator">=</span><span class="string">'TBSALERT'</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">SUM</span>(BYTES)<span class="operator">*</span><span class="number">100</span><span class="operator">/</span><span class="number">125829120</span></span><br><span class="line"><span class="comment">------------------------</span></span><br><span class="line">		      <span class="number">60</span></span><br></pre></td></tr></tbody></table></figure>

<pre><code>查看告警记录

<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> reason <span class="keyword">from</span> dba_outstanding_alerts <span class="keyword">where</span> object_name<span class="operator">=</span><span class="string">'TBSALERT'</span>;</span><br></pre></td></tr></tbody></table></figure>
</code></pre>
<ol start="11">
<li><p>在您的<code>SQL*Plus</code>会话中，执行以下插入以向<code>TBSALERT</code>添加更多数据。稍等片刻，通过<code>SQL*Plus</code>和Enterprise Manager Cloud Control中的查询查看临界级别。确认TBSALERT使用率应该在<code>75%</code>左右。</p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">--执行插入</span></span><br><span class="line"><span class="keyword">insert into</span> employees4 <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employees4;</span><br><span class="line"><span class="keyword">commit</span>;</span><br><span class="line"><span class="keyword">insert into</span> employees5 <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employees5;</span><br><span class="line"><span class="keyword">commit</span>;</span><br><span class="line"><span class="comment">--查看表空间占比</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">sum</span>(bytes) <span class="operator">*</span><span class="number">100</span> <span class="operator">/</span><span class="number">125829120</span> <span class="keyword">from</span> dba_extents <span class="keyword">where</span> tablespace_name<span class="operator">=</span><span class="string">'TBSALERT'</span>;</span><br><span class="line"><span class="comment">--查看告警记录</span></span><br><span class="line"><span class="keyword">select</span> reason <span class="keyword">from</span> dba_outstanding_alerts <span class="keyword">where</span> object_name<span class="operator">=</span><span class="string">'TBSALERT'</span>;</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>在<code>SQL*Plus</code>会话中，执行以下<code>delete</code>语句来删除<code>TBSALERT</code>表中的行。这些陈述需要几分钟才能完成。然后退出<code>SQL*Plus</code>会话。</p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">delete</span> employees1;</span><br><span class="line"><span class="keyword">commit</span>;</span><br><span class="line"><span class="keyword">delete</span> employees2;</span><br><span class="line"><span class="keyword">commit</span>;</span><br><span class="line"><span class="keyword">delete</span> employees3;</span><br><span class="line"><span class="keyword">commit</span>;</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>在Enterprise Manager Cloud Control中运行<code>TBSALERT</code>表空间的<code>Segment Advisor</code>。确保您在不受时间限制的综合模式下运行Advisor工具。接受并执行其建议。建议实施后，检查<code>TBSALERT</code>的使用率是否低于<code>55%</code>。</p>
</li>
<li><p>等待几分钟，检查<code>TBSALERT</code>表空间没有未完成的警报。导航到<strong>Oracle数据库</strong> &gt; <strong>监控</strong> &gt; <strong>意外事件管理器</strong> &gt; <strong>无事件事件</strong> 。</p>
</li>
<li><p>检索<code>TBSALERT</code>表空间使用度量在过去24小时内的历史记录。</p>
</li>
<li><p>验证<code>TBSALERT</code>表空间的使用率已降低到阈值以下，因为空间已被回收。在企业管理云控制中，导航到<strong>管理</strong> &gt; <strong>存储</strong> &gt; <strong>表空间</strong>。</p>
</li>
<li><p>作为<code>SYS</code>用户登录到<code>SQL*Plus</code>。在SQL*Plus中，重置TBSALERT表空间使用度量，退出。</p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">EXEC</span> DBMS_SERVER_ALERT.SET_THRESHOLD(<span class="number">9000</span>,<span class="keyword">NULL</span>,<span class="keyword">NULL</span>,<span class="keyword">NULL</span>,<span class="keyword">NULL</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="keyword">NULL</span>,<span class="number">5</span>,<span class="string">'TBSALERT'</span>)</span><br><span class="line"><span class="keyword">SELECT</span> warning_value,critical_value</span><br><span class="line"><span class="keyword">FROM</span>	dba_thresholds</span><br><span class="line"><span class="keyword">WHERE</span> metrics_name<span class="operator">=</span><span class="string">'Tablespace Space Usage'</span></span><br><span class="line"><span class="keyword">AND</span>	object_name<span class="operator">=</span><span class="string">'TBSALERT'</span>;</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p><strong>注意:这是一个强制性的清理步骤</strong>。检查，然后执行脚本<code>$LABS/P8/seg_advsr_cleanup.sh</code>来删除<code>TBSALERT</code>表空间。</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">$ <span class="built_in">cat</span> seg_advsr_cleanup.sh</span><br><span class="line"><span class="comment">#!/bin/sh</span></span><br><span class="line"><span class="comment"># For training only, execute as oracle OS user</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sqlplus /nolog &lt;&lt;<span class="string">EOF</span></span><br><span class="line"><span class="string">connect / as sysdba</span></span><br><span class="line"><span class="string">alter system set disk_asynch_io = TRUE scope = spfile;</span></span><br><span class="line"><span class="string">shutdown immediate;</span></span><br><span class="line"><span class="string">startup</span></span><br><span class="line"><span class="string">alter session set container=booboopdb1;</span></span><br><span class="line"><span class="string">drop tablespace tbsalert including contents and datafiles;</span></span><br><span class="line"><span class="string">exit</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></li>
</ol>
<h3 id="KnowledgePoint" class="article-heading"><a href="#KnowledgePoint" class="headerlink" title="KnowledgePoint"></a>KnowledgePoint<a class="article-anchor" href="#KnowledgePoint" aria-hidden="true"></a></h3><ol>
<li>调用存储过程DBMS_SERVER_ALERT.SET_THRESHOLD设置告警</li>
<li>通过企业云管理的图形化界面来设置告警</li>
</ol>
</body></html>
              </div>
              <footer class="article-footer">
                <time class="article-footer-updated" datetime="2025-10-22T08:47:56.138Z" itemprop="dateModified">Last updated: 2025-10-22</time>
                <a href="/database/mysql/index.html" class="article-footer-next" title="概览"><span>Next</span><i class="fa fa-chevron-right"></i></a>
              </footer>
              
            </div>
          </div>
          <aside id="article-toc" role="navigation">
            <div id="article-toc-inner">
              <div id="carbonads" class="carbonads" style="text-align:center;font-family:'Noto Sans SC',sans-serif;">
  <span class="carbon-wrap">
    <a href="https://github.com/booboowei"
       class="carbon-img"
       target="_blank"
       rel="noopener sponsored">
      <img
        src="https://avatars2.githubusercontent.com/u/21328020?s=460&u=88cf6127c32932188f936d05636b7b0d36783ee1&v=4"
        alt="ads via Carbon"
        border="0"
        style="width:80px;height:80px;border-radius:50%;max-width:130px;"
      />
    </a>
    <a href="/about/"
       class="carbon-text"
       target="_blank"
       rel="noopener sponsored"
       style="display:block;margin-top:4px;">
      欢迎光临
    </a>
  </span>

  <!-- 日期显示 -->
  <div id="today-date" style="margin-top:12px;background:#f5f5f5;border-radius:12px;padding:10px 0;">
    <div id="weekday" style="font-size:14px;color:#555;"></div>
    <div id="day" style="font-size:36px;font-weight:bold;color:#000;"></div>
    <div id="ym" style="font-size:14px;color:#555;"></div>
    <div id="lunar" style="font-size:13px;color:#888;margin-top:4px;"></div>
  </div>

<script>
(function(){
  const now = new Date();
  const weekdays = ["星期日","星期一","星期二","星期三","星期四","星期五","星期六"];
  const year = now.getFullYear();
  const month = now.getMonth() + 1;
  const day = now.getDate();

  function toChineseNumber(num) {
    const map = {0:'〇',1:'一',2:'二',3:'三',4:'四',5:'五',6:'六',7:'七',8:'八',9:'九'};
    return String(num).split('').map(n=>map[n]).join('');
  }

  // 优先使用 Intl (现代浏览器支持农历/中国传统历)
  function getLunarByIntl(date) {
    try {
      // 获取农历的月（长格式，如 "九月" 或 "闰八月"），和日（数字）
      const monthFormatter = new Intl.DateTimeFormat('zh-CN-u-ca-chinese', { month: 'long' });
      const dayFormatter = new Intl.DateTimeFormat('zh-CN-u-ca-chinese', { day: 'numeric' });
      const lunarMonthText = monthFormatter.format(date); // 例如 "九月" 或 "闰八月"
      const lunarDayText = dayFormatter.format(date);     // 例如 "三十" 或 "初一"
      // 有的浏览器返回的 month 会包含 "闰" 字样，也可能返回汉字月份，需要适配
      return `农历${lunarMonthText}${lunarDayText}`;
    } catch (e) {
      return null; // 表示不支持 Intl 农历
    }
  }

  // 回退：简易本地农历算法（仅作兼容，适用于1900-2049范围）
  const lunarInfo = [0x04bd8,0x04ae0,0x0a570,0x054d5,0x0d260,0x0d950,0x16554,0x056a0,0x09ad0,0x055d2,
                     0x04ae0,0x0a5b6,0x0a4d0,0x0d250,0x1d255,0x0b540,0x0d6a0,0x0ada2,0x095b0,0x14977,
                     0x04970,0x0a4b0,0x0b4b5,0x06a50,0x06d40,0x1ab54,0x02b60,0x09570,0x052f2,0x04970,
                     0x06566,0x0d4a0,0x0ea50,0x06e95,0x05ad0,0x02b60,0x186e3,0x092e0,0x1c8d7,0x0c950,
                     0x0d4a0,0x1d8a6,0x0b550,0x056a0,0x1a5b4,0x025d0,0x092d0,0x0d2b2,0x0a950,0x0b557,
                     0x06ca0,0x0b550,0x15355,0x04da0,0x0a5b0,0x14573,0x052b0,0x0a9a8,0x0e950,0x06aa0,
                     0x0aea6,0x0ab50,0x04b60,0x0aae4,0x0a570,0x05260,0x0f263,0x0d950,0x05b57,0x056a0,
                     0x096d0,0x04dd5,0x04ad0,0x0a4d0,0x0d4d4,0x0d250,0x0d558,0x0b540,0x0b5a0,0x195a6,
                     0x095b0,0x049b0,0x0a974,0x0a4b0,0x0b27a,0x06a50,0x06d40,0x0af46,0x0ab60,0x09570,
                     0x04af5,0x04970,0x064b0,0x074a3,0x0ea50,0x06b58,0x05ac0,0x0ab60,0x096d5,0x092e0];

  function lYearDays(y){let i,sum=348;for(i=0x8000;i>0x8;i>>=1)sum+=(lunarInfo[y-1900]&i)?1:0;return sum+leapDays(y);}
  function leapDays(y){if(leapMonth(y))return(lunarInfo[y-1900]&0x10000)?30:29;else return 0;}
  function leapMonth(y){return lunarInfo[y-1900]&0xf;}
  function monthDays(y,m){return(lunarInfo[y-1900]&(0x10000>>m))?30:29;}

  function LunarFallback(objDate){
    let i, leap=0, temp=0;
    const baseDate = new Date(1900,0,31);
    let offset = Math.floor((objDate - baseDate) / 86400000);
    let year = 1900;
    // 年循环
    for (i = 1900; i < 2050 && offset > 0; i++) {
      temp = lYearDays(i);
      offset -= temp;
      year = i;
    }
    if (offset < 0) { offset += temp; year--; }
    leap = leapMonth(year);
    let isLeap = false;
    let month = 1;
    // 月循环
    for (i = 1; i <= 12 && offset > 0; i++) {
      if (leap > 0 && i === (leap + 1) && !isLeap) {
        // 进入闰月
        temp = leapDays(year);
        isLeap = true;
        i--; // stay on same month number but mark leap
      } else {
        temp = monthDays(year, i);
      }
      offset -= temp;
      if (isLeap && i === leap) { isLeap = false; }
      if (!isLeap) month++; // 非闰月时才推进月份计数
    }
    if (offset === 0 && leap > 0 && month === leap + 1) {
      // 特殊：当正好落在闰月第一天
      // month 保持，isLeap = true
    }
    if (offset < 0) { offset += temp; month--; }
    const day = offset + 1;
    // 修正 month 边界
    if (month <= 0) month = 1;
    return { year, month, day, isLeap: !!isLeap };
  }

  function getLunarDateStringFallback(y,m,d){
    const cDay=["","初一","初二","初三","初四","初五","初六","初七","初八","初九","初十",
                "十一","十二","十三","十四","十五","十六","十七","十八","十九","二十",
                "廿一","廿二","廿三","廿四","廿五","廿六","廿七","廿八","廿九","三十"];
    const cMon=["","正月","二月","三月","四月","五月","六月","七月","八月","九月","十月","冬月","腊月"];
    const lunar = LunarFallback(new Date(y, m-1, d));
    return `农历${lunar.isLeap ? '闰' : ''}${cMon[lunar.month]}${cDay[lunar.day]}`;
  }

  // 先尝试 Intl 方法
  let lunarText = getLunarByIntl(now);
  if (!lunarText) {
    // 回退本地算法
    lunarText = getLunarDateStringFallback(year, month, day);
  }

  // 输出到页面（公历 + 农历）
  document.getElementById("weekday").textContent = weekdays[now.getDay()];
  document.getElementById("day").textContent = day;
  document.getElementById("ym").textContent = `${toChineseNumber(year)}年${toChineseNumber(month)}月`;
  document.getElementById("lunar").textContent = lunarText;
})();
</script>


              <strong class="sidebar-title">Contents</strong>
              <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E8%B7%B58-%E6%A6%82%E8%A7%88"><span class="toc-text">实践8:概览</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E8%B7%B58-1-%E7%AE%A1%E7%90%86%E5%AD%98%E5%82%A8"><span class="toc-text">实践8-1:管理存储</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Overview"><span class="toc-text">Overview</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Task"><span class="toc-text">Task</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Practice"><span class="toc-text">Practice</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#KnowledgePoint"><span class="toc-text">KnowledgePoint</span></a></li></ol></li></ol>
              <a href="#" id="article-toc-top">Back to Top</a>
            </div>
          </aside>
        </div>
      </article>
      <aside id="sidebar" role="navigation">
  <div class="inner">
    <strong class="sidebar-title">MySQL</strong><a href="/database/mysql/index.html" class="sidebar-link">概览</a><a href="/database/mysql/booboo_mysql/index.html" class="sidebar-link">MySQL 基础</a><a href="/database/mysql/dba_mysql/index.html" class="sidebar-link">MySQL 运维实践</a><a href="/database/mysql/rds_mysql/index.html" class="sidebar-link">RDS 性能调优</a><a href="/database/mysql/security/index.html" class="sidebar-link">安全篇</a><a href="/database/mysql/awesome-tools/index.html" class="sidebar-link">工具篇</a><strong class="sidebar-title">Oracle</strong><a href="/database/oracle/index.html" class="sidebar-link">概览</a><a href="/database/oracle/ocp/index.html" class="sidebar-link">Oracle12C OCP</a><a href="/database/oracle/oracle-12c/index.html" class="sidebar-link">Oracle 12c 学习笔记</a><a href="/database/oracle/oracle-11g/index.html" class="sidebar-link">Oracle 11g 学习笔记</a><strong class="sidebar-title">NoSQL</strong><a href="/database/nosql/index.html" class="sidebar-link">概览</a><a href="/database/nosql/booboo_redis/index.html" class="sidebar-link">Redis 基础</a><a href="/database/nosql/dba_redis/index.html" class="sidebar-link">Redis 进阶</a><a href="/database/nosql/booboo_mongodb/index.html" class="sidebar-link">MongoDB 基础</a><a href="/database/nosql/hadoop/index.html" class="sidebar-link">Hadoop 基础</a><strong class="sidebar-title">TiDB</strong><a href="/database/tidb/index.html" class="sidebar-link">概览</a><a href="/database/tidb/00_tidb入门指南.html" class="sidebar-link">TiDB 入门指南</a><a href="/database/tidb/01_raft协议理解.html" class="sidebar-link">Raft协议理解</a><a href="/database/tidb/tidb_courses/index.html" class="sidebar-link">TiDB 21天课程</a>
  </div>
</aside>
    </div>
  </div>
</div>

    <footer id="footer" class="wrapper">
  <div class="inner">
    <div id="footer-copyright">
      &copy; 2025 <a href="https://github.com/BoobooWei" target="_blank">魏亚萍</a><br>
      Documentation licensed under <a href="http://creativecommons.org/licenses/by/4.0/" target="_blank">CC BY 4.0</a>.<br>
      备案号：沪ICP备2020026043号
    </div>
    <div id="footer-links">
      <a href="https://www.youtube.com/@amyreading2023" class="footer-link" target="_blank">
        <img src="https://upload.wikimedia.org/wikipedia/commons/b/b8/YouTube_Logo_2017.svg" 
            alt="YouTube"
            style="height:24px; margin-bottom:-6px;">
      </a>
      <a href="https://github.com/BoobooWei" class="footer-link" target="_blank"><i class="fa fa-github-alt"></i></a>
    </div>
  </div>
</footer>

  </div>
  <div id="mobile-nav-dimmer"></div>
  <nav id="mobile-nav">
  <div id="mobile-nav-inner">
    <ul id="mobile-nav-list">
      <a href="../../../../../docs/" class="mobile-nav-link">Hexo</a><a href="../../../../../news/" class="mobile-nav-link">News</a><a href="../../../../../api/" class="mobile-nav-link">MySQL8.0</a><a href="../../../../../database/" class="mobile-nav-link">Database</a><a href="../../../../../linux/" class="mobile-nav-link">Linux</a><a href="../../../../../cloud/" class="mobile-nav-link">Cloud</a><a href="../../../../../singapore/" class="mobile-nav-link">Singapore</a><a href="../../../../../amy/" class="mobile-nav-link">AMY</a><a href="../../../../../about/" class="mobile-nav-link">About</a>
      <li class="mobile-nav-item">
        <a href="https://github.com/BoobooWei" class="mobile-nav-link" rel="external" target="_blank">GitHub</a>
      </li>
    </ul>
    
      <strong class="mobile-nav-title">MySQL</strong><a href="/database/mysql/index.html" class="mobile-nav-link">概览</a><a href="/database/mysql/booboo_mysql/index.html" class="mobile-nav-link">MySQL 基础</a><a href="/database/mysql/dba_mysql/index.html" class="mobile-nav-link">MySQL 运维实践</a><a href="/database/mysql/rds_mysql/index.html" class="mobile-nav-link">RDS 性能调优</a><a href="/database/mysql/security/index.html" class="mobile-nav-link">安全篇</a><a href="/database/mysql/awesome-tools/index.html" class="mobile-nav-link">工具篇</a><strong class="mobile-nav-title">Oracle</strong><a href="/database/oracle/index.html" class="mobile-nav-link">概览</a><a href="/database/oracle/ocp/index.html" class="mobile-nav-link">Oracle12C OCP</a><a href="/database/oracle/oracle-12c/index.html" class="mobile-nav-link">Oracle 12c 学习笔记</a><a href="/database/oracle/oracle-11g/index.html" class="mobile-nav-link">Oracle 11g 学习笔记</a><strong class="mobile-nav-title">NoSQL</strong><a href="/database/nosql/index.html" class="mobile-nav-link">概览</a><a href="/database/nosql/booboo_redis/index.html" class="mobile-nav-link">Redis 基础</a><a href="/database/nosql/dba_redis/index.html" class="mobile-nav-link">Redis 进阶</a><a href="/database/nosql/booboo_mongodb/index.html" class="mobile-nav-link">MongoDB 基础</a><a href="/database/nosql/hadoop/index.html" class="mobile-nav-link">Hadoop 基础</a><strong class="mobile-nav-title">TiDB</strong><a href="/database/tidb/index.html" class="mobile-nav-link">概览</a><a href="/database/tidb/00_tidb入门指南.html" class="mobile-nav-link">TiDB 入门指南</a><a href="/database/tidb/01_raft协议理解.html" class="mobile-nav-link">Raft协议理解</a><a href="/database/tidb/tidb_courses/index.html" class="mobile-nav-link">TiDB 21天课程</a>
    
  </div>
  <div id="mobile-lang-select-wrap">
    <span id="mobile-lang-select-label"><i class="fa fa-globe"></i><span>English</span></span>
    <select id="mobile-lang-select" data-canonical="">
      
        <option value="en" selected>English</option>
      
    </select>
  </div>
</nav>
  <!-- Scripts -->
<!-- Cookie -->
<script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>
<!-- build:js build/js/main.js -->

<script src="../../../../../js/lang_select.js"></script>


<script src="../../../../../js/mobile_nav.js"></script>

<!-- endbuild -->

<!-- Algolia -->
<!--   backup
<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
<script type="text/javascript">
docsearch({
  appId: '',
  apiKey: '',
  indexName: '',
  insights: true,
  container: '#docsearch',
  debug: false,
  searchParameters: {
    facetFilters: ['lang:en']
  }
});
</script>
-->

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript">
document.getElementById('search-input-wrap').classList.add('on');
docsearch({
    apiKey: '',
    indexName: '',
    inputSelector: '#search-input'
});
</script>
</body>
</html>